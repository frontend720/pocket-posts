{
  "version": 3,
  "sources": ["../../media-chrome/dist/constants.js", "../../media-chrome/dist/utils/element-utils.js", "../../media-chrome/dist/utils/server-safe-globals.js", "../../media-chrome/dist/media-gesture-receiver.js", "../../media-chrome/dist/utils/resize-observer.js", "../../media-chrome/dist/lang/en.js", "../../media-chrome/dist/utils/i18n.js", "../../media-chrome/dist/media-container.js", "../../media-chrome/dist/utils/attribute-token-list.js", "../../media-chrome/dist/utils/utils.js", "../../media-chrome/dist/utils/captions.js", "../../media-chrome/dist/utils/fullscreen-api.js", "../../media-chrome/dist/utils/platform-tests.js", "../../media-chrome/dist/media-store/util.js", "../../media-chrome/dist/media-store/state-mediator.js", "../../media-chrome/dist/media-store/request-map.js", "../../media-chrome/dist/media-store/media-store.js", "../../media-chrome/dist/media-controller.js", "../../media-chrome/dist/media-tooltip.js", "../../media-chrome/dist/media-chrome-button.js", "../../media-chrome/dist/media-airplay-button.js", "../../media-chrome/dist/media-captions-button.js", "../../media-chrome/dist/media-cast-button.js", "../../media-chrome/dist/media-chrome-dialog.js", "../../media-chrome/dist/media-chrome-range.js", "../../media-chrome/dist/media-control-bar.js", "../../media-chrome/dist/media-text-display.js", "../../media-chrome/dist/utils/time.js", "../../media-chrome/dist/media-duration-display.js", "../../media-chrome/dist/labels/labels.js", "../../media-chrome/dist/media-error-dialog.js", "../../media-chrome/dist/media-fullscreen-button.js", "../../media-chrome/dist/media-live-button.js", "../../media-chrome/dist/media-loading-indicator.js", "../../media-chrome/dist/media-mute-button.js", "../../media-chrome/dist/media-pip-button.js", "../../media-chrome/dist/media-playback-rate-button.js", "../../media-chrome/dist/media-play-button.js", "../../media-chrome/dist/media-poster-image.js", "../../media-chrome/dist/media-preview-chapter-display.js", "../../media-chrome/dist/media-preview-thumbnail.js", "../../media-chrome/dist/media-preview-time-display.js", "../../media-chrome/dist/media-seek-backward-button.js", "../../media-chrome/dist/media-seek-forward-button.js", "../../media-chrome/dist/media-time-display.js", "../../media-chrome/dist/utils/range-animation.js", "../../media-chrome/dist/media-time-range.js", "../../media-chrome/dist/media-volume-range.js"],
  "sourcesContent": ["const MediaUIEvents = {\n  MEDIA_PLAY_REQUEST: \"mediaplayrequest\",\n  MEDIA_PAUSE_REQUEST: \"mediapauserequest\",\n  MEDIA_MUTE_REQUEST: \"mediamuterequest\",\n  MEDIA_UNMUTE_REQUEST: \"mediaunmuterequest\",\n  MEDIA_VOLUME_REQUEST: \"mediavolumerequest\",\n  MEDIA_SEEK_REQUEST: \"mediaseekrequest\",\n  MEDIA_AIRPLAY_REQUEST: \"mediaairplayrequest\",\n  MEDIA_ENTER_FULLSCREEN_REQUEST: \"mediaenterfullscreenrequest\",\n  MEDIA_EXIT_FULLSCREEN_REQUEST: \"mediaexitfullscreenrequest\",\n  MEDIA_PREVIEW_REQUEST: \"mediapreviewrequest\",\n  MEDIA_ENTER_PIP_REQUEST: \"mediaenterpiprequest\",\n  MEDIA_EXIT_PIP_REQUEST: \"mediaexitpiprequest\",\n  MEDIA_ENTER_CAST_REQUEST: \"mediaentercastrequest\",\n  MEDIA_EXIT_CAST_REQUEST: \"mediaexitcastrequest\",\n  MEDIA_SHOW_TEXT_TRACKS_REQUEST: \"mediashowtexttracksrequest\",\n  MEDIA_HIDE_TEXT_TRACKS_REQUEST: \"mediahidetexttracksrequest\",\n  MEDIA_SHOW_SUBTITLES_REQUEST: \"mediashowsubtitlesrequest\",\n  MEDIA_DISABLE_SUBTITLES_REQUEST: \"mediadisablesubtitlesrequest\",\n  MEDIA_TOGGLE_SUBTITLES_REQUEST: \"mediatogglesubtitlesrequest\",\n  MEDIA_PLAYBACK_RATE_REQUEST: \"mediaplaybackraterequest\",\n  MEDIA_RENDITION_REQUEST: \"mediarenditionrequest\",\n  MEDIA_AUDIO_TRACK_REQUEST: \"mediaaudiotrackrequest\",\n  MEDIA_SEEK_TO_LIVE_REQUEST: \"mediaseektoliverequest\",\n  REGISTER_MEDIA_STATE_RECEIVER: \"registermediastatereceiver\",\n  UNREGISTER_MEDIA_STATE_RECEIVER: \"unregistermediastatereceiver\"\n};\nconst MediaStateReceiverAttributes = {\n  MEDIA_CHROME_ATTRIBUTES: \"mediachromeattributes\",\n  MEDIA_CONTROLLER: \"mediacontroller\"\n};\nconst MediaUIProps = {\n  MEDIA_AIRPLAY_UNAVAILABLE: \"mediaAirplayUnavailable\",\n  MEDIA_AUDIO_TRACK_ENABLED: \"mediaAudioTrackEnabled\",\n  MEDIA_AUDIO_TRACK_LIST: \"mediaAudioTrackList\",\n  MEDIA_AUDIO_TRACK_UNAVAILABLE: \"mediaAudioTrackUnavailable\",\n  MEDIA_BUFFERED: \"mediaBuffered\",\n  MEDIA_CAST_UNAVAILABLE: \"mediaCastUnavailable\",\n  MEDIA_CHAPTERS_CUES: \"mediaChaptersCues\",\n  MEDIA_CURRENT_TIME: \"mediaCurrentTime\",\n  MEDIA_DURATION: \"mediaDuration\",\n  MEDIA_ENDED: \"mediaEnded\",\n  MEDIA_ERROR: \"mediaError\",\n  MEDIA_ERROR_CODE: \"mediaErrorCode\",\n  MEDIA_ERROR_MESSAGE: \"mediaErrorMessage\",\n  MEDIA_FULLSCREEN_UNAVAILABLE: \"mediaFullscreenUnavailable\",\n  MEDIA_HAS_PLAYED: \"mediaHasPlayed\",\n  MEDIA_HEIGHT: \"mediaHeight\",\n  MEDIA_IS_AIRPLAYING: \"mediaIsAirplaying\",\n  MEDIA_IS_CASTING: \"mediaIsCasting\",\n  MEDIA_IS_FULLSCREEN: \"mediaIsFullscreen\",\n  MEDIA_IS_PIP: \"mediaIsPip\",\n  MEDIA_LOADING: \"mediaLoading\",\n  MEDIA_MUTED: \"mediaMuted\",\n  MEDIA_PAUSED: \"mediaPaused\",\n  MEDIA_PIP_UNAVAILABLE: \"mediaPipUnavailable\",\n  MEDIA_PLAYBACK_RATE: \"mediaPlaybackRate\",\n  MEDIA_PREVIEW_CHAPTER: \"mediaPreviewChapter\",\n  MEDIA_PREVIEW_COORDS: \"mediaPreviewCoords\",\n  MEDIA_PREVIEW_IMAGE: \"mediaPreviewImage\",\n  MEDIA_PREVIEW_TIME: \"mediaPreviewTime\",\n  MEDIA_RENDITION_LIST: \"mediaRenditionList\",\n  MEDIA_RENDITION_SELECTED: \"mediaRenditionSelected\",\n  MEDIA_RENDITION_UNAVAILABLE: \"mediaRenditionUnavailable\",\n  MEDIA_SEEKABLE: \"mediaSeekable\",\n  MEDIA_STREAM_TYPE: \"mediaStreamType\",\n  MEDIA_SUBTITLES_LIST: \"mediaSubtitlesList\",\n  MEDIA_SUBTITLES_SHOWING: \"mediaSubtitlesShowing\",\n  MEDIA_TARGET_LIVE_WINDOW: \"mediaTargetLiveWindow\",\n  MEDIA_TIME_IS_LIVE: \"mediaTimeIsLive\",\n  MEDIA_VOLUME: \"mediaVolume\",\n  MEDIA_VOLUME_LEVEL: \"mediaVolumeLevel\",\n  MEDIA_VOLUME_UNAVAILABLE: \"mediaVolumeUnavailable\",\n  MEDIA_LANG: \"mediaLang\",\n  MEDIA_WIDTH: \"mediaWidth\"\n};\nconst MediaUIPropsEntries = Object.entries(\n  MediaUIProps\n);\nconst MediaUIAttributes = MediaUIPropsEntries.reduce(\n  (dictObj, [key, propName]) => {\n    dictObj[key] = propName.toLowerCase();\n    return dictObj;\n  },\n  {}\n);\nconst AdditionalStateChangeEvents = {\n  USER_INACTIVE_CHANGE: \"userinactivechange\",\n  BREAKPOINTS_CHANGE: \"breakpointchange\",\n  BREAKPOINTS_COMPUTED: \"breakpointscomputed\"\n};\nconst MediaStateChangeEvents = MediaUIPropsEntries.reduce(\n  (dictObj, [key, propName]) => {\n    dictObj[key] = propName.toLowerCase();\n    return dictObj;\n  },\n  { ...AdditionalStateChangeEvents }\n);\nconst StateChangeEventToAttributeMap = Object.entries(\n  MediaStateChangeEvents\n).reduce(\n  (mapObj, [key, eventType]) => {\n    const attrName = MediaUIAttributes[key];\n    if (attrName) {\n      mapObj[eventType] = attrName;\n    }\n    return mapObj;\n  },\n  { userinactivechange: \"userinactive\" }\n);\nconst AttributeToStateChangeEventMap = Object.entries(\n  MediaUIAttributes\n).reduce(\n  (mapObj, [key, attrName]) => {\n    const evtType = MediaStateChangeEvents[key];\n    if (evtType) {\n      mapObj[attrName] = evtType;\n    }\n    return mapObj;\n  },\n  { userinactive: \"userinactivechange\" }\n);\nconst TextTrackKinds = {\n  SUBTITLES: \"subtitles\",\n  CAPTIONS: \"captions\",\n  DESCRIPTIONS: \"descriptions\",\n  CHAPTERS: \"chapters\",\n  METADATA: \"metadata\"\n};\nconst TextTrackModes = {\n  DISABLED: \"disabled\",\n  HIDDEN: \"hidden\",\n  SHOWING: \"showing\"\n};\nconst ReadyStates = {\n  HAVE_NOTHING: 0,\n  HAVE_METADATA: 1,\n  HAVE_CURRENT_DATA: 2,\n  HAVE_FUTURE_DATA: 3,\n  HAVE_ENOUGH_DATA: 4\n};\nconst PointerTypes = {\n  MOUSE: \"mouse\",\n  PEN: \"pen\",\n  TOUCH: \"touch\"\n};\nconst AvailabilityStates = {\n  UNAVAILABLE: \"unavailable\",\n  UNSUPPORTED: \"unsupported\"\n};\nconst StreamTypes = {\n  LIVE: \"live\",\n  ON_DEMAND: \"on-demand\",\n  UNKNOWN: \"unknown\"\n};\nconst VolumeLevels = {\n  HIGH: \"high\",\n  MEDIUM: \"medium\",\n  LOW: \"low\",\n  OFF: \"off\"\n};\nconst WebkitPresentationModes = {\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\",\n  PICTURE_IN_PICTURE: \"picture-in-picture\"\n};\nexport {\n  AttributeToStateChangeEventMap,\n  AvailabilityStates,\n  MediaStateChangeEvents,\n  MediaStateReceiverAttributes,\n  MediaUIAttributes,\n  MediaUIEvents,\n  MediaUIProps,\n  PointerTypes,\n  ReadyStates,\n  StateChangeEventToAttributeMap,\n  StreamTypes,\n  TextTrackKinds,\n  TextTrackModes,\n  VolumeLevels,\n  WebkitPresentationModes\n};\n", "import { MediaStateReceiverAttributes } from \"../constants.js\";\nfunction namedNodeMapToObject(namedNodeMap) {\n  const obj = {};\n  for (const attr of namedNodeMap) {\n    obj[attr.name] = attr.value;\n  }\n  return obj;\n}\nfunction getMediaController(host) {\n  var _a;\n  return (_a = getAttributeMediaController(host)) != null ? _a : closestComposedNode(host, \"media-controller\");\n}\nfunction getAttributeMediaController(host) {\n  var _a;\n  const { MEDIA_CONTROLLER } = MediaStateReceiverAttributes;\n  const mediaControllerId = host.getAttribute(MEDIA_CONTROLLER);\n  if (mediaControllerId) {\n    return (_a = getDocumentOrShadowRoot(host)) == null ? void 0 : _a.getElementById(\n      mediaControllerId\n    );\n  }\n}\nconst updateIconText = (svg, value, selector = \".value\") => {\n  const node = svg.querySelector(selector);\n  if (!node)\n    return;\n  node.textContent = value;\n};\nconst getAllSlotted = (el, name) => {\n  const slotSelector = `slot[name=\"${name}\"]`;\n  const slot = el.shadowRoot.querySelector(slotSelector);\n  if (!slot)\n    return [];\n  return slot.children;\n};\nconst getSlotted = (el, name) => getAllSlotted(el, name)[0];\nconst containsComposedNode = (rootNode, childNode) => {\n  if (!rootNode || !childNode)\n    return false;\n  if (rootNode == null ? void 0 : rootNode.contains(childNode))\n    return true;\n  return containsComposedNode(\n    rootNode,\n    childNode.getRootNode().host\n  );\n};\nconst closestComposedNode = (childNode, selector) => {\n  if (!childNode)\n    return null;\n  const closest = childNode.closest(selector);\n  if (closest)\n    return closest;\n  return closestComposedNode(\n    childNode.getRootNode().host,\n    selector\n  );\n};\nfunction getActiveElement(root = document) {\n  var _a;\n  const activeEl = root == null ? void 0 : root.activeElement;\n  if (!activeEl)\n    return null;\n  return (_a = getActiveElement(activeEl.shadowRoot)) != null ? _a : activeEl;\n}\nfunction getDocumentOrShadowRoot(node) {\n  var _a;\n  const rootNode = (_a = node == null ? void 0 : node.getRootNode) == null ? void 0 : _a.call(node);\n  if (rootNode instanceof ShadowRoot || rootNode instanceof Document) {\n    return rootNode;\n  }\n  return null;\n}\nfunction isElementVisible(element, { depth = 3, checkOpacity = true, checkVisibilityCSS = true } = {}) {\n  if (element.checkVisibility) {\n    return element.checkVisibility({\n      checkOpacity,\n      checkVisibilityCSS\n    });\n  }\n  let el = element;\n  while (el && depth > 0) {\n    const style = getComputedStyle(el);\n    if (checkOpacity && style.opacity === \"0\" || checkVisibilityCSS && style.visibility === \"hidden\" || style.display === \"none\") {\n      return false;\n    }\n    el = el.parentElement;\n    depth--;\n  }\n  return true;\n}\nfunction getPointProgressOnLine(x, y, p1, p2) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  const lengthSquared = dx * dx + dy * dy;\n  if (lengthSquared === 0)\n    return 0;\n  const projection = ((x - p1.x) * dx + (y - p1.y) * dy) / lengthSquared;\n  return Math.max(0, Math.min(1, projection));\n}\nfunction distance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\nfunction getOrInsertCSSRule(styleParent, selectorText) {\n  const cssRule = getCSSRule(styleParent, (st) => st === selectorText);\n  if (cssRule)\n    return cssRule;\n  return insertCSSRule(styleParent, selectorText);\n}\nfunction getCSSRule(styleParent, predicate) {\n  var _a, _b;\n  let style;\n  for (style of (_a = styleParent.querySelectorAll(\"style:not([media])\")) != null ? _a : []) {\n    let cssRules;\n    try {\n      cssRules = (_b = style.sheet) == null ? void 0 : _b.cssRules;\n    } catch {\n      continue;\n    }\n    for (const rule of cssRules != null ? cssRules : []) {\n      if (predicate(rule.selectorText))\n        return rule;\n    }\n  }\n}\nfunction insertCSSRule(styleParent, selectorText) {\n  var _a, _b;\n  const styles = (_a = styleParent.querySelectorAll(\"style:not([media])\")) != null ? _a : [];\n  const style = styles == null ? void 0 : styles[styles.length - 1];\n  if (!(style == null ? void 0 : style.sheet)) {\n    console.warn(\n      \"Media Chrome: No style sheet found on style tag of\",\n      styleParent\n    );\n    return {\n      // @ts-ignore\n      style: {\n        setProperty: () => {\n        },\n        removeProperty: () => \"\",\n        getPropertyValue: () => \"\"\n      }\n    };\n  }\n  style == null ? void 0 : style.sheet.insertRule(`${selectorText}{}`, style.sheet.cssRules.length);\n  return (\n    /** @type {CSSStyleRule} */\n    (_b = style.sheet.cssRules) == null ? void 0 : _b[style.sheet.cssRules.length - 1]\n  );\n}\nfunction getNumericAttr(el, attrName, defaultValue = Number.NaN) {\n  const attrVal = el.getAttribute(attrName);\n  return attrVal != null ? +attrVal : defaultValue;\n}\nfunction setNumericAttr(el, attrName, value) {\n  const nextNumericValue = +value;\n  if (value == null || Number.isNaN(nextNumericValue)) {\n    if (el.hasAttribute(attrName)) {\n      el.removeAttribute(attrName);\n    }\n    return;\n  }\n  if (getNumericAttr(el, attrName, void 0) === nextNumericValue)\n    return;\n  el.setAttribute(attrName, `${nextNumericValue}`);\n}\nfunction getBooleanAttr(el, attrName) {\n  return el.hasAttribute(attrName);\n}\nfunction setBooleanAttr(el, attrName, value) {\n  if (value == null) {\n    if (el.hasAttribute(attrName)) {\n      el.removeAttribute(attrName);\n    }\n    return;\n  }\n  if (getBooleanAttr(el, attrName) == value)\n    return;\n  el.toggleAttribute(attrName, value);\n}\nfunction getStringAttr(el, attrName, defaultValue = null) {\n  var _a;\n  return (_a = el.getAttribute(attrName)) != null ? _a : defaultValue;\n}\nfunction setStringAttr(el, attrName, value) {\n  if (value == null) {\n    if (el.hasAttribute(attrName)) {\n      el.removeAttribute(attrName);\n    }\n    return;\n  }\n  const nextValue = `${value}`;\n  if (getStringAttr(el, attrName, void 0) === nextValue)\n    return;\n  el.setAttribute(attrName, nextValue);\n}\nexport {\n  closestComposedNode,\n  containsComposedNode,\n  distance,\n  getActiveElement,\n  getAllSlotted,\n  getAttributeMediaController,\n  getBooleanAttr,\n  getCSSRule,\n  getDocumentOrShadowRoot,\n  getMediaController,\n  getNumericAttr,\n  getOrInsertCSSRule,\n  getPointProgressOnLine,\n  getSlotted,\n  getStringAttr,\n  insertCSSRule,\n  isElementVisible,\n  namedNodeMapToObject,\n  setBooleanAttr,\n  setNumericAttr,\n  setStringAttr,\n  updateIconText\n};\n", "class EventTarget {\n  addEventListener() {\n  }\n  removeEventListener() {\n  }\n  dispatchEvent() {\n    return true;\n  }\n}\nclass Node extends EventTarget {\n}\nclass Element extends Node {\n  constructor() {\n    super(...arguments);\n    this.role = null;\n  }\n}\nclass ResizeObserver {\n  observe() {\n  }\n  unobserve() {\n  }\n  disconnect() {\n  }\n}\nconst documentShim = {\n  createElement: function() {\n    return new globalThisShim.HTMLElement();\n  },\n  createElementNS: function() {\n    return new globalThisShim.HTMLElement();\n  },\n  addEventListener() {\n  },\n  removeEventListener() {\n  },\n  dispatchEvent(_event) {\n    return false;\n  }\n};\nconst globalThisShim = {\n  ResizeObserver,\n  document: documentShim,\n  Node,\n  Element,\n  HTMLElement: class HTMLElement extends Element {\n    constructor() {\n      super(...arguments);\n      this.innerHTML = \"\";\n    }\n    get content() {\n      return new globalThisShim.DocumentFragment();\n    }\n  },\n  DocumentFragment: class DocumentFragment extends EventTarget {\n  },\n  customElements: {\n    get: function() {\n    },\n    define: function() {\n    },\n    whenDefined: function() {\n    }\n  },\n  localStorage: {\n    getItem(_key) {\n      return null;\n    },\n    setItem(_key, _value) {\n    },\n    removeItem(_key) {\n    }\n  },\n  CustomEvent: function CustomEvent() {\n  },\n  getComputedStyle: function() {\n  },\n  navigator: {\n    languages: [],\n    get userAgent() {\n      return \"\";\n    }\n  },\n  matchMedia(media) {\n    return {\n      matches: false,\n      media\n    };\n  },\n  DOMParser: class DOMParser {\n    parseFromString(string, _contentType) {\n      return {\n        body: {\n          textContent: string\n        }\n      };\n    }\n  }\n};\nconst isServer = typeof window === \"undefined\" || typeof window.customElements === \"undefined\";\nconst isShimmed = Object.keys(globalThisShim).every((key) => key in globalThis);\nconst GlobalThis = isServer && !isShimmed ? globalThisShim : globalThis;\nconst Document = isServer && !isShimmed ? documentShim : globalThis.document;\nexport {\n  Document,\n  GlobalThis,\n  Document as document,\n  GlobalThis as globalThis,\n  isServer\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport {\n  MediaUIAttributes,\n  MediaUIEvents,\n  MediaStateReceiverAttributes,\n  PointerTypes\n} from \"./constants.js\";\nimport {\n  closestComposedNode,\n  getBooleanAttr,\n  namedNodeMapToObject,\n  setBooleanAttr\n} from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));\n        box-sizing: border-box;\n      }\n    </style>\n  `\n  );\n}\nclass MediaGestureReceiver extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  // NOTE: Currently \"baking in\" actions + attrs until we come up with\n  // a more robust architecture (CJP)\n  static get observedAttributes() {\n    return [\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER,\n      MediaUIAttributes.MEDIA_PAUSED\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  connectedCallback() {\n    var _a, _b, _c, _d;\n    this.tabIndex = -1;\n    this.setAttribute(\"aria-hidden\", \"true\");\n    __privateSet(this, _mediaController, getMediaControllerEl(this));\n    if (this.getAttribute(MediaStateReceiverAttributes.MEDIA_CONTROLLER)) {\n      (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.associateElement) == null ? void 0 : _b.call(_a, this);\n    }\n    (_c = __privateGet(this, _mediaController)) == null ? void 0 : _c.addEventListener(\"pointerdown\", this);\n    (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.addEventListener(\"click\", this);\n  }\n  disconnectedCallback() {\n    var _a, _b, _c, _d;\n    if (this.getAttribute(MediaStateReceiverAttributes.MEDIA_CONTROLLER)) {\n      (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    }\n    (_c = __privateGet(this, _mediaController)) == null ? void 0 : _c.removeEventListener(\"pointerdown\", this);\n    (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.removeEventListener(\"click\", this);\n    __privateSet(this, _mediaController, null);\n  }\n  handleEvent(event) {\n    var _a;\n    const composedTarget = (_a = event.composedPath()) == null ? void 0 : _a[0];\n    const allowList = [\"video\", \"media-controller\"];\n    if (!allowList.includes(composedTarget == null ? void 0 : composedTarget.localName))\n      return;\n    if (event.type === \"pointerdown\") {\n      this._pointerType = event.pointerType;\n    } else if (event.type === \"click\") {\n      const { clientX, clientY } = event;\n      const { left, top, width, height } = this.getBoundingClientRect();\n      const x = clientX - left;\n      const y = clientY - top;\n      if (x < 0 || y < 0 || x > width || y > height || // In case this element has no dimensions (or display: none) return.\n      width === 0 && height === 0) {\n        return;\n      }\n      const pointerType = this._pointerType || \"mouse\";\n      this._pointerType = void 0;\n      if (pointerType === PointerTypes.TOUCH) {\n        this.handleTap(event);\n        return;\n      } else if (pointerType === PointerTypes.MOUSE) {\n        this.handleMouseClick(event);\n        return;\n      }\n    }\n  }\n  /**\n   * @type {boolean} Is the media paused\n   */\n  get mediaPaused() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED);\n  }\n  set mediaPaused(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED, value);\n  }\n  // NOTE: Currently \"baking in\" actions + attrs until we come up with\n  // a more robust architecture (CJP)\n  /**\n   * @abstract\n   * @argument {Event} e\n   */\n  handleTap(e) {\n  }\n  // eslint-disable-line\n  // eslint-disable-next-line\n  handleMouseClick(e) {\n    const eventName = this.mediaPaused ? MediaUIEvents.MEDIA_PLAY_REQUEST : MediaUIEvents.MEDIA_PAUSE_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\n_mediaController = new WeakMap();\nMediaGestureReceiver.shadowRootOptions = { mode: \"open\" };\nMediaGestureReceiver.getTemplateHTML = getTemplateHTML;\nfunction getMediaControllerEl(controlEl) {\n  var _a;\n  const mediaControllerId = controlEl.getAttribute(\n    MediaStateReceiverAttributes.MEDIA_CONTROLLER\n  );\n  if (mediaControllerId) {\n    return (_a = controlEl.getRootNode()) == null ? void 0 : _a.getElementById(mediaControllerId);\n  }\n  return closestComposedNode(controlEl, \"media-controller\");\n}\nif (!globalThis.customElements.get(\"media-gesture-receiver\")) {\n  globalThis.customElements.define(\n    \"media-gesture-receiver\",\n    MediaGestureReceiver\n  );\n}\nvar media_gesture_receiver_default = MediaGestureReceiver;\nexport {\n  media_gesture_receiver_default as default\n};\n", "import { globalThis } from \"./server-safe-globals.js\";\nconst callbacksMap = /* @__PURE__ */ new WeakMap();\nconst getCallbacks = (element) => {\n  let callbacks = callbacksMap.get(element);\n  if (!callbacks)\n    callbacksMap.set(element, callbacks = /* @__PURE__ */ new Set());\n  return callbacks;\n};\nconst observer = new globalThis.ResizeObserver(\n  (entries) => {\n    for (const entry of entries) {\n      for (const callback of getCallbacks(entry.target)) {\n        callback(entry);\n      }\n    }\n  }\n);\nfunction observeResize(element, callback) {\n  getCallbacks(element).add(callback);\n  observer.observe(element);\n}\nfunction unobserveResize(element, callback) {\n  const callbacks = getCallbacks(element);\n  callbacks.delete(callback);\n  if (!callbacks.size) {\n    observer.unobserve(element);\n  }\n}\nexport {\n  observeResize,\n  unobserveResize\n};\n", "const En = {\n  \"Start airplay\": \"Start airplay\",\n  \"Stop airplay\": \"Stop airplay\",\n  Audio: \"Audio\",\n  Captions: \"Captions\",\n  \"Enable captions\": \"Enable captions\",\n  \"Disable captions\": \"Disable captions\",\n  \"Start casting\": \"Start casting\",\n  \"Stop casting\": \"Stop casting\",\n  \"Enter fullscreen mode\": \"Enter fullscreen mode\",\n  \"Exit fullscreen mode\": \"Exit fullscreen mode\",\n  Mute: \"Mute\",\n  Unmute: \"Unmute\",\n  \"Enter picture in picture mode\": \"Enter picture in picture mode\",\n  \"Exit picture in picture mode\": \"Exit picture in picture mode\",\n  Play: \"Play\",\n  Pause: \"Pause\",\n  \"Playback rate\": \"Playback rate\",\n  \"Playback rate {playbackRate}\": \"Playback rate {playbackRate}\",\n  Quality: \"Quality\",\n  \"Seek backward\": \"Seek backward\",\n  \"Seek forward\": \"Seek forward\",\n  Settings: \"Settings\",\n  Auto: \"Auto\",\n  \"audio player\": \"audio player\",\n  \"video player\": \"video player\",\n  volume: \"volume\",\n  seek: \"seek\",\n  \"closed captions\": \"closed captions\",\n  \"current playback rate\": \"current playback rate\",\n  \"playback time\": \"playback time\",\n  \"media loading\": \"media loading\",\n  settings: \"settings\",\n  \"audio tracks\": \"audio tracks\",\n  quality: \"quality\",\n  play: \"play\",\n  pause: \"pause\",\n  mute: \"mute\",\n  unmute: \"unmute\",\n  \"chapter: {chapterName}\": \"chapter: {chapterName}\",\n  live: \"live\",\n  Off: \"Off\",\n  \"start airplay\": \"start airplay\",\n  \"stop airplay\": \"stop airplay\",\n  \"start casting\": \"start casting\",\n  \"stop casting\": \"stop casting\",\n  \"enter fullscreen mode\": \"enter fullscreen mode\",\n  \"exit fullscreen mode\": \"exit fullscreen mode\",\n  \"enter picture in picture mode\": \"enter picture in picture mode\",\n  \"exit picture in picture mode\": \"exit picture in picture mode\",\n  \"seek to live\": \"seek to live\",\n  \"playing live\": \"playing live\",\n  \"seek back {seekOffset} seconds\": \"seek back {seekOffset} seconds\",\n  \"seek forward {seekOffset} seconds\": \"seek forward {seekOffset} seconds\",\n  \"Network Error\": \"Network Error\",\n  \"Decode Error\": \"Decode Error\",\n  \"Source Not Supported\": \"Source Not Supported\",\n  \"Encryption Error\": \"Encryption Error\",\n  \"A network error caused the media download to fail.\": \"A network error caused the media download to fail.\",\n  \"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.\": \"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.\",\n  \"An unsupported error occurred. The server or network failed, or your browser does not support this format.\": \"An unsupported error occurred. The server or network failed, or your browser does not support this format.\",\n  \"The media is encrypted and there are no keys to decrypt it.\": \"The media is encrypted and there are no keys to decrypt it.\"\n};\nexport {\n  En\n};\n", "var _a;\nimport { En } from \"../lang/en.js\";\nconst translations = {\n  en: En\n};\nlet currentLang = ((_a = globalThis.navigator) == null ? void 0 : _a.language) || \"en\";\nconst setLanguage = (langCode) => {\n  currentLang = langCode;\n};\nconst addTranslation = (lang, languageDictionary) => {\n  translations[lang] = languageDictionary;\n};\nconst resolveTranslation = (key) => {\n  var _a2, _b, _c;\n  const [base] = currentLang.split(\"-\");\n  return ((_a2 = translations[currentLang]) == null ? void 0 : _a2[key]) || ((_b = translations[base]) == null ? void 0 : _b[key]) || ((_c = translations.en) == null ? void 0 : _c[key]) || key;\n};\nconst t = (key, vars = {}) => resolveTranslation(key).replace(\n  /\\{(\\w+)\\}/g,\n  (_, v) => v in vars ? String(vars[v]) : `{${v}}`\n);\nexport {\n  addTranslation,\n  setLanguage,\n  t\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pointerDownTimeStamp, _currentMedia, _inactiveTimeout, _autohide, _mutationObserver, _handleMutation, handleMutation_fn, _isResizePending, _handleResize, _handlePointerMove, handlePointerMove_fn, _handlePointerUp, handlePointerUp_fn, _setInactive, setInactive_fn, _setActive, setActive_fn, _scheduleInactive, scheduleInactive_fn;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaStateChangeEvents } from \"./constants.js\";\nimport { observeResize, unobserveResize } from \"./utils/resize-observer.js\";\nimport \"./media-gesture-receiver.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getStringAttr,\n  namedNodeMapToObject,\n  setBooleanAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport MediaGestureReceiver from \"./media-gesture-receiver.js\";\nconst Attributes = {\n  AUDIO: \"audio\",\n  AUTOHIDE: \"autohide\",\n  BREAKPOINTS: \"breakpoints\",\n  GESTURES_DISABLED: \"gesturesdisabled\",\n  KEYBOARD_CONTROL: \"keyboardcontrol\",\n  NO_AUTOHIDE: \"noautohide\",\n  USER_INACTIVE: \"userinactive\",\n  AUTOHIDE_OVER_CONTROLS: \"autohideovercontrols\"\n};\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      ${/*\n    * outline on media is turned off because it is allowed to get focus to faciliate hotkeys.\n    * However, on keyboard interactions, the focus outline is shown,\n    * which is particularly noticeable when going fullscreen via hotkeys.\n    */\n    \"\"}\n      :host([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {\n        outline: none;\n      }\n\n      :host {\n        box-sizing: border-box;\n        position: relative;\n        display: inline-block;\n        line-height: 0;\n        background-color: var(--media-background-color, #000);\n      }\n\n      :host(:not([${Attributes.AUDIO}])) [part~=layer]:not([part~=media-layer]) {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        display: flex;\n        flex-flow: column nowrap;\n        align-items: start;\n        pointer-events: none;\n        background: none;\n      }\n\n      slot[name=media] {\n        display: var(--media-slot-display, contents);\n      }\n\n      ${/*\n    * when in audio mode, hide the slotted media element by default\n    */\n    \"\"}\n      :host([${Attributes.AUDIO}]) slot[name=media] {\n        display: var(--media-slot-display, none);\n      }\n\n      ${/*\n    * when in audio mode, hide the gesture-layer which causes media-controller to be taller than the control bar\n    */\n    \"\"}\n      :host([${Attributes.AUDIO}]) [part~=layer][part~=gesture-layer] {\n        height: 0;\n        display: block;\n      }\n\n      ${/*\n    * if gestures are disabled, don't accept pointer-events\n    */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),\n          :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {\n        display: none;\n      }\n\n      ${/*\n    * any slotted element that isn't a poster or media slot should be pointer-events auto\n    * we'll want to add here any slotted elements that shouldn't get pointer-events by default when slotted\n    */\n    \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {\n        pointer-events: auto;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) *[part~=layer][part~=centered-layer] {\n        align-items: center;\n        justify-content: center;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),\n      :host(:not([${Attributes.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {\n        align-self: stretch;\n        flex-grow: 1;\n      }\n\n      slot[name=middle-chrome] {\n        display: inline;\n        flex-grow: 1;\n        pointer-events: none;\n        background: none;\n      }\n\n      ${/* Position the media and poster elements to fill the container */\n    \"\"}\n      ::slotted([slot=media]),\n      ::slotted([slot=poster]) {\n        width: 100%;\n        height: 100%;\n      }\n\n      ${/* Video specific styles */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])) .spacer {\n        flex-grow: 1;\n      }\n\n      ${/* Safari needs this to actually make the element fill the window */\n    \"\"}\n      :host(:-webkit-full-screen) {\n        ${/* Needs to use !important otherwise easy to break */\n    \"\"}\n        width: 100% !important;\n        height: 100% !important;\n      }\n\n      ${/* Only add these if auto hide is not disabled */\n    \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {\n        opacity: 1;\n        transition: var(--media-control-transition-in, opacity 0.25s);\n      }\n\n      ${/* Hide controls when inactive, not paused, not audio and auto hide not disabled */\n    \"\"}\n      :host([${Attributes.USER_INACTIVE}]:not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([role=dialog])) {\n        opacity: 0;\n        transition: var(--media-control-transition-out, opacity 1s);\n      }\n\n      :host([${Attributes.USER_INACTIVE}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted([slot=media]) {\n        cursor: none;\n      }\n\n      :host([${Attributes.USER_INACTIVE}][${Attributes.AUTOHIDE_OVER_CONTROLS}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) * {\n        --media-cursor: none;\n        cursor: none;\n      }\n\n\n      ::slotted(media-control-bar)  {\n        align-self: stretch;\n      }\n\n      ${/* ::slotted([slot=poster]) doesn't work for slot fallback content so hide parent slot instead */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])[${MediaUIAttributes.MEDIA_HAS_PLAYED}]) slot[name=poster] {\n        display: none;\n      }\n\n      ::slotted([role=dialog]) {\n        width: 100%;\n        height: 100%;\n        align-self: center;\n      }\n\n      ::slotted([role=menu]) {\n        align-self: end;\n      }\n    </style>\n\n    <slot name=\"media\" part=\"layer media-layer\"></slot>\n    <slot name=\"poster\" part=\"layer poster-layer\"></slot>\n    <slot name=\"gestures-chrome\" part=\"layer gesture-layer\">\n      <media-gesture-receiver slot=\"gestures-chrome\">\n        <template shadowrootmode=\"${MediaGestureReceiver.shadowRootOptions.mode}\">\n          ${MediaGestureReceiver.getTemplateHTML({})}\n        </template>\n      </media-gesture-receiver>\n    </slot>\n    <span part=\"layer vertical-layer\">\n      <slot name=\"top-chrome\" part=\"top chrome\"></slot>\n      <slot name=\"middle-chrome\" part=\"middle chrome\"></slot>\n      <slot name=\"centered-chrome\" part=\"layer centered-layer center centered chrome\"></slot>\n      ${/* default, effectively \"bottom-chrome\" */\n    \"\"}\n      <slot part=\"bottom chrome\"></slot>\n    </span>\n    <slot name=\"dialog\" part=\"layer dialog-layer\"></slot>\n  `\n  );\n}\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst defaultBreakpoints = \"sm:384 md:576 lg:768 xl:960\";\nfunction resizeCallback(entry) {\n  setBreakpoints(entry.target, entry.contentRect.width);\n}\nfunction setBreakpoints(container, width) {\n  var _a;\n  if (!container.isConnected)\n    return;\n  const breakpoints = (_a = container.getAttribute(Attributes.BREAKPOINTS)) != null ? _a : defaultBreakpoints;\n  const ranges = createBreakpointMap(breakpoints);\n  const activeBreakpoints = getBreakpoints(ranges, width);\n  let changed = false;\n  Object.keys(ranges).forEach((name) => {\n    if (activeBreakpoints.includes(name)) {\n      if (!container.hasAttribute(`breakpoint${name}`)) {\n        container.setAttribute(`breakpoint${name}`, \"\");\n        changed = true;\n      }\n      return;\n    }\n    if (container.hasAttribute(`breakpoint${name}`)) {\n      container.removeAttribute(`breakpoint${name}`);\n      changed = true;\n    }\n  });\n  if (changed) {\n    const evt = new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_CHANGE, {\n      detail: activeBreakpoints\n    });\n    container.dispatchEvent(evt);\n  }\n  if (!container.breakpointsComputed) {\n    container.breakpointsComputed = true;\n    container.dispatchEvent(\n      new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_COMPUTED, {\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n}\nfunction createBreakpointMap(breakpoints) {\n  const pairs = breakpoints.split(/\\s+/);\n  return Object.fromEntries(pairs.map((pair) => pair.split(\":\")));\n}\nfunction getBreakpoints(breakpoints, width) {\n  return Object.keys(breakpoints).filter((name) => {\n    return width >= parseInt(breakpoints[name]);\n  });\n}\nclass MediaContainer extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _handleMutation);\n    __privateAdd(this, _handlePointerMove);\n    __privateAdd(this, _handlePointerUp);\n    __privateAdd(this, _setInactive);\n    __privateAdd(this, _setActive);\n    __privateAdd(this, _scheduleInactive);\n    __privateAdd(this, _pointerDownTimeStamp, 0);\n    __privateAdd(this, _currentMedia, null);\n    __privateAdd(this, _inactiveTimeout, null);\n    __privateAdd(this, _autohide, void 0);\n    this.breakpointsComputed = false;\n    __privateAdd(this, _mutationObserver, new MutationObserver(__privateMethod(this, _handleMutation, handleMutation_fn).bind(this)));\n    __privateAdd(this, _isResizePending, false);\n    __privateAdd(this, _handleResize, (entry) => {\n      if (__privateGet(this, _isResizePending))\n        return;\n      setTimeout(() => {\n        resizeCallback(entry);\n        __privateSet(this, _isResizePending, false);\n      }, 0);\n      __privateSet(this, _isResizePending, true);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      const html = this.constructor.getTemplateHTML(attrs);\n      this.shadowRoot.setHTMLUnsafe ? this.shadowRoot.setHTMLUnsafe(html) : this.shadowRoot.innerHTML = html;\n    }\n    const chainedSlot = this.querySelector(\n      \":scope > slot[slot=media]\"\n    );\n    if (chainedSlot) {\n      chainedSlot.addEventListener(\"slotchange\", () => {\n        const slotEls = chainedSlot.assignedElements({ flatten: true });\n        if (!slotEls.length) {\n          if (__privateGet(this, _currentMedia)) {\n            this.mediaUnsetCallback(__privateGet(this, _currentMedia));\n          }\n          return;\n        }\n        this.handleMediaUpdated(this.media);\n      });\n    }\n  }\n  static get observedAttributes() {\n    return [Attributes.AUTOHIDE, Attributes.GESTURES_DISABLED].concat(MEDIA_UI_ATTRIBUTE_NAMES).filter(\n      (name) => ![\n        MediaUIAttributes.MEDIA_RENDITION_LIST,\n        MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST,\n        MediaUIAttributes.MEDIA_CHAPTERS_CUES,\n        MediaUIAttributes.MEDIA_WIDTH,\n        MediaUIAttributes.MEDIA_HEIGHT,\n        MediaUIAttributes.MEDIA_ERROR,\n        MediaUIAttributes.MEDIA_ERROR_MESSAGE\n      ].includes(name)\n    );\n  }\n  // Could share this code with media-chrome-html-element instead\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    if (attrName.toLowerCase() == Attributes.AUTOHIDE) {\n      this.autohide = newValue;\n    }\n  }\n  // First direct child with slot=media, or null\n  get media() {\n    let media = this.querySelector(\":scope > [slot=media]\");\n    if ((media == null ? void 0 : media.nodeName) == \"SLOT\")\n      media = media.assignedElements({ flatten: true })[0];\n    return media;\n  }\n  async handleMediaUpdated(media) {\n    if (!media)\n      return;\n    __privateSet(this, _currentMedia, media);\n    if (media.localName.includes(\"-\")) {\n      await globalThis.customElements.whenDefined(media.localName);\n    }\n    this.mediaSetCallback(media);\n  }\n  connectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).observe(this, { childList: true, subtree: true });\n    observeResize(this, __privateGet(this, _handleResize));\n    const isAudioChrome = this.getAttribute(Attributes.AUDIO) != null;\n    const label = isAudioChrome ? t(\"audio player\") : t(\"video player\");\n    this.setAttribute(\"role\", \"region\");\n    this.setAttribute(\"aria-label\", label);\n    this.handleMediaUpdated(this.media);\n    this.setAttribute(Attributes.USER_INACTIVE, \"\");\n    setBreakpoints(this, this.getBoundingClientRect().width);\n    this.addEventListener(\"pointerdown\", this);\n    this.addEventListener(\"pointermove\", this);\n    this.addEventListener(\"pointerup\", this);\n    this.addEventListener(\"mouseleave\", this);\n    this.addEventListener(\"keyup\", this);\n    (_a = globalThis.window) == null ? void 0 : _a.addEventListener(\"mouseup\", this);\n  }\n  disconnectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).disconnect();\n    unobserveResize(this, __privateGet(this, _handleResize));\n    if (this.media) {\n      this.mediaUnsetCallback(this.media);\n    }\n    (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"mouseup\", this);\n  }\n  /**\n   * @abstract\n   */\n  mediaSetCallback(_media) {\n  }\n  mediaUnsetCallback(_media) {\n    __privateSet(this, _currentMedia, null);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"pointerdown\":\n        __privateSet(this, _pointerDownTimeStamp, event.timeStamp);\n        break;\n      case \"pointermove\":\n        __privateMethod(this, _handlePointerMove, handlePointerMove_fn).call(this, event);\n        break;\n      case \"pointerup\":\n        __privateMethod(this, _handlePointerUp, handlePointerUp_fn).call(this, event);\n        break;\n      case \"mouseleave\":\n        __privateMethod(this, _setInactive, setInactive_fn).call(this);\n        break;\n      case \"mouseup\":\n        this.removeAttribute(Attributes.KEYBOARD_CONTROL);\n        break;\n      case \"keyup\":\n        __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n        this.setAttribute(Attributes.KEYBOARD_CONTROL, \"\");\n        break;\n    }\n  }\n  set autohide(seconds) {\n    const parsedSeconds = Number(seconds);\n    __privateSet(this, _autohide, isNaN(parsedSeconds) ? 0 : parsedSeconds);\n  }\n  get autohide() {\n    return (__privateGet(this, _autohide) === void 0 ? 2 : __privateGet(this, _autohide)).toString();\n  }\n  get breakpoints() {\n    return getStringAttr(this, Attributes.BREAKPOINTS);\n  }\n  set breakpoints(value) {\n    setStringAttr(this, Attributes.BREAKPOINTS, value);\n  }\n  get audio() {\n    return getBooleanAttr(this, Attributes.AUDIO);\n  }\n  set audio(value) {\n    setBooleanAttr(this, Attributes.AUDIO, value);\n  }\n  get gesturesDisabled() {\n    return getBooleanAttr(this, Attributes.GESTURES_DISABLED);\n  }\n  set gesturesDisabled(value) {\n    setBooleanAttr(this, Attributes.GESTURES_DISABLED, value);\n  }\n  get keyboardControl() {\n    return getBooleanAttr(this, Attributes.KEYBOARD_CONTROL);\n  }\n  set keyboardControl(value) {\n    setBooleanAttr(this, Attributes.KEYBOARD_CONTROL, value);\n  }\n  get noAutohide() {\n    return getBooleanAttr(this, Attributes.NO_AUTOHIDE);\n  }\n  set noAutohide(value) {\n    setBooleanAttr(this, Attributes.NO_AUTOHIDE, value);\n  }\n  get autohideOverControls() {\n    return getBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS);\n  }\n  set autohideOverControls(value) {\n    setBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS, value);\n  }\n  get userInteractive() {\n    return getBooleanAttr(this, Attributes.USER_INACTIVE);\n  }\n  set userInteractive(value) {\n    setBooleanAttr(this, Attributes.USER_INACTIVE, value);\n  }\n}\n_pointerDownTimeStamp = new WeakMap();\n_currentMedia = new WeakMap();\n_inactiveTimeout = new WeakMap();\n_autohide = new WeakMap();\n_mutationObserver = new WeakMap();\n_handleMutation = new WeakSet();\nhandleMutation_fn = function(mutationsList) {\n  const media = this.media;\n  for (const mutation of mutationsList) {\n    if (mutation.type !== \"childList\")\n      continue;\n    const removedNodes = mutation.removedNodes;\n    for (const node of removedNodes) {\n      if (node.slot != \"media\" || mutation.target != this)\n        continue;\n      let previousSibling = mutation.previousSibling && mutation.previousSibling.previousElementSibling;\n      if (!previousSibling || !media) {\n        this.mediaUnsetCallback(node);\n      } else {\n        let wasFirst = previousSibling.slot !== \"media\";\n        while ((previousSibling = previousSibling.previousSibling) !== null) {\n          if (previousSibling.slot == \"media\")\n            wasFirst = false;\n        }\n        if (wasFirst)\n          this.mediaUnsetCallback(node);\n      }\n    }\n    if (media) {\n      for (const node of mutation.addedNodes) {\n        if (node === media)\n          this.handleMediaUpdated(media);\n      }\n    }\n  }\n};\n_isResizePending = new WeakMap();\n_handleResize = new WeakMap();\n_handlePointerMove = new WeakSet();\nhandlePointerMove_fn = function(event) {\n  if (event.pointerType !== \"mouse\") {\n    const MAX_TAP_DURATION = 250;\n    if (event.timeStamp - __privateGet(this, _pointerDownTimeStamp) < MAX_TAP_DURATION)\n      return;\n  }\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohideOverControls = this.hasAttribute(\n    Attributes.AUTOHIDE_OVER_CONTROLS\n  );\n  if ([this, this.media].includes(event.target) || autohideOverControls) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_handlePointerUp = new WeakSet();\nhandlePointerUp_fn = function(event) {\n  if (event.pointerType === \"touch\") {\n    const controlsVisible = !this.hasAttribute(Attributes.USER_INACTIVE);\n    if ([this, this.media].includes(event.target) && controlsVisible) {\n      __privateMethod(this, _setInactive, setInactive_fn).call(this);\n    } else {\n      __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n    }\n  } else if (event.composedPath().some(\n    (el) => [\"media-play-button\", \"media-fullscreen-button\"].includes(\n      el == null ? void 0 : el.localName\n    )\n  )) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_setInactive = new WeakSet();\nsetInactive_fn = function() {\n  if (__privateGet(this, _autohide) < 0)\n    return;\n  if (this.hasAttribute(Attributes.USER_INACTIVE))\n    return;\n  this.setAttribute(Attributes.USER_INACTIVE, \"\");\n  const evt = new globalThis.CustomEvent(\n    MediaStateChangeEvents.USER_INACTIVE_CHANGE,\n    { composed: true, bubbles: true, detail: true }\n  );\n  this.dispatchEvent(evt);\n};\n_setActive = new WeakSet();\nsetActive_fn = function() {\n  if (!this.hasAttribute(Attributes.USER_INACTIVE))\n    return;\n  this.removeAttribute(Attributes.USER_INACTIVE);\n  const evt = new globalThis.CustomEvent(\n    MediaStateChangeEvents.USER_INACTIVE_CHANGE,\n    { composed: true, bubbles: true, detail: false }\n  );\n  this.dispatchEvent(evt);\n};\n_scheduleInactive = new WeakSet();\nscheduleInactive_fn = function() {\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohide = parseInt(this.autohide);\n  if (autohide < 0)\n    return;\n  __privateSet(this, _inactiveTimeout, setTimeout(() => {\n    __privateMethod(this, _setInactive, setInactive_fn).call(this);\n  }, autohide * 1e3));\n};\nMediaContainer.shadowRootOptions = { mode: \"open\" };\nMediaContainer.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-container\")) {\n  globalThis.customElements.define(\"media-container\", MediaContainer);\n}\nvar media_container_default = MediaContainer;\nexport {\n  Attributes,\n  MediaContainer,\n  media_container_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _el, _attr, _defaultSet, _tokenSet, _tokens, tokens_get;\nclass AttributeTokenList {\n  constructor(el, attr, { defaultValue } = { defaultValue: void 0 }) {\n    __privateAdd(this, _tokens);\n    __privateAdd(this, _el, void 0);\n    __privateAdd(this, _attr, void 0);\n    __privateAdd(this, _defaultSet, void 0);\n    __privateAdd(this, _tokenSet, /* @__PURE__ */ new Set());\n    __privateSet(this, _el, el);\n    __privateSet(this, _attr, attr);\n    __privateSet(this, _defaultSet, new Set(defaultValue));\n  }\n  [Symbol.iterator]() {\n    return __privateGet(this, _tokens, tokens_get).values();\n  }\n  get length() {\n    return __privateGet(this, _tokens, tokens_get).size;\n  }\n  get value() {\n    var _a;\n    return (_a = [...__privateGet(this, _tokens, tokens_get)].join(\" \")) != null ? _a : \"\";\n  }\n  set value(val) {\n    var _a;\n    if (val === this.value)\n      return;\n    __privateSet(this, _tokenSet, /* @__PURE__ */ new Set());\n    this.add(...(_a = val == null ? void 0 : val.split(\" \")) != null ? _a : []);\n  }\n  toString() {\n    return this.value;\n  }\n  item(index) {\n    return [...__privateGet(this, _tokens, tokens_get)][index];\n  }\n  values() {\n    return __privateGet(this, _tokens, tokens_get).values();\n  }\n  forEach(callback, thisArg) {\n    __privateGet(this, _tokens, tokens_get).forEach(callback, thisArg);\n  }\n  add(...tokens) {\n    var _a, _b;\n    tokens.forEach((t) => __privateGet(this, _tokenSet).add(t));\n    if (this.value === \"\" && !((_a = __privateGet(this, _el)) == null ? void 0 : _a.hasAttribute(`${__privateGet(this, _attr)}`))) {\n      return;\n    }\n    (_b = __privateGet(this, _el)) == null ? void 0 : _b.setAttribute(`${__privateGet(this, _attr)}`, `${this.value}`);\n  }\n  remove(...tokens) {\n    var _a;\n    tokens.forEach((t) => __privateGet(this, _tokenSet).delete(t));\n    (_a = __privateGet(this, _el)) == null ? void 0 : _a.setAttribute(`${__privateGet(this, _attr)}`, `${this.value}`);\n  }\n  contains(token) {\n    return __privateGet(this, _tokens, tokens_get).has(token);\n  }\n  toggle(token, force) {\n    if (typeof force !== \"undefined\") {\n      if (force) {\n        this.add(token);\n        return true;\n      } else {\n        this.remove(token);\n        return false;\n      }\n    }\n    if (this.contains(token)) {\n      this.remove(token);\n      return false;\n    }\n    this.add(token);\n    return true;\n  }\n  replace(oldToken, newToken) {\n    this.remove(oldToken);\n    this.add(newToken);\n    return oldToken === newToken;\n  }\n}\n_el = new WeakMap();\n_attr = new WeakMap();\n_defaultSet = new WeakMap();\n_tokenSet = new WeakMap();\n_tokens = new WeakSet();\ntokens_get = function() {\n  return __privateGet(this, _tokenSet).size ? __privateGet(this, _tokenSet) : __privateGet(this, _defaultSet);\n};\nexport {\n  AttributeTokenList\n};\n", "function stringifyRenditionList(renditions) {\n  return renditions == null ? void 0 : renditions.map(stringifyRendition).join(\" \");\n}\nfunction parseRenditionList(renditions) {\n  return renditions == null ? void 0 : renditions.split(/\\s+/).map(parseRendition);\n}\nfunction stringifyRendition(rendition) {\n  if (rendition) {\n    const { id, width, height } = rendition;\n    return [id, width, height].filter((a) => a != null).join(\":\");\n  }\n}\nfunction parseRendition(rendition) {\n  if (rendition) {\n    const [id, width, height] = rendition.split(\":\");\n    return { id, width: +width, height: +height };\n  }\n}\nfunction stringifyAudioTrackList(audioTracks) {\n  return audioTracks == null ? void 0 : audioTracks.map(stringifyAudioTrack).join(\" \");\n}\nfunction parseAudioTrackList(audioTracks) {\n  return audioTracks == null ? void 0 : audioTracks.split(/\\s+/).map(parseAudioTrack);\n}\nfunction stringifyAudioTrack(audioTrack) {\n  if (audioTrack) {\n    const { id, kind, language, label } = audioTrack;\n    return [id, kind, language, label].filter((a) => a != null).join(\":\");\n  }\n}\nfunction parseAudioTrack(audioTrack) {\n  if (audioTrack) {\n    const [id, kind, language, label] = audioTrack.split(\":\");\n    return {\n      id,\n      kind,\n      language,\n      label\n    };\n  }\n}\nfunction dashedToCamel(word) {\n  return word.split(\"-\").map(function(x, i) {\n    return (i ? x[0].toUpperCase() : x[0].toLowerCase()) + x.slice(1).toLowerCase();\n  }).join(\"\");\n}\nfunction constToCamel(word, upperFirst = false) {\n  return word.split(\"_\").map(function(x, i) {\n    return (i || upperFirst ? x[0].toUpperCase() : x[0].toLowerCase()) + x.slice(1).toLowerCase();\n  }).join(\"\");\n}\nfunction camelCase(name) {\n  return name.replace(/[-_]([a-z])/g, ($0, $1) => $1.toUpperCase());\n}\nfunction isValidNumber(x) {\n  return typeof x === \"number\" && !Number.isNaN(x) && Number.isFinite(x);\n}\nfunction isNumericString(str) {\n  if (typeof str != \"string\")\n    return false;\n  return !isNaN(str) && !isNaN(parseFloat(str));\n}\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nconst capitalize = (str) => str && str[0].toUpperCase() + str.slice(1);\nexport {\n  camelCase,\n  capitalize,\n  constToCamel,\n  dashedToCamel,\n  delay,\n  isNumericString,\n  isValidNumber,\n  parseAudioTrack,\n  parseAudioTrackList,\n  parseRendition,\n  parseRenditionList,\n  stringifyAudioTrack,\n  stringifyAudioTrackList,\n  stringifyRendition,\n  stringifyRenditionList\n};\n", "import { MediaUIAttributes, TextTrackKinds } from \"../constants.js\";\nconst splitTextTracksStr = (textTracksStr = \"\") => textTracksStr.split(/\\s+/);\nconst parseTextTrackStr = (textTrackStr = \"\") => {\n  const [kind, language, encodedLabel] = textTrackStr.split(\":\");\n  const label = encodedLabel ? decodeURIComponent(encodedLabel) : void 0;\n  return {\n    kind: kind === \"cc\" ? TextTrackKinds.CAPTIONS : TextTrackKinds.SUBTITLES,\n    language,\n    label\n  };\n};\nconst parseTextTracksStr = (textTracksStr = \"\", textTrackLikeObj = {}) => {\n  return splitTextTracksStr(textTracksStr).map((textTrackStr) => {\n    const textTrackObj = parseTextTrackStr(textTrackStr);\n    return {\n      ...textTrackLikeObj,\n      ...textTrackObj\n    };\n  });\n};\nconst parseTracks = (trackOrTracks) => {\n  if (!trackOrTracks)\n    return [];\n  if (Array.isArray(trackOrTracks)) {\n    return trackOrTracks.map((trackObjOrStr) => {\n      if (typeof trackObjOrStr === \"string\") {\n        return parseTextTrackStr(trackObjOrStr);\n      }\n      return trackObjOrStr;\n    });\n  }\n  if (typeof trackOrTracks === \"string\") {\n    return parseTextTracksStr(trackOrTracks);\n  }\n  return [trackOrTracks];\n};\nconst formatTextTrackObj = ({ kind, label, language } = { kind: \"subtitles\" }) => {\n  if (!label)\n    return language;\n  return `${kind === \"captions\" ? \"cc\" : \"sb\"}:${language}:${encodeURIComponent(\n    label\n  )}`;\n};\nconst stringifyTextTrackList = (textTracks = []) => {\n  return Array.prototype.map.call(textTracks, formatTextTrackObj).join(\" \");\n};\nconst isMatchingPropOf = (key, value) => (obj) => obj[key] === value;\nconst textTrackObjAsPred = (filterObj) => {\n  const preds = Object.entries(filterObj).map(([key, value]) => {\n    return isMatchingPropOf(key, value);\n  });\n  return (textTrack) => preds.every((pred) => pred(textTrack));\n};\nconst updateTracksModeTo = (mode, tracks = [], tracksToUpdate = []) => {\n  const preds = parseTracks(tracksToUpdate).map(textTrackObjAsPred);\n  const isTrackToUpdate = (textTrack) => {\n    return preds.some((pred) => pred(textTrack));\n  };\n  Array.from(tracks).filter(isTrackToUpdate).forEach((textTrack) => {\n    textTrack.mode = mode;\n  });\n};\nconst getTextTracksList = (media, filterPredOrObj = () => true) => {\n  if (!(media == null ? void 0 : media.textTracks))\n    return [];\n  const filterPred = typeof filterPredOrObj === \"function\" ? filterPredOrObj : textTrackObjAsPred(filterPredOrObj);\n  return Array.from(media.textTracks).filter(filterPred);\n};\nconst areSubsOn = (el) => {\n  var _a;\n  const showingSubtitles = !!((_a = el.mediaSubtitlesShowing) == null ? void 0 : _a.length) || el.hasAttribute(MediaUIAttributes.MEDIA_SUBTITLES_SHOWING);\n  return showingSubtitles;\n};\nexport {\n  areSubsOn,\n  formatTextTrackObj,\n  getTextTracksList,\n  isMatchingPropOf,\n  parseTextTrackStr,\n  parseTextTracksStr,\n  parseTracks,\n  splitTextTracksStr,\n  stringifyTextTrackList,\n  textTrackObjAsPred,\n  updateTracksModeTo\n};\n", "import { WebkitPresentationModes } from \"../constants.js\";\nimport { containsComposedNode } from \"./element-utils.js\";\nimport { document } from \"./server-safe-globals.js\";\nconst enterFullscreen = (stateOwners) => {\n  var _a;\n  const { media, fullscreenElement } = stateOwners;\n  try {\n    const enterFullscreenKey = fullscreenElement && \"requestFullscreen\" in fullscreenElement ? \"requestFullscreen\" : fullscreenElement && \"webkitRequestFullScreen\" in fullscreenElement ? \"webkitRequestFullScreen\" : void 0;\n    if (enterFullscreenKey) {\n      const maybePromise = (_a = fullscreenElement[enterFullscreenKey]) == null ? void 0 : _a.call(fullscreenElement);\n      if (maybePromise instanceof Promise) {\n        return maybePromise.catch(() => {\n        });\n      }\n    } else if (media == null ? void 0 : media.webkitEnterFullscreen) {\n      media.webkitEnterFullscreen();\n    } else if (media == null ? void 0 : media.requestFullscreen) {\n      media.requestFullscreen();\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\nconst exitFullscreenKey = \"exitFullscreen\" in document ? \"exitFullscreen\" : \"webkitExitFullscreen\" in document ? \"webkitExitFullscreen\" : \"webkitCancelFullScreen\" in document ? \"webkitCancelFullScreen\" : void 0;\nconst exitFullscreen = (stateOwners) => {\n  var _a;\n  const { documentElement } = stateOwners;\n  if (exitFullscreenKey) {\n    const maybePromise = (_a = documentElement == null ? void 0 : documentElement[exitFullscreenKey]) == null ? void 0 : _a.call(documentElement);\n    if (maybePromise instanceof Promise) {\n      return maybePromise.catch(() => {\n      });\n    }\n  }\n};\nconst fullscreenElementKey = \"fullscreenElement\" in document ? \"fullscreenElement\" : \"webkitFullscreenElement\" in document ? \"webkitFullscreenElement\" : void 0;\nconst getFullscreenElement = (stateOwners) => {\n  const { documentElement, media } = stateOwners;\n  const docFullscreenElement = documentElement == null ? void 0 : documentElement[fullscreenElementKey];\n  if (!docFullscreenElement && \"webkitDisplayingFullscreen\" in media && \"webkitPresentationMode\" in media && media.webkitDisplayingFullscreen && media.webkitPresentationMode === WebkitPresentationModes.FULLSCREEN) {\n    return media;\n  }\n  return docFullscreenElement;\n};\nconst isFullscreen = (stateOwners) => {\n  var _a;\n  const { media, documentElement, fullscreenElement = media } = stateOwners;\n  if (!media || !documentElement)\n    return false;\n  const currentFullscreenElement = getFullscreenElement(stateOwners);\n  if (!currentFullscreenElement)\n    return false;\n  if (currentFullscreenElement === fullscreenElement || currentFullscreenElement === media) {\n    return true;\n  }\n  if (currentFullscreenElement.localName.includes(\"-\")) {\n    let currentRoot = currentFullscreenElement.shadowRoot;\n    if (!(fullscreenElementKey in currentRoot)) {\n      return containsComposedNode(\n        currentFullscreenElement,\n        /** @TODO clean up type assumptions (e.g. Node) (CJP) */\n        // @ts-ignore\n        fullscreenElement\n      );\n    }\n    while (currentRoot == null ? void 0 : currentRoot[fullscreenElementKey]) {\n      if (currentRoot[fullscreenElementKey] === fullscreenElement)\n        return true;\n      currentRoot = (_a = currentRoot[fullscreenElementKey]) == null ? void 0 : _a.shadowRoot;\n    }\n  }\n  return false;\n};\nconst fullscreenEnabledKey = \"fullscreenEnabled\" in document ? \"fullscreenEnabled\" : \"webkitFullscreenEnabled\" in document ? \"webkitFullscreenEnabled\" : void 0;\nconst isFullscreenEnabled = (stateOwners) => {\n  const { documentElement, media } = stateOwners;\n  return !!(documentElement == null ? void 0 : documentElement[fullscreenEnabledKey]) || media && \"webkitSupportsFullscreen\" in media;\n};\nexport {\n  enterFullscreen,\n  exitFullscreen,\n  getFullscreenElement,\n  isFullscreen,\n  isFullscreenEnabled\n};\n", "import { globalThis, document } from \"./server-safe-globals.js\";\nimport { delay } from \"./utils.js\";\nimport { isFullscreenEnabled } from \"./fullscreen-api.js\";\nlet testMediaEl;\nconst getTestMediaEl = () => {\n  var _a, _b;\n  if (testMediaEl)\n    return testMediaEl;\n  testMediaEl = (_b = (_a = document) == null ? void 0 : _a.createElement) == null ? void 0 : _b.call(_a, \"video\");\n  return testMediaEl;\n};\nconst hasVolumeSupportAsync = async (mediaEl = getTestMediaEl()) => {\n  if (!mediaEl)\n    return false;\n  const prevVolume = mediaEl.volume;\n  mediaEl.volume = prevVolume / 2 + 0.1;\n  const abortController = new AbortController();\n  const volumeSupported = await Promise.race([\n    dispatchedVolumeChange(mediaEl, abortController.signal),\n    volumeChanged(mediaEl, prevVolume)\n  ]);\n  abortController.abort();\n  return volumeSupported;\n};\nconst dispatchedVolumeChange = (mediaEl, signal) => {\n  return new Promise((resolve) => {\n    mediaEl.addEventListener(\"volumechange\", () => resolve(true), { signal });\n  });\n};\nconst volumeChanged = async (mediaEl, prevVolume) => {\n  for (let i = 0; i < 10; i++) {\n    if (mediaEl.volume === prevVolume)\n      return false;\n    await delay(10);\n  }\n  return mediaEl.volume !== prevVolume;\n};\nconst isSafari = /.*Version\\/.*Safari\\/.*/.test(\n  globalThis.navigator.userAgent\n);\nconst hasPipSupport = (mediaEl = getTestMediaEl()) => {\n  if (globalThis.matchMedia(\"(display-mode: standalone)\").matches && isSafari)\n    return false;\n  return typeof (mediaEl == null ? void 0 : mediaEl.requestPictureInPicture) === \"function\";\n};\nconst hasFullscreenSupport = (mediaEl = getTestMediaEl()) => {\n  return isFullscreenEnabled({ documentElement: document, media: mediaEl });\n};\nconst fullscreenSupported = hasFullscreenSupport();\nconst pipSupported = hasPipSupport();\nconst airplaySupported = !!globalThis.WebKitPlaybackTargetAvailabilityEvent;\nconst castSupported = !!globalThis.chrome;\nexport {\n  airplaySupported,\n  castSupported,\n  fullscreenSupported,\n  getTestMediaEl,\n  hasFullscreenSupport,\n  hasPipSupport,\n  hasVolumeSupportAsync,\n  pipSupported\n};\n", "import { TextTrackKinds, TextTrackModes } from \"../constants.js\";\nimport { getTextTracksList, updateTracksModeTo } from \"../utils/captions.js\";\nconst getSubtitleTracks = (stateOwners) => {\n  return getTextTracksList(stateOwners.media, (textTrack) => {\n    return [TextTrackKinds.SUBTITLES, TextTrackKinds.CAPTIONS].includes(\n      textTrack.kind\n    );\n  }).sort((a, b) => a.kind >= b.kind ? 1 : -1);\n};\nconst getShowingSubtitleTracks = (stateOwners) => {\n  return getTextTracksList(stateOwners.media, (textTrack) => {\n    return textTrack.mode === TextTrackModes.SHOWING && [TextTrackKinds.SUBTITLES, TextTrackKinds.CAPTIONS].includes(\n      textTrack.kind\n    );\n  });\n};\nconst toggleSubtitleTracks = (stateOwners, force) => {\n  const tracks = getSubtitleTracks(stateOwners);\n  const showingSubitleTracks = getShowingSubtitleTracks(stateOwners);\n  const subtitlesShowing = !!showingSubitleTracks.length;\n  if (!tracks.length)\n    return;\n  if (force === false || subtitlesShowing && force !== true) {\n    updateTracksModeTo(TextTrackModes.DISABLED, tracks, showingSubitleTracks);\n  } else if (force === true || !subtitlesShowing && force !== false) {\n    let subTrack = tracks[0];\n    const { options } = stateOwners;\n    if (!(options == null ? void 0 : options.noSubtitlesLangPref)) {\n      const subtitlesPref = globalThis.localStorage.getItem(\n        \"media-chrome-pref-subtitles-lang\"\n      );\n      const userLangPrefs = subtitlesPref ? [subtitlesPref, ...globalThis.navigator.languages] : globalThis.navigator.languages;\n      const preferredAvailableSubs = tracks.filter((textTrack) => {\n        return userLangPrefs.some(\n          (lang) => textTrack.language.toLowerCase().startsWith(lang.split(\"-\")[0])\n        );\n      }).sort((textTrackA, textTrackB) => {\n        const idxA = userLangPrefs.findIndex(\n          (lang) => textTrackA.language.toLowerCase().startsWith(lang.split(\"-\")[0])\n        );\n        const idxB = userLangPrefs.findIndex(\n          (lang) => textTrackB.language.toLowerCase().startsWith(lang.split(\"-\")[0])\n        );\n        return idxA - idxB;\n      });\n      if (preferredAvailableSubs[0]) {\n        subTrack = preferredAvailableSubs[0];\n      }\n    }\n    const { language, label, kind } = subTrack;\n    updateTracksModeTo(TextTrackModes.DISABLED, tracks, showingSubitleTracks);\n    updateTracksModeTo(TextTrackModes.SHOWING, tracks, [\n      { language, label, kind }\n    ]);\n  }\n};\nconst areValuesEq = (x, y) => {\n  if (x === y)\n    return true;\n  if (x == null || y == null)\n    return false;\n  if (typeof x !== typeof y)\n    return false;\n  if (typeof x === \"number\" && Number.isNaN(x) && Number.isNaN(y))\n    return true;\n  if (typeof x !== \"object\")\n    return false;\n  if (Array.isArray(x))\n    return areArraysEq(x, y);\n  return Object.entries(x).every(\n    // NOTE: Checking key in y to disambiguate between between missing keys and keys whose value are undefined (CJP)\n    ([key, value]) => key in y && areValuesEq(value, y[key])\n  );\n};\nconst areArraysEq = (xs, ys) => {\n  const xIsArray = Array.isArray(xs);\n  const yIsArray = Array.isArray(ys);\n  if (xIsArray !== yIsArray)\n    return false;\n  if (!(xIsArray || yIsArray))\n    return true;\n  if (xs.length !== ys.length)\n    return false;\n  return xs.every((x, i) => areValuesEq(x, ys[i]));\n};\nexport {\n  areArraysEq,\n  areValuesEq,\n  getShowingSubtitleTracks,\n  getSubtitleTracks,\n  toggleSubtitleTracks\n};\n", "import { document, globalThis } from \"../utils/server-safe-globals.js\";\nimport {\n  AvailabilityStates,\n  StreamTypes,\n  TextTrackKinds\n} from \"../constants.js\";\nimport { containsComposedNode } from \"../utils/element-utils.js\";\nimport {\n  enterFullscreen,\n  exitFullscreen,\n  isFullscreen\n} from \"../utils/fullscreen-api.js\";\nimport {\n  airplaySupported,\n  castSupported,\n  fullscreenSupported,\n  hasFullscreenSupport,\n  hasPipSupport,\n  hasVolumeSupportAsync,\n  pipSupported\n} from \"../utils/platform-tests.js\";\nimport {\n  getShowingSubtitleTracks,\n  getSubtitleTracks,\n  toggleSubtitleTracks\n} from \"./util.js\";\nimport { getTextTracksList } from \"../utils/captions.js\";\nimport { isValidNumber } from \"../utils/utils.js\";\nconst StreamTypeValues = Object.values(StreamTypes);\nlet volumeSupported;\nconst volumeSupportPromise = hasVolumeSupportAsync().then((supported) => {\n  volumeSupported = supported;\n  return volumeSupported;\n});\nconst prepareStateOwners = async (...stateOwners) => {\n  await Promise.all(\n    stateOwners.filter((x) => x).map(async (stateOwner) => {\n      if (!(\"localName\" in stateOwner && stateOwner instanceof globalThis.HTMLElement)) {\n        return;\n      }\n      const name = stateOwner.localName;\n      if (!name.includes(\"-\"))\n        return;\n      const classDef = globalThis.customElements.get(name);\n      if (classDef && stateOwner instanceof classDef)\n        return;\n      await globalThis.customElements.whenDefined(name);\n      globalThis.customElements.upgrade(stateOwner);\n    })\n  );\n};\nconst domParser = new globalThis.DOMParser();\nconst parseHtmlToText = (text) => text ? domParser.parseFromString(text, \"text/html\").body.textContent || text : text;\nconst stateMediator = {\n  mediaError: {\n    get(stateOwners, event) {\n      const { media } = stateOwners;\n      if ((event == null ? void 0 : event.type) === \"playing\")\n        return;\n      return media == null ? void 0 : media.error;\n    },\n    mediaEvents: [\"emptied\", \"error\", \"playing\"]\n  },\n  mediaErrorCode: {\n    get(stateOwners, event) {\n      var _a;\n      const { media } = stateOwners;\n      if ((event == null ? void 0 : event.type) === \"playing\")\n        return;\n      return (_a = media == null ? void 0 : media.error) == null ? void 0 : _a.code;\n    },\n    mediaEvents: [\"emptied\", \"error\", \"playing\"]\n  },\n  mediaErrorMessage: {\n    get(stateOwners, event) {\n      var _a, _b;\n      const { media } = stateOwners;\n      if ((event == null ? void 0 : event.type) === \"playing\")\n        return;\n      return (_b = (_a = media == null ? void 0 : media.error) == null ? void 0 : _a.message) != null ? _b : \"\";\n    },\n    mediaEvents: [\"emptied\", \"error\", \"playing\"]\n  },\n  mediaWidth: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.videoWidth) != null ? _a : 0;\n    },\n    mediaEvents: [\"resize\"]\n  },\n  mediaHeight: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.videoHeight) != null ? _a : 0;\n    },\n    mediaEvents: [\"resize\"]\n  },\n  mediaPaused: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.paused) != null ? _a : true;\n    },\n    set(value, stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      if (value) {\n        media.pause();\n      } else {\n        (_a = media.play()) == null ? void 0 : _a.catch(() => {\n        });\n      }\n    },\n    mediaEvents: [\"play\", \"playing\", \"pause\", \"emptied\"]\n  },\n  mediaHasPlayed: {\n    // We want to let the user know that the media started playing at any point (`media-has-played`).\n    // Since these propagators are all called when boostrapping state, let's verify this is\n    // a real playing event by checking that 1) there's media and 2) it isn't currently paused.\n    get(stateOwners, event) {\n      const { media } = stateOwners;\n      if (!media)\n        return false;\n      if (!event)\n        return !media.paused;\n      return event.type === \"playing\";\n    },\n    mediaEvents: [\"playing\", \"emptied\"]\n  },\n  mediaEnded: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.ended) != null ? _a : false;\n    },\n    mediaEvents: [\"seeked\", \"ended\", \"emptied\"]\n  },\n  mediaPlaybackRate: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.playbackRate) != null ? _a : 1;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      if (!Number.isFinite(+value))\n        return;\n      media.playbackRate = +value;\n    },\n    mediaEvents: [\"ratechange\", \"loadstart\"]\n  },\n  mediaMuted: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.muted) != null ? _a : false;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      try {\n        globalThis.localStorage.setItem(\n          \"media-chrome-pref-muted\",\n          value ? \"true\" : \"false\"\n        );\n      } catch (e) {\n        console.debug(\"Error setting muted pref\", e);\n      }\n      media.muted = value;\n    },\n    mediaEvents: [\"volumechange\"],\n    stateOwnersUpdateHandlers: [\n      (handler, stateOwners) => {\n        const {\n          options: { noMutedPref }\n        } = stateOwners;\n        const { media } = stateOwners;\n        if (!media || media.muted || noMutedPref)\n          return;\n        try {\n          const mutedPref = globalThis.localStorage.getItem(\"media-chrome-pref-muted\") === \"true\";\n          stateMediator.mediaMuted.set(mutedPref, stateOwners);\n          handler(mutedPref);\n        } catch (e) {\n          console.debug(\"Error getting muted pref\", e);\n        }\n      }\n    ]\n  },\n  mediaVolume: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.volume) != null ? _a : 1;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      try {\n        if (value == null) {\n          globalThis.localStorage.removeItem(\"media-chrome-pref-volume\");\n        } else {\n          globalThis.localStorage.setItem(\n            \"media-chrome-pref-volume\",\n            value.toString()\n          );\n        }\n      } catch (e) {\n        console.debug(\"Error setting volume pref\", e);\n      }\n      if (!Number.isFinite(+value))\n        return;\n      media.volume = +value;\n    },\n    mediaEvents: [\"volumechange\"],\n    stateOwnersUpdateHandlers: [\n      (handler, stateOwners) => {\n        const {\n          options: { noVolumePref }\n        } = stateOwners;\n        if (noVolumePref)\n          return;\n        try {\n          const { media } = stateOwners;\n          if (!media)\n            return;\n          const volumePref = globalThis.localStorage.getItem(\n            \"media-chrome-pref-volume\"\n          );\n          if (volumePref == null)\n            return;\n          stateMediator.mediaVolume.set(+volumePref, stateOwners);\n          handler(+volumePref);\n        } catch (e) {\n          console.debug(\"Error getting volume pref\", e);\n        }\n      }\n    ]\n  },\n  // NOTE: Keeping this roughly equivalent to prior impl to reduce number of changes,\n  // however we may want to model \"derived\" state differently from \"primary\" state\n  // (in this case, derived === mediaVolumeLevel, primary === mediaMuted, mediaVolume) (CJP)\n  mediaVolumeLevel: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      if (typeof (media == null ? void 0 : media.volume) == \"undefined\")\n        return \"high\";\n      if (media.muted || media.volume === 0)\n        return \"off\";\n      if (media.volume < 0.5)\n        return \"low\";\n      if (media.volume < 0.75)\n        return \"medium\";\n      return \"high\";\n    },\n    mediaEvents: [\"volumechange\"]\n  },\n  mediaCurrentTime: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return (_a = media == null ? void 0 : media.currentTime) != null ? _a : 0;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media || !isValidNumber(value))\n        return;\n      media.currentTime = value;\n    },\n    mediaEvents: [\"timeupdate\", \"loadedmetadata\"]\n  },\n  mediaDuration: {\n    get(stateOwners) {\n      const { media, options: { defaultDuration } = {} } = stateOwners;\n      if (defaultDuration && (!media || !media.duration || Number.isNaN(media.duration) || !Number.isFinite(media.duration))) {\n        return defaultDuration;\n      }\n      return Number.isFinite(media == null ? void 0 : media.duration) ? media.duration : Number.NaN;\n    },\n    mediaEvents: [\"durationchange\", \"loadedmetadata\", \"emptied\"]\n  },\n  mediaLoading: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      return (media == null ? void 0 : media.readyState) < 3;\n    },\n    mediaEvents: [\"waiting\", \"playing\", \"emptied\"]\n  },\n  mediaSeekable: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      if (!((_a = media == null ? void 0 : media.seekable) == null ? void 0 : _a.length))\n        return void 0;\n      const start = media.seekable.start(0);\n      const end = media.seekable.end(media.seekable.length - 1);\n      if (!start && !end)\n        return void 0;\n      return [Number(start.toFixed(3)), Number(end.toFixed(3))];\n    },\n    mediaEvents: [\"loadedmetadata\", \"emptied\", \"progress\", \"seekablechange\"]\n  },\n  mediaBuffered: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      const timeRanges = (_a = media == null ? void 0 : media.buffered) != null ? _a : [];\n      return Array.from(timeRanges).map((_, i) => [\n        Number(timeRanges.start(i).toFixed(3)),\n        Number(timeRanges.end(i).toFixed(3))\n      ]);\n    },\n    mediaEvents: [\"progress\", \"emptied\"]\n  },\n  mediaStreamType: {\n    get(stateOwners) {\n      const { media, options: { defaultStreamType } = {} } = stateOwners;\n      const usedDefaultStreamType = [\n        StreamTypes.LIVE,\n        StreamTypes.ON_DEMAND\n      ].includes(defaultStreamType) ? defaultStreamType : void 0;\n      if (!media)\n        return usedDefaultStreamType;\n      const { streamType } = media;\n      if (StreamTypeValues.includes(streamType)) {\n        if (streamType === StreamTypes.UNKNOWN) {\n          return usedDefaultStreamType;\n        }\n        return streamType;\n      }\n      const duration = media.duration;\n      if (duration === Infinity) {\n        return StreamTypes.LIVE;\n      } else if (Number.isFinite(duration)) {\n        return StreamTypes.ON_DEMAND;\n      }\n      return usedDefaultStreamType;\n    },\n    mediaEvents: [\n      \"emptied\",\n      \"durationchange\",\n      \"loadedmetadata\",\n      \"streamtypechange\"\n    ]\n  },\n  mediaTargetLiveWindow: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return Number.NaN;\n      const { targetLiveWindow } = media;\n      const streamType = stateMediator.mediaStreamType.get(stateOwners);\n      if ((targetLiveWindow == null || Number.isNaN(targetLiveWindow)) && streamType === StreamTypes.LIVE) {\n        return 0;\n      }\n      return targetLiveWindow;\n    },\n    mediaEvents: [\n      \"emptied\",\n      \"durationchange\",\n      \"loadedmetadata\",\n      \"streamtypechange\",\n      \"targetlivewindowchange\"\n    ]\n  },\n  mediaTimeIsLive: {\n    get(stateOwners) {\n      const {\n        media,\n        // Default to 10 seconds\n        options: { liveEdgeOffset = 10 } = {}\n      } = stateOwners;\n      if (!media)\n        return false;\n      if (typeof media.liveEdgeStart === \"number\") {\n        if (Number.isNaN(media.liveEdgeStart))\n          return false;\n        return media.currentTime >= media.liveEdgeStart;\n      }\n      const live = stateMediator.mediaStreamType.get(stateOwners) === StreamTypes.LIVE;\n      if (!live)\n        return false;\n      const seekable = media.seekable;\n      if (!seekable)\n        return true;\n      if (!seekable.length)\n        return false;\n      const liveEdgeStart = seekable.end(seekable.length - 1) - liveEdgeOffset;\n      return media.currentTime >= liveEdgeStart;\n    },\n    mediaEvents: [\"playing\", \"timeupdate\", \"progress\", \"waiting\", \"emptied\"]\n  },\n  // Text Tracks modeling\n  mediaSubtitlesList: {\n    get(stateOwners) {\n      return getSubtitleTracks(stateOwners).map(\n        ({ kind, label, language }) => ({ kind, label, language })\n      );\n    },\n    mediaEvents: [\"loadstart\"],\n    textTracksEvents: [\"addtrack\", \"removetrack\"]\n  },\n  mediaSubtitlesShowing: {\n    get(stateOwners) {\n      return getShowingSubtitleTracks(stateOwners).map(\n        ({ kind, label, language }) => ({ kind, label, language })\n      );\n    },\n    mediaEvents: [\"loadstart\"],\n    textTracksEvents: [\"addtrack\", \"removetrack\", \"change\"],\n    stateOwnersUpdateHandlers: [\n      (_handler, stateOwners) => {\n        var _a, _b;\n        const { media, options } = stateOwners;\n        if (!media)\n          return;\n        const updateDefaultSubtitlesCallback = (event) => {\n          var _a2;\n          if (!options.defaultSubtitles)\n            return;\n          const nonSubsEvent = event && ![TextTrackKinds.CAPTIONS, TextTrackKinds.SUBTITLES].includes(\n            // @ts-ignore\n            (_a2 = event == null ? void 0 : event.track) == null ? void 0 : _a2.kind\n          );\n          if (nonSubsEvent)\n            return;\n          toggleSubtitleTracks(stateOwners, true);\n        };\n        media.addEventListener(\n          \"loadstart\",\n          updateDefaultSubtitlesCallback\n        );\n        (_a = media.textTracks) == null ? void 0 : _a.addEventListener(\n          \"addtrack\",\n          updateDefaultSubtitlesCallback\n        );\n        (_b = media.textTracks) == null ? void 0 : _b.addEventListener(\n          \"removetrack\",\n          updateDefaultSubtitlesCallback\n        );\n        return () => {\n          var _a2, _b2;\n          media.removeEventListener(\n            \"loadstart\",\n            updateDefaultSubtitlesCallback\n          );\n          (_a2 = media.textTracks) == null ? void 0 : _a2.removeEventListener(\n            \"addtrack\",\n            updateDefaultSubtitlesCallback\n          );\n          (_b2 = media.textTracks) == null ? void 0 : _b2.removeEventListener(\n            \"removetrack\",\n            updateDefaultSubtitlesCallback\n          );\n        };\n      }\n    ]\n  },\n  mediaChaptersCues: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      if (!media)\n        return [];\n      const [chaptersTrack] = getTextTracksList(media, {\n        kind: TextTrackKinds.CHAPTERS\n      });\n      return Array.from((_a = chaptersTrack == null ? void 0 : chaptersTrack.cues) != null ? _a : []).map(\n        ({ text, startTime, endTime }) => ({\n          text: parseHtmlToText(text),\n          startTime,\n          endTime\n        })\n      );\n    },\n    mediaEvents: [\"loadstart\", \"loadedmetadata\"],\n    textTracksEvents: [\"addtrack\", \"removetrack\", \"change\"],\n    stateOwnersUpdateHandlers: [\n      (handler, stateOwners) => {\n        var _a;\n        const { media } = stateOwners;\n        if (!media)\n          return;\n        const chaptersTrack = media.querySelector(\n          'track[kind=\"chapters\"][default][src]'\n        );\n        const shadowChaptersTrack = (_a = media.shadowRoot) == null ? void 0 : _a.querySelector(\n          ':is(video,audio) > track[kind=\"chapters\"][default][src]'\n        );\n        chaptersTrack == null ? void 0 : chaptersTrack.addEventListener(\"load\", handler);\n        shadowChaptersTrack == null ? void 0 : shadowChaptersTrack.addEventListener(\"load\", handler);\n        return () => {\n          chaptersTrack == null ? void 0 : chaptersTrack.removeEventListener(\"load\", handler);\n          shadowChaptersTrack == null ? void 0 : shadowChaptersTrack.removeEventListener(\"load\", handler);\n        };\n      }\n    ]\n  },\n  // Modeling state tied to root node\n  mediaIsPip: {\n    get(stateOwners) {\n      var _a, _b;\n      const { media, documentElement } = stateOwners;\n      if (!media || !documentElement)\n        return false;\n      if (!documentElement.pictureInPictureElement)\n        return false;\n      if (documentElement.pictureInPictureElement === media)\n        return true;\n      if (documentElement.pictureInPictureElement instanceof HTMLMediaElement) {\n        if (!((_a = media.localName) == null ? void 0 : _a.includes(\"-\")))\n          return false;\n        return containsComposedNode(\n          media,\n          documentElement.pictureInPictureElement\n        );\n      }\n      if (documentElement.pictureInPictureElement.localName.includes(\"-\")) {\n        let currentRoot = documentElement.pictureInPictureElement.shadowRoot;\n        while (currentRoot == null ? void 0 : currentRoot.pictureInPictureElement) {\n          if (currentRoot.pictureInPictureElement === media)\n            return true;\n          currentRoot = (_b = currentRoot.pictureInPictureElement) == null ? void 0 : _b.shadowRoot;\n        }\n      }\n      return false;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      if (value) {\n        if (!document.pictureInPictureEnabled) {\n          console.warn(\"MediaChrome: Picture-in-picture is not enabled\");\n          return;\n        }\n        if (!media.requestPictureInPicture) {\n          console.warn(\n            \"MediaChrome: The current media does not support picture-in-picture\"\n          );\n          return;\n        }\n        const warnNotReady = () => {\n          console.warn(\n            \"MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.\"\n          );\n        };\n        media.requestPictureInPicture().catch((err) => {\n          if (err.code === 11) {\n            if (!media.src) {\n              console.warn(\n                \"MediaChrome: The media is not ready for picture-in-picture. It must have a src set.\"\n              );\n              return;\n            }\n            if (media.readyState === 0 && media.preload === \"none\") {\n              const cleanup = () => {\n                media.removeEventListener(\"loadedmetadata\", tryPip);\n                media.preload = \"none\";\n              };\n              const tryPip = () => {\n                media.requestPictureInPicture().catch(warnNotReady);\n                cleanup();\n              };\n              media.addEventListener(\"loadedmetadata\", tryPip);\n              media.preload = \"metadata\";\n              setTimeout(() => {\n                if (media.readyState === 0)\n                  warnNotReady();\n                cleanup();\n              }, 1e3);\n            } else {\n              throw err;\n            }\n          } else {\n            throw err;\n          }\n        });\n      } else if (document.pictureInPictureElement) {\n        document.exitPictureInPicture();\n      }\n    },\n    mediaEvents: [\"enterpictureinpicture\", \"leavepictureinpicture\"]\n  },\n  mediaRenditionList: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return [...(_a = media == null ? void 0 : media.videoRenditions) != null ? _a : []].map((videoRendition) => ({\n        ...videoRendition\n      }));\n    },\n    mediaEvents: [\"emptied\", \"loadstart\"],\n    videoRenditionsEvents: [\"addrendition\", \"removerendition\"]\n  },\n  /** @TODO Model this as a derived value? (CJP) */\n  mediaRenditionSelected: {\n    get(stateOwners) {\n      var _a, _b, _c;\n      const { media } = stateOwners;\n      return (_c = (_b = media == null ? void 0 : media.videoRenditions) == null ? void 0 : _b[(_a = media.videoRenditions) == null ? void 0 : _a.selectedIndex]) == null ? void 0 : _c.id;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!(media == null ? void 0 : media.videoRenditions)) {\n        console.warn(\n          \"MediaController: Rendition selection not supported by this media.\"\n        );\n        return;\n      }\n      const renditionId = value;\n      const index = Array.prototype.findIndex.call(\n        media.videoRenditions,\n        (r) => r.id == renditionId\n      );\n      if (media.videoRenditions.selectedIndex != index) {\n        media.videoRenditions.selectedIndex = index;\n      }\n    },\n    mediaEvents: [\"emptied\"],\n    videoRenditionsEvents: [\"addrendition\", \"removerendition\", \"change\"]\n  },\n  mediaAudioTrackList: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      return [...(_a = media == null ? void 0 : media.audioTracks) != null ? _a : []];\n    },\n    mediaEvents: [\"emptied\", \"loadstart\"],\n    audioTracksEvents: [\"addtrack\", \"removetrack\"]\n  },\n  mediaAudioTrackEnabled: {\n    get(stateOwners) {\n      var _a, _b;\n      const { media } = stateOwners;\n      return (_b = [...(_a = media == null ? void 0 : media.audioTracks) != null ? _a : []].find(\n        (audioTrack) => audioTrack.enabled\n      )) == null ? void 0 : _b.id;\n    },\n    set(value, stateOwners) {\n      const { media } = stateOwners;\n      if (!(media == null ? void 0 : media.audioTracks)) {\n        console.warn(\n          \"MediaChrome: Audio track selection not supported by this media.\"\n        );\n        return;\n      }\n      const audioTrackId = value;\n      for (const track of media.audioTracks) {\n        track.enabled = audioTrackId == track.id;\n      }\n    },\n    mediaEvents: [\"emptied\"],\n    audioTracksEvents: [\"addtrack\", \"removetrack\", \"change\"]\n  },\n  mediaIsFullscreen: {\n    get(stateOwners) {\n      return isFullscreen(stateOwners);\n    },\n    set(value, stateOwners) {\n      if (!value) {\n        exitFullscreen(stateOwners);\n      } else {\n        enterFullscreen(stateOwners);\n      }\n    },\n    // older Safari version may require webkit-specific events\n    rootEvents: [\"fullscreenchange\", \"webkitfullscreenchange\"],\n    // iOS requires webkit-specific events on the video.\n    mediaEvents: [\n      \"webkitbeginfullscreen\",\n      \"webkitendfullscreen\",\n      \"webkitpresentationmodechanged\"\n    ]\n  },\n  mediaIsCasting: {\n    // Note this relies on a customized castable-video element.\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      if (!(media == null ? void 0 : media.remote) || ((_a = media.remote) == null ? void 0 : _a.state) === \"disconnected\")\n        return false;\n      return !!media.remote.state;\n    },\n    set(value, stateOwners) {\n      var _a, _b;\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      if (value && ((_a = media.remote) == null ? void 0 : _a.state) !== \"disconnected\")\n        return;\n      if (!value && ((_b = media.remote) == null ? void 0 : _b.state) !== \"connected\")\n        return;\n      if (typeof media.remote.prompt !== \"function\") {\n        console.warn(\n          \"MediaChrome: Casting is not supported in this environment\"\n        );\n        return;\n      }\n      media.remote.prompt().catch(() => {\n      });\n    },\n    remoteEvents: [\"connect\", \"connecting\", \"disconnect\"]\n  },\n  // NOTE: Newly added state for tracking airplaying\n  mediaIsAirplaying: {\n    // NOTE: Cannot know if airplaying since Safari doesn't fully support HTMLMediaElement::remote yet (e.g. remote::state) (CJP)\n    get() {\n      return false;\n    },\n    set(_value, stateOwners) {\n      const { media } = stateOwners;\n      if (!media)\n        return;\n      if (!(media.webkitShowPlaybackTargetPicker && globalThis.WebKitPlaybackTargetAvailabilityEvent)) {\n        console.error(\n          \"MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment\"\n        );\n        return;\n      }\n      media.webkitShowPlaybackTargetPicker();\n    },\n    mediaEvents: [\"webkitcurrentplaybacktargetiswirelesschanged\"]\n  },\n  mediaFullscreenUnavailable: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      if (!fullscreenSupported || !hasFullscreenSupport(media))\n        return AvailabilityStates.UNSUPPORTED;\n      return void 0;\n    }\n  },\n  mediaPipUnavailable: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      if (!pipSupported || !hasPipSupport(media))\n        return AvailabilityStates.UNSUPPORTED;\n      else if (media == null ? void 0 : media.disablePictureInPicture)\n        return AvailabilityStates.UNAVAILABLE;\n      return void 0;\n    }\n  },\n  mediaVolumeUnavailable: {\n    get(stateOwners) {\n      const { media } = stateOwners;\n      if (volumeSupported === false || (media == null ? void 0 : media.volume) == void 0) {\n        return AvailabilityStates.UNSUPPORTED;\n      }\n      return void 0;\n    },\n    // NOTE: Slightly different impl here. Added generic support for\n    // \"stateOwnersUpdateHandlers\" since the original impl had to hack around\n    // race conditions. (CJP)\n    stateOwnersUpdateHandlers: [\n      (handler) => {\n        if (volumeSupported == null) {\n          volumeSupportPromise.then(\n            (supported) => handler(supported ? void 0 : AvailabilityStates.UNSUPPORTED)\n          );\n        }\n      }\n    ]\n  },\n  mediaCastUnavailable: {\n    // @ts-ignore\n    get(stateOwners, { availability = \"not-available\" } = {}) {\n      var _a;\n      const { media } = stateOwners;\n      if (!castSupported || !((_a = media == null ? void 0 : media.remote) == null ? void 0 : _a.state)) {\n        return AvailabilityStates.UNSUPPORTED;\n      }\n      if (availability == null || availability === \"available\")\n        return void 0;\n      return AvailabilityStates.UNAVAILABLE;\n    },\n    stateOwnersUpdateHandlers: [\n      (handler, stateOwners) => {\n        var _a;\n        const { media } = stateOwners;\n        if (!media)\n          return;\n        const remotePlaybackDisabled = media.disableRemotePlayback || media.hasAttribute(\"disableremoteplayback\");\n        if (!remotePlaybackDisabled) {\n          (_a = media == null ? void 0 : media.remote) == null ? void 0 : _a.watchAvailability((availabilityBool) => {\n            const availability = availabilityBool ? \"available\" : \"not-available\";\n            handler({ availability });\n          }).catch((error) => {\n            if (error.name === \"NotSupportedError\") {\n              handler({ availability: null });\n            } else {\n              handler({ availability: \"not-available\" });\n            }\n          });\n        }\n        return () => {\n          var _a2;\n          (_a2 = media == null ? void 0 : media.remote) == null ? void 0 : _a2.cancelWatchAvailability().catch(() => {\n          });\n        };\n      }\n    ]\n  },\n  mediaAirplayUnavailable: {\n    get(_stateOwners, event) {\n      if (!airplaySupported)\n        return AvailabilityStates.UNSUPPORTED;\n      if ((event == null ? void 0 : event.availability) === \"not-available\") {\n        return AvailabilityStates.UNAVAILABLE;\n      }\n      return void 0;\n    },\n    // NOTE: Keeping this event, as it's still the documented way of monitoring\n    // for AirPlay availability from Apple.\n    // See: https://developer.apple.com/documentation/webkitjs/adding_an_airplay_button_to_your_safari_media_controls#2940021 (CJP)\n    mediaEvents: [\"webkitplaybacktargetavailabilitychanged\"],\n    stateOwnersUpdateHandlers: [\n      (handler, stateOwners) => {\n        var _a;\n        const { media } = stateOwners;\n        if (!media)\n          return;\n        const remotePlaybackDisabled = media.disableRemotePlayback || media.hasAttribute(\"disableremoteplayback\");\n        if (!remotePlaybackDisabled) {\n          (_a = media == null ? void 0 : media.remote) == null ? void 0 : _a.watchAvailability((availabilityBool) => {\n            const availability = availabilityBool ? \"available\" : \"not-available\";\n            handler({ availability });\n          }).catch((error) => {\n            if (error.name === \"NotSupportedError\") {\n              handler({ availability: null });\n            } else {\n              handler({ availability: \"not-available\" });\n            }\n          });\n        }\n        return () => {\n          var _a2;\n          (_a2 = media == null ? void 0 : media.remote) == null ? void 0 : _a2.cancelWatchAvailability().catch(() => {\n          });\n        };\n      }\n    ]\n  },\n  mediaRenditionUnavailable: {\n    get(stateOwners) {\n      var _a;\n      const { media } = stateOwners;\n      if (!(media == null ? void 0 : media.videoRenditions)) {\n        return AvailabilityStates.UNSUPPORTED;\n      }\n      if (!((_a = media.videoRenditions) == null ? void 0 : _a.length)) {\n        return AvailabilityStates.UNAVAILABLE;\n      }\n      return void 0;\n    },\n    mediaEvents: [\"emptied\", \"loadstart\"],\n    videoRenditionsEvents: [\"addrendition\", \"removerendition\"]\n  },\n  mediaAudioTrackUnavailable: {\n    get(stateOwners) {\n      var _a, _b;\n      const { media } = stateOwners;\n      if (!(media == null ? void 0 : media.audioTracks)) {\n        return AvailabilityStates.UNSUPPORTED;\n      }\n      if (((_b = (_a = media.audioTracks) == null ? void 0 : _a.length) != null ? _b : 0) <= 1) {\n        return AvailabilityStates.UNAVAILABLE;\n      }\n      return void 0;\n    },\n    mediaEvents: [\"emptied\", \"loadstart\"],\n    audioTracksEvents: [\"addtrack\", \"removetrack\"]\n  },\n  mediaLang: {\n    get(stateOwners) {\n      const { options: { mediaLang } = {} } = stateOwners;\n      return mediaLang != null ? mediaLang : \"en\";\n    }\n  }\n};\nexport {\n  prepareStateOwners,\n  stateMediator,\n  volumeSupportPromise\n};\n", "import { globalThis } from \"../utils/server-safe-globals.js\";\nimport {\n  MediaUIEvents,\n  StreamTypes,\n  TextTrackKinds,\n  TextTrackModes\n} from \"../constants.js\";\nimport {\n  getTextTracksList,\n  parseTracks,\n  updateTracksModeTo\n} from \"../utils/captions.js\";\nimport { getSubtitleTracks, toggleSubtitleTracks } from \"./util.js\";\nconst requestMap = {\n  /**\n   * @TODO Consider adding state to `StateMediator` for e.g. `mediaThumbnailCues` and use that for derived state here (CJP)\n   */\n  [MediaUIEvents.MEDIA_PREVIEW_REQUEST](stateMediator, stateOwners, { detail }) {\n    var _a, _b, _c;\n    const { media } = stateOwners;\n    const mediaPreviewTime = detail != null ? detail : void 0;\n    let mediaPreviewImage = void 0;\n    let mediaPreviewCoords = void 0;\n    if (media && mediaPreviewTime != null) {\n      const [track] = getTextTracksList(media, {\n        kind: TextTrackKinds.METADATA,\n        label: \"thumbnails\"\n      });\n      const cue = Array.prototype.find.call((_a = track == null ? void 0 : track.cues) != null ? _a : [], (c, i, cs) => {\n        if (i === 0)\n          return c.endTime > mediaPreviewTime;\n        if (i === cs.length - 1)\n          return c.startTime <= mediaPreviewTime;\n        return c.startTime <= mediaPreviewTime && c.endTime > mediaPreviewTime;\n      });\n      if (cue) {\n        const base = !/'^(?:[a-z]+:)?\\/\\//i.test(cue.text) ? (_b = media == null ? void 0 : media.querySelector(\n          'track[label=\"thumbnails\"]'\n        )) == null ? void 0 : _b.src : void 0;\n        const url = new URL(cue.text, base);\n        const previewCoordsStr = new URLSearchParams(url.hash).get(\"#xywh\");\n        mediaPreviewCoords = previewCoordsStr.split(\",\").map((numStr) => +numStr);\n        mediaPreviewImage = url.href;\n      }\n    }\n    const mediaDuration = stateMediator.mediaDuration.get(stateOwners);\n    const mediaChaptersCues = stateMediator.mediaChaptersCues.get(stateOwners);\n    let mediaPreviewChapter = (_c = mediaChaptersCues.find((c, i, cs) => {\n      if (i === cs.length - 1 && mediaDuration === c.endTime) {\n        return c.startTime <= mediaPreviewTime && c.endTime >= mediaPreviewTime;\n      }\n      return c.startTime <= mediaPreviewTime && c.endTime > mediaPreviewTime;\n    })) == null ? void 0 : _c.text;\n    if (detail != null && mediaPreviewChapter == null) {\n      mediaPreviewChapter = \"\";\n    }\n    return {\n      mediaPreviewTime,\n      mediaPreviewImage,\n      mediaPreviewCoords,\n      mediaPreviewChapter\n    };\n  },\n  [MediaUIEvents.MEDIA_PAUSE_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaPaused\";\n    const value = true;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_PLAY_REQUEST](stateMediator, stateOwners) {\n    var _a, _b, _c, _d;\n    const key = \"mediaPaused\";\n    const value = false;\n    const isLive = stateMediator.mediaStreamType.get(stateOwners) === StreamTypes.LIVE;\n    const canAutoSeekToLive = !((_a = stateOwners.options) == null ? void 0 : _a.noAutoSeekToLive);\n    const isDVR = stateMediator.mediaTargetLiveWindow.get(stateOwners) > 0;\n    if (isLive && canAutoSeekToLive && !isDVR) {\n      const seekableEnd = (_b = stateMediator.mediaSeekable.get(stateOwners)) == null ? void 0 : _b[1];\n      if (seekableEnd) {\n        const seekToLiveOffset = (_d = (_c = stateOwners.options) == null ? void 0 : _c.seekToLiveOffset) != null ? _d : 0;\n        const liveEdgeTime = seekableEnd - seekToLiveOffset;\n        stateMediator.mediaCurrentTime.set(liveEdgeTime, stateOwners);\n      }\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST](stateMediator, stateOwners, { detail }) {\n    const key = \"mediaPlaybackRate\";\n    const value = detail;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_MUTE_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaMuted\";\n    const value = true;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_UNMUTE_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaMuted\";\n    const value = false;\n    if (!stateMediator.mediaVolume.get(stateOwners)) {\n      stateMediator.mediaVolume.set(0.25, stateOwners);\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_VOLUME_REQUEST](stateMediator, stateOwners, { detail }) {\n    const key = \"mediaVolume\";\n    const value = detail;\n    if (value && stateMediator.mediaMuted.get(stateOwners)) {\n      stateMediator.mediaMuted.set(false, stateOwners);\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_SEEK_REQUEST](stateMediator, stateOwners, { detail }) {\n    const key = \"mediaCurrentTime\";\n    const value = detail;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_SEEK_TO_LIVE_REQUEST](stateMediator, stateOwners) {\n    var _a, _b, _c;\n    const key = \"mediaCurrentTime\";\n    const seekableEnd = (_a = stateMediator.mediaSeekable.get(stateOwners)) == null ? void 0 : _a[1];\n    if (Number.isNaN(Number(seekableEnd)))\n      return;\n    const seekToLiveOffset = (_c = (_b = stateOwners.options) == null ? void 0 : _b.seekToLiveOffset) != null ? _c : 0;\n    const value = seekableEnd - seekToLiveOffset;\n    stateMediator[key].set(value, stateOwners);\n  },\n  // Text Tracks state change requests\n  [MediaUIEvents.MEDIA_SHOW_SUBTITLES_REQUEST](_stateMediator, stateOwners, { detail }) {\n    var _a;\n    const { options } = stateOwners;\n    const tracks = getSubtitleTracks(stateOwners);\n    const tracksToUpdate = parseTracks(detail);\n    const preferredLanguage = (_a = tracksToUpdate[0]) == null ? void 0 : _a.language;\n    if (preferredLanguage && !options.noSubtitlesLangPref) {\n      globalThis.localStorage.setItem(\n        \"media-chrome-pref-subtitles-lang\",\n        preferredLanguage\n      );\n    }\n    updateTracksModeTo(TextTrackModes.SHOWING, tracks, tracksToUpdate);\n  },\n  [MediaUIEvents.MEDIA_DISABLE_SUBTITLES_REQUEST](_stateMediator, stateOwners, { detail }) {\n    const tracks = getSubtitleTracks(stateOwners);\n    const tracksToUpdate = detail != null ? detail : [];\n    updateTracksModeTo(TextTrackModes.DISABLED, tracks, tracksToUpdate);\n  },\n  [MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST](_stateMediator, stateOwners, { detail }) {\n    toggleSubtitleTracks(stateOwners, detail);\n  },\n  // Renditions/Tracks state change requests\n  [MediaUIEvents.MEDIA_RENDITION_REQUEST](stateMediator, stateOwners, { detail }) {\n    const key = \"mediaRenditionSelected\";\n    const value = detail;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_AUDIO_TRACK_REQUEST](stateMediator, stateOwners, { detail }) {\n    const key = \"mediaAudioTrackEnabled\";\n    const value = detail;\n    stateMediator[key].set(value, stateOwners);\n  },\n  // State change requests dependent on root node\n  [MediaUIEvents.MEDIA_ENTER_PIP_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsPip\";\n    const value = true;\n    if (stateMediator.mediaIsFullscreen.get(stateOwners)) {\n      stateMediator.mediaIsFullscreen.set(false, stateOwners);\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_EXIT_PIP_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsPip\";\n    const value = false;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_ENTER_FULLSCREEN_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsFullscreen\";\n    const value = true;\n    if (stateMediator.mediaIsPip.get(stateOwners)) {\n      stateMediator.mediaIsPip.set(false, stateOwners);\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_EXIT_FULLSCREEN_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsFullscreen\";\n    const value = false;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_ENTER_CAST_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsCasting\";\n    const value = true;\n    if (stateMediator.mediaIsFullscreen.get(stateOwners)) {\n      stateMediator.mediaIsFullscreen.set(false, stateOwners);\n    }\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_EXIT_CAST_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsCasting\";\n    const value = false;\n    stateMediator[key].set(value, stateOwners);\n  },\n  [MediaUIEvents.MEDIA_AIRPLAY_REQUEST](stateMediator, stateOwners) {\n    const key = \"mediaIsAirplaying\";\n    const value = true;\n    stateMediator[key].set(value, stateOwners);\n  }\n};\nexport {\n  requestMap\n};\n", "import {\n  stateMediator as defaultStateMediator,\n  prepareStateOwners\n} from \"./state-mediator.js\";\nimport { areValuesEq } from \"./util.js\";\nimport { requestMap as defaultRequestMap } from \"./request-map.js\";\nconst createMediaStore = ({\n  media,\n  fullscreenElement,\n  documentElement,\n  stateMediator = defaultStateMediator,\n  requestMap = defaultRequestMap,\n  options = {},\n  monitorStateOwnersOnlyWithSubscriptions = true\n}) => {\n  const callbacks = [];\n  const stateOwners = {\n    // Spreading options here since folks should not rely on holding onto references\n    // for any app-level logic wrt options.\n    options: { ...options }\n  };\n  let state = Object.freeze({\n    mediaPreviewTime: void 0,\n    mediaPreviewImage: void 0,\n    mediaPreviewCoords: void 0,\n    mediaPreviewChapter: void 0\n  });\n  const updateState = (nextStateDelta) => {\n    if (nextStateDelta == void 0)\n      return;\n    if (areValuesEq(nextStateDelta, state)) {\n      return;\n    }\n    state = Object.freeze({\n      ...state,\n      ...nextStateDelta\n    });\n    callbacks.forEach((cb) => cb(state));\n  };\n  const updateStateFromFacade = () => {\n    const nextState = Object.entries(stateMediator).reduce(\n      (nextState2, [stateName, { get }]) => {\n        nextState2[stateName] = get(stateOwners);\n        return nextState2;\n      },\n      {}\n    );\n    updateState(nextState);\n  };\n  const stateUpdateHandlers = {};\n  let nextStateOwners = void 0;\n  const updateStateOwners = async (nextStateOwnersDelta, nextSubscriberCount) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n    const pendingUpdate = !!nextStateOwners;\n    nextStateOwners = {\n      ...stateOwners,\n      ...nextStateOwners != null ? nextStateOwners : {},\n      ...nextStateOwnersDelta\n    };\n    if (pendingUpdate)\n      return;\n    await prepareStateOwners(...Object.values(nextStateOwnersDelta));\n    const shouldTeardownFromSubscriberCount = callbacks.length > 0 && nextSubscriberCount === 0 && monitorStateOwnersOnlyWithSubscriptions;\n    const mediaChanged = stateOwners.media !== nextStateOwners.media;\n    const textTracksChanged = ((_a = stateOwners.media) == null ? void 0 : _a.textTracks) !== ((_b = nextStateOwners.media) == null ? void 0 : _b.textTracks);\n    const videoRenditionsChanged = ((_c = stateOwners.media) == null ? void 0 : _c.videoRenditions) !== ((_d = nextStateOwners.media) == null ? void 0 : _d.videoRenditions);\n    const audioTracksChanged = ((_e = stateOwners.media) == null ? void 0 : _e.audioTracks) !== ((_f = nextStateOwners.media) == null ? void 0 : _f.audioTracks);\n    const remoteChanged = ((_g = stateOwners.media) == null ? void 0 : _g.remote) !== ((_h = nextStateOwners.media) == null ? void 0 : _h.remote);\n    const rootNodeChanged = stateOwners.documentElement !== nextStateOwners.documentElement;\n    const teardownMedia = !!stateOwners.media && (mediaChanged || shouldTeardownFromSubscriberCount);\n    const teardownTextTracks = !!((_i = stateOwners.media) == null ? void 0 : _i.textTracks) && (textTracksChanged || shouldTeardownFromSubscriberCount);\n    const teardownVideoRenditions = !!((_j = stateOwners.media) == null ? void 0 : _j.videoRenditions) && (videoRenditionsChanged || shouldTeardownFromSubscriberCount);\n    const teardownAudioTracks = !!((_k = stateOwners.media) == null ? void 0 : _k.audioTracks) && (audioTracksChanged || shouldTeardownFromSubscriberCount);\n    const teardownRemote = !!((_l = stateOwners.media) == null ? void 0 : _l.remote) && (remoteChanged || shouldTeardownFromSubscriberCount);\n    const teardownRootNode = !!stateOwners.documentElement && (rootNodeChanged || shouldTeardownFromSubscriberCount);\n    const teardownSomething = teardownMedia || teardownTextTracks || teardownVideoRenditions || teardownAudioTracks || teardownRemote || teardownRootNode;\n    const shouldSetupFromSubscriberCount = callbacks.length === 0 && nextSubscriberCount === 1 && monitorStateOwnersOnlyWithSubscriptions;\n    const setupMedia = !!nextStateOwners.media && (mediaChanged || shouldSetupFromSubscriberCount);\n    const setupTextTracks = !!((_m = nextStateOwners.media) == null ? void 0 : _m.textTracks) && (textTracksChanged || shouldSetupFromSubscriberCount);\n    const setupVideoRenditions = !!((_n = nextStateOwners.media) == null ? void 0 : _n.videoRenditions) && (videoRenditionsChanged || shouldSetupFromSubscriberCount);\n    const setupAudioTracks = !!((_o = nextStateOwners.media) == null ? void 0 : _o.audioTracks) && (audioTracksChanged || shouldSetupFromSubscriberCount);\n    const setupRemote = !!((_p = nextStateOwners.media) == null ? void 0 : _p.remote) && (remoteChanged || shouldSetupFromSubscriberCount);\n    const setupRootNode = !!nextStateOwners.documentElement && (rootNodeChanged || shouldSetupFromSubscriberCount);\n    const setupSomething = setupMedia || setupTextTracks || setupVideoRenditions || setupAudioTracks || setupRemote || setupRootNode;\n    const somethingToDo = teardownSomething || setupSomething;\n    if (!somethingToDo) {\n      Object.entries(nextStateOwners).forEach(\n        ([stateOwnerName, stateOwner]) => {\n          stateOwners[stateOwnerName] = stateOwner;\n        }\n      );\n      updateStateFromFacade();\n      nextStateOwners = void 0;\n      return;\n    }\n    Object.entries(stateMediator).forEach(\n      ([\n        stateName,\n        {\n          get,\n          mediaEvents = [],\n          textTracksEvents = [],\n          videoRenditionsEvents = [],\n          audioTracksEvents = [],\n          remoteEvents = [],\n          rootEvents = [],\n          stateOwnersUpdateHandlers = []\n        }\n      ]) => {\n        if (!stateUpdateHandlers[stateName]) {\n          stateUpdateHandlers[stateName] = {};\n        }\n        const handler = (event) => {\n          const nextValue = get(stateOwners, event);\n          updateState({ [stateName]: nextValue });\n        };\n        let prevHandler;\n        prevHandler = stateUpdateHandlers[stateName].mediaEvents;\n        mediaEvents.forEach((eventType) => {\n          if (prevHandler && teardownMedia) {\n            stateOwners.media.removeEventListener(eventType, prevHandler);\n            stateUpdateHandlers[stateName].mediaEvents = void 0;\n          }\n          if (setupMedia) {\n            nextStateOwners.media.addEventListener(eventType, handler);\n            stateUpdateHandlers[stateName].mediaEvents = handler;\n          }\n        });\n        prevHandler = stateUpdateHandlers[stateName].textTracksEvents;\n        textTracksEvents.forEach((eventType) => {\n          var _a2, _b2;\n          if (prevHandler && teardownTextTracks) {\n            (_a2 = stateOwners.media.textTracks) == null ? void 0 : _a2.removeEventListener(\n              eventType,\n              prevHandler\n            );\n            stateUpdateHandlers[stateName].textTracksEvents = void 0;\n          }\n          if (setupTextTracks) {\n            (_b2 = nextStateOwners.media.textTracks) == null ? void 0 : _b2.addEventListener(\n              eventType,\n              handler\n            );\n            stateUpdateHandlers[stateName].textTracksEvents = handler;\n          }\n        });\n        prevHandler = stateUpdateHandlers[stateName].videoRenditionsEvents;\n        videoRenditionsEvents.forEach((eventType) => {\n          var _a2, _b2;\n          if (prevHandler && teardownVideoRenditions) {\n            (_a2 = stateOwners.media.videoRenditions) == null ? void 0 : _a2.removeEventListener(\n              eventType,\n              prevHandler\n            );\n            stateUpdateHandlers[stateName].videoRenditionsEvents = void 0;\n          }\n          if (setupVideoRenditions) {\n            (_b2 = nextStateOwners.media.videoRenditions) == null ? void 0 : _b2.addEventListener(\n              eventType,\n              handler\n            );\n            stateUpdateHandlers[stateName].videoRenditionsEvents = handler;\n          }\n        });\n        prevHandler = stateUpdateHandlers[stateName].audioTracksEvents;\n        audioTracksEvents.forEach((eventType) => {\n          var _a2, _b2;\n          if (prevHandler && teardownAudioTracks) {\n            (_a2 = stateOwners.media.audioTracks) == null ? void 0 : _a2.removeEventListener(\n              eventType,\n              prevHandler\n            );\n            stateUpdateHandlers[stateName].audioTracksEvents = void 0;\n          }\n          if (setupAudioTracks) {\n            (_b2 = nextStateOwners.media.audioTracks) == null ? void 0 : _b2.addEventListener(\n              eventType,\n              handler\n            );\n            stateUpdateHandlers[stateName].audioTracksEvents = handler;\n          }\n        });\n        prevHandler = stateUpdateHandlers[stateName].remoteEvents;\n        remoteEvents.forEach((eventType) => {\n          var _a2, _b2;\n          if (prevHandler && teardownRemote) {\n            (_a2 = stateOwners.media.remote) == null ? void 0 : _a2.removeEventListener(\n              eventType,\n              prevHandler\n            );\n            stateUpdateHandlers[stateName].remoteEvents = void 0;\n          }\n          if (setupRemote) {\n            (_b2 = nextStateOwners.media.remote) == null ? void 0 : _b2.addEventListener(eventType, handler);\n            stateUpdateHandlers[stateName].remoteEvents = handler;\n          }\n        });\n        prevHandler = stateUpdateHandlers[stateName].rootEvents;\n        rootEvents.forEach((eventType) => {\n          if (prevHandler && teardownRootNode) {\n            stateOwners.documentElement.removeEventListener(\n              eventType,\n              prevHandler\n            );\n            stateUpdateHandlers[stateName].rootEvents = void 0;\n          }\n          if (setupRootNode) {\n            nextStateOwners.documentElement.addEventListener(\n              eventType,\n              handler\n            );\n            stateUpdateHandlers[stateName].rootEvents = handler;\n          }\n        });\n        const prevHandlerTeardown = stateUpdateHandlers[stateName].stateOwnersUpdateHandlers;\n        stateOwnersUpdateHandlers.forEach((fn) => {\n          if (prevHandlerTeardown && teardownSomething) {\n            prevHandlerTeardown();\n          }\n          if (setupSomething) {\n            stateUpdateHandlers[stateName].stateOwnersUpdateHandlers = fn(\n              handler,\n              nextStateOwners\n            );\n          }\n        });\n      }\n    );\n    Object.entries(nextStateOwners).forEach(([stateOwnerName, stateOwner]) => {\n      stateOwners[stateOwnerName] = stateOwner;\n    });\n    updateStateFromFacade();\n    nextStateOwners = void 0;\n  };\n  updateStateOwners({ media, fullscreenElement, documentElement, options });\n  return {\n    // note that none of these cases directly interact with the media element, root node, full screen element, etc.\n    // note these \"actions\" could just be the events if we wanted, especially if we normalize on \"detail\" for\n    // any payload-relevant values\n    // This is roughly equivalent to our used to be in our state requests dictionary object, though much of the\n    // \"heavy lifting\" is now moved into the facade `set()`\n    dispatch(action) {\n      const { type, detail } = action;\n      if (requestMap[type] && state.mediaErrorCode == null) {\n        updateState(requestMap[type](stateMediator, stateOwners, action));\n        return;\n      }\n      if (type === \"mediaelementchangerequest\") {\n        updateStateOwners({ media: detail });\n      } else if (type === \"fullscreenelementchangerequest\") {\n        updateStateOwners({ fullscreenElement: detail });\n      } else if (type === \"documentelementchangerequest\") {\n        updateStateOwners({ documentElement: detail });\n      } else if (type === \"optionschangerequest\") {\n        Object.entries(detail != null ? detail : {}).forEach(([optionName, optionValue]) => {\n          stateOwners.options[optionName] = optionValue;\n        });\n        updateStateFromFacade();\n      }\n    },\n    getState() {\n      return state;\n    },\n    subscribe(callback) {\n      updateStateOwners({}, callbacks.length + 1);\n      callbacks.push(callback);\n      callback(state);\n      return () => {\n        const idx = callbacks.indexOf(callback);\n        if (idx >= 0) {\n          updateStateOwners({}, callbacks.length - 1);\n          callbacks.splice(idx, 1);\n        }\n      };\n    }\n  };\n};\nvar media_store_default = createMediaStore;\nexport {\n  createMediaStore,\n  media_store_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _hotKeys, _fullscreenElement, _mediaStore, _mediaStateCallback, _mediaStoreUnsubscribe, _mediaStateEventHandler, _setupDefaultStore, setupDefaultStore_fn, _keyUpHandler, keyUpHandler_fn, _keyDownHandler, keyDownHandler_fn;\nimport { MediaContainer } from \"./media-container.js\";\nimport { document, globalThis } from \"./utils/server-safe-globals.js\";\nimport { AttributeTokenList } from \"./utils/attribute-token-list.js\";\nimport {\n  delay,\n  stringifyRenditionList,\n  stringifyAudioTrackList\n} from \"./utils/utils.js\";\nimport { stringifyTextTrackList } from \"./utils/captions.js\";\nimport {\n  MediaUIEvents,\n  MediaUIAttributes,\n  MediaStateReceiverAttributes,\n  AttributeToStateChangeEventMap,\n  MediaUIProps\n} from \"./constants.js\";\nimport {\n  getBooleanAttr,\n  getNumericAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setNumericAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport { createMediaStore } from \"./media-store/media-store.js\";\nimport { setLanguage } from \"./utils/i18n.js\";\nconst ButtonPressedKeys = [\n  \"ArrowLeft\",\n  \"ArrowRight\",\n  \"Enter\",\n  \" \",\n  \"f\",\n  \"m\",\n  \"k\",\n  \"c\"\n];\nconst DEFAULT_SEEK_OFFSET = 10;\nconst Attributes = {\n  DEFAULT_SUBTITLES: \"defaultsubtitles\",\n  DEFAULT_STREAM_TYPE: \"defaultstreamtype\",\n  DEFAULT_DURATION: \"defaultduration\",\n  FULLSCREEN_ELEMENT: \"fullscreenelement\",\n  HOTKEYS: \"hotkeys\",\n  KEYS_USED: \"keysused\",\n  LIVE_EDGE_OFFSET: \"liveedgeoffset\",\n  SEEK_TO_LIVE_OFFSET: \"seektoliveoffset\",\n  NO_AUTO_SEEK_TO_LIVE: \"noautoseektolive\",\n  NO_HOTKEYS: \"nohotkeys\",\n  NO_VOLUME_PREF: \"novolumepref\",\n  NO_SUBTITLES_LANG_PREF: \"nosubtitleslangpref\",\n  NO_DEFAULT_STORE: \"nodefaultstore\",\n  KEYBOARD_FORWARD_SEEK_OFFSET: \"keyboardforwardseekoffset\",\n  KEYBOARD_BACKWARD_SEEK_OFFSET: \"keyboardbackwardseekoffset\",\n  LANG: \"lang\"\n};\nclass MediaController extends MediaContainer {\n  constructor() {\n    super();\n    __privateAdd(this, _setupDefaultStore);\n    __privateAdd(this, _keyUpHandler);\n    __privateAdd(this, _keyDownHandler);\n    this.mediaStateReceivers = [];\n    this.associatedElementSubscriptions = /* @__PURE__ */ new Map();\n    __privateAdd(this, _hotKeys, new AttributeTokenList(this, Attributes.HOTKEYS));\n    __privateAdd(this, _fullscreenElement, void 0);\n    __privateAdd(this, _mediaStore, void 0);\n    __privateAdd(this, _mediaStateCallback, void 0);\n    __privateAdd(this, _mediaStoreUnsubscribe, void 0);\n    __privateAdd(this, _mediaStateEventHandler, (event) => {\n      var _a;\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch(event);\n    });\n    this.associateElement(this);\n    let prevState = {};\n    __privateSet(this, _mediaStateCallback, (nextState) => {\n      Object.entries(nextState).forEach(([stateName, stateValue]) => {\n        if (stateName in prevState && prevState[stateName] === stateValue)\n          return;\n        this.propagateMediaState(stateName, stateValue);\n        const attrName = stateName.toLowerCase();\n        const evt = new globalThis.CustomEvent(\n          AttributeToStateChangeEventMap[attrName],\n          { composed: true, detail: stateValue }\n        );\n        this.dispatchEvent(evt);\n      });\n      prevState = nextState;\n    });\n    this.enableHotkeys();\n  }\n  static get observedAttributes() {\n    return super.observedAttributes.concat(\n      Attributes.NO_HOTKEYS,\n      Attributes.HOTKEYS,\n      Attributes.DEFAULT_STREAM_TYPE,\n      Attributes.DEFAULT_SUBTITLES,\n      Attributes.DEFAULT_DURATION,\n      Attributes.LANG\n    );\n  }\n  get mediaStore() {\n    return __privateGet(this, _mediaStore);\n  }\n  set mediaStore(value) {\n    var _a, _b;\n    if (__privateGet(this, _mediaStore)) {\n      (_a = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _a.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n    __privateSet(this, _mediaStore, value);\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n      return;\n    }\n    __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(\n      __privateGet(this, _mediaStateCallback)\n    ));\n  }\n  get fullscreenElement() {\n    var _a;\n    return (_a = __privateGet(this, _fullscreenElement)) != null ? _a : this;\n  }\n  set fullscreenElement(element) {\n    var _a;\n    if (this.hasAttribute(Attributes.FULLSCREEN_ELEMENT)) {\n      this.removeAttribute(Attributes.FULLSCREEN_ELEMENT);\n    }\n    __privateSet(this, _fullscreenElement, element);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"fullscreenelementchangerequest\",\n      detail: this.fullscreenElement\n    });\n  }\n  get defaultSubtitles() {\n    return getBooleanAttr(this, Attributes.DEFAULT_SUBTITLES);\n  }\n  set defaultSubtitles(value) {\n    setBooleanAttr(this, Attributes.DEFAULT_SUBTITLES, value);\n  }\n  get defaultStreamType() {\n    return getStringAttr(this, Attributes.DEFAULT_STREAM_TYPE);\n  }\n  set defaultStreamType(value) {\n    setStringAttr(this, Attributes.DEFAULT_STREAM_TYPE, value);\n  }\n  get defaultDuration() {\n    return getNumericAttr(this, Attributes.DEFAULT_DURATION);\n  }\n  set defaultDuration(value) {\n    setNumericAttr(this, Attributes.DEFAULT_DURATION, value);\n  }\n  get noHotkeys() {\n    return getBooleanAttr(this, Attributes.NO_HOTKEYS);\n  }\n  set noHotkeys(value) {\n    setBooleanAttr(this, Attributes.NO_HOTKEYS, value);\n  }\n  get keysUsed() {\n    return getStringAttr(this, Attributes.KEYS_USED);\n  }\n  set keysUsed(value) {\n    setStringAttr(this, Attributes.KEYS_USED, value);\n  }\n  get liveEdgeOffset() {\n    return getNumericAttr(this, Attributes.LIVE_EDGE_OFFSET);\n  }\n  set liveEdgeOffset(value) {\n    setNumericAttr(this, Attributes.LIVE_EDGE_OFFSET, value);\n  }\n  get noAutoSeekToLive() {\n    return getBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE);\n  }\n  set noAutoSeekToLive(value) {\n    setBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE, value);\n  }\n  get noVolumePref() {\n    return getBooleanAttr(this, Attributes.NO_VOLUME_PREF);\n  }\n  set noVolumePref(value) {\n    setBooleanAttr(this, Attributes.NO_VOLUME_PREF, value);\n  }\n  get noSubtitlesLangPref() {\n    return getBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF);\n  }\n  set noSubtitlesLangPref(value) {\n    setBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF, value);\n  }\n  get noDefaultStore() {\n    return getBooleanAttr(this, Attributes.NO_DEFAULT_STORE);\n  }\n  set noDefaultStore(value) {\n    setBooleanAttr(this, Attributes.NO_DEFAULT_STORE, value);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === Attributes.NO_HOTKEYS) {\n      if (newValue !== oldValue && newValue === \"\") {\n        if (this.hasAttribute(Attributes.HOTKEYS)) {\n          console.warn(\n            \"Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled.\"\n          );\n        }\n        this.disableHotkeys();\n      } else if (newValue !== oldValue && newValue === null) {\n        this.enableHotkeys();\n      }\n    } else if (attrName === Attributes.HOTKEYS) {\n      __privateGet(this, _hotKeys).value = newValue;\n    } else if (attrName === Attributes.DEFAULT_SUBTITLES && newValue !== oldValue) {\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES)\n        }\n      });\n    } else if (attrName === Attributes.DEFAULT_STREAM_TYPE) {\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultStreamType: (_b = this.getAttribute(Attributes.DEFAULT_STREAM_TYPE)) != null ? _b : void 0\n        }\n      });\n    } else if (attrName === Attributes.LIVE_EDGE_OFFSET) {\n      (_d = __privateGet(this, _mediaStore)) == null ? void 0 : _d.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n          seekToLiveOffset: !this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.SEEK_TO_LIVE_OFFSET) {\n      (_e = __privateGet(this, _mediaStore)) == null ? void 0 : _e.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.NO_AUTO_SEEK_TO_LIVE) {\n      (_f = __privateGet(this, _mediaStore)) == null ? void 0 : _f.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE)\n        }\n      });\n    } else if (attrName === Attributes.FULLSCREEN_ELEMENT) {\n      const el = newValue ? (_g = this.getRootNode()) == null ? void 0 : _g.getElementById(newValue) : void 0;\n      __privateSet(this, _fullscreenElement, el);\n      (_h = __privateGet(this, _mediaStore)) == null ? void 0 : _h.dispatch({\n        type: \"fullscreenelementchangerequest\",\n        detail: this.fullscreenElement\n      });\n    } else if (attrName === Attributes.LANG && newValue !== oldValue) {\n      setLanguage(newValue);\n      (_i = __privateGet(this, _mediaStore)) == null ? void 0 : _i.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          mediaLang: newValue\n        }\n      });\n    }\n  }\n  connectedCallback() {\n    var _a, _b;\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n    }\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"documentelementchangerequest\",\n      detail: document\n    });\n    super.connectedCallback();\n    if (__privateGet(this, _mediaStore) && !__privateGet(this, _mediaStoreUnsubscribe)) {\n      __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(\n        __privateGet(this, _mediaStateCallback)\n      ));\n    }\n    this.enableHotkeys();\n  }\n  disconnectedCallback() {\n    var _a, _b, _c, _d;\n    (_a = super.disconnectedCallback) == null ? void 0 : _a.call(this);\n    if (__privateGet(this, _mediaStore)) {\n      (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.dispatch({\n        type: \"documentelementchangerequest\",\n        detail: void 0\n      });\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n        detail: false\n      });\n    }\n    if (__privateGet(this, _mediaStoreUnsubscribe)) {\n      (_d = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _d.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaSetCallback(media) {\n    var _a;\n    super.mediaSetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: media\n    });\n    if (!media.hasAttribute(\"tabindex\")) {\n      media.tabIndex = -1;\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaUnsetCallback(media) {\n    var _a;\n    super.mediaUnsetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: void 0\n    });\n  }\n  propagateMediaState(stateName, state) {\n    propagateMediaState(this.mediaStateReceivers, stateName, state);\n  }\n  associateElement(element) {\n    if (!element)\n      return;\n    const { associatedElementSubscriptions } = this;\n    if (associatedElementSubscriptions.has(element))\n      return;\n    const registerMediaStateReceiver = this.registerMediaStateReceiver.bind(this);\n    const unregisterMediaStateReceiver = this.unregisterMediaStateReceiver.bind(this);\n    const unsubscribe = monitorForMediaStateReceivers(\n      element,\n      registerMediaStateReceiver,\n      unregisterMediaStateReceiver\n    );\n    Object.values(MediaUIEvents).forEach((eventName) => {\n      element.addEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n    associatedElementSubscriptions.set(element, unsubscribe);\n  }\n  unassociateElement(element) {\n    if (!element)\n      return;\n    const { associatedElementSubscriptions } = this;\n    if (!associatedElementSubscriptions.has(element))\n      return;\n    const unsubscribe = associatedElementSubscriptions.get(element);\n    unsubscribe();\n    associatedElementSubscriptions.delete(element);\n    Object.values(MediaUIEvents).forEach((eventName) => {\n      element.removeEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n  }\n  registerMediaStateReceiver(el) {\n    if (!el)\n      return;\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index > -1)\n      return;\n    els.push(el);\n    if (__privateGet(this, _mediaStore)) {\n      Object.entries(__privateGet(this, _mediaStore).getState()).forEach(\n        ([stateName, stateValue]) => {\n          propagateMediaState([el], stateName, stateValue);\n        }\n      );\n    }\n  }\n  unregisterMediaStateReceiver(el) {\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index < 0)\n      return;\n    els.splice(index, 1);\n  }\n  enableHotkeys() {\n    this.addEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n  }\n  disableHotkeys() {\n    this.removeEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n  }\n  get hotkeys() {\n    return getStringAttr(this, Attributes.HOTKEYS);\n  }\n  set hotkeys(value) {\n    setStringAttr(this, Attributes.HOTKEYS, value);\n  }\n  keyboardShortcutHandler(e) {\n    var _a, _b, _c, _d, _e;\n    const target = e.target;\n    const keysUsed = ((_c = (_b = (_a = target.getAttribute(Attributes.KEYS_USED)) == null ? void 0 : _a.split(\" \")) != null ? _b : target == null ? void 0 : target.keysUsed) != null ? _c : []).map((key) => key === \"Space\" ? \" \" : key).filter(Boolean);\n    if (keysUsed.includes(e.key)) {\n      return;\n    }\n    let eventName, detail, evt;\n    if (__privateGet(this, _hotKeys).contains(`no${e.key.toLowerCase()}`))\n      return;\n    if (e.key === \" \" && __privateGet(this, _hotKeys).contains(`nospace`))\n      return;\n    switch (e.key) {\n      case \" \":\n      case \"k\":\n        eventName = __privateGet(this, _mediaStore).getState().mediaPaused ? MediaUIEvents.MEDIA_PLAY_REQUEST : MediaUIEvents.MEDIA_PAUSE_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"m\":\n        eventName = this.mediaStore.getState().mediaVolumeLevel === \"off\" ? MediaUIEvents.MEDIA_UNMUTE_REQUEST : MediaUIEvents.MEDIA_MUTE_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"f\":\n        eventName = this.mediaStore.getState().mediaIsFullscreen ? MediaUIEvents.MEDIA_EXIT_FULLSCREEN_REQUEST : MediaUIEvents.MEDIA_ENTER_FULLSCREEN_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"c\":\n        this.dispatchEvent(\n          new globalThis.CustomEvent(\n            MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n            { composed: true, bubbles: true }\n          )\n        );\n        break;\n      case \"ArrowLeft\": {\n        const offsetValue = this.hasAttribute(\n          Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET\n        ) ? +this.getAttribute(Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n        detail = Math.max(\n          ((_d = this.mediaStore.getState().mediaCurrentTime) != null ? _d : 0) - offsetValue,\n          0\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"ArrowRight\": {\n        const offsetValue = this.hasAttribute(\n          Attributes.KEYBOARD_FORWARD_SEEK_OFFSET\n        ) ? +this.getAttribute(Attributes.KEYBOARD_FORWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n        detail = Math.max(\n          ((_e = this.mediaStore.getState().mediaCurrentTime) != null ? _e : 0) + offsetValue,\n          0\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n}\n_hotKeys = new WeakMap();\n_fullscreenElement = new WeakMap();\n_mediaStore = new WeakMap();\n_mediaStateCallback = new WeakMap();\n_mediaStoreUnsubscribe = new WeakMap();\n_mediaStateEventHandler = new WeakMap();\n_setupDefaultStore = new WeakSet();\nsetupDefaultStore_fn = function() {\n  var _a;\n  this.mediaStore = createMediaStore({\n    media: this.media,\n    fullscreenElement: this.fullscreenElement,\n    options: {\n      defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES),\n      defaultDuration: this.hasAttribute(Attributes.DEFAULT_DURATION) ? +this.getAttribute(Attributes.DEFAULT_DURATION) : void 0,\n      defaultStreamType: (\n        /** @type {import('./media-store/state-mediator.js').StreamTypeValue} */\n        (_a = this.getAttribute(\n          Attributes.DEFAULT_STREAM_TYPE\n        )) != null ? _a : void 0\n      ),\n      liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE),\n      // NOTE: This wasn't updated if it was changed later. Should it be? (CJP)\n      noVolumePref: this.hasAttribute(Attributes.NO_VOLUME_PREF),\n      noSubtitlesLangPref: this.hasAttribute(\n        Attributes.NO_SUBTITLES_LANG_PREF\n      )\n    }\n  });\n};\n_keyUpHandler = new WeakSet();\nkeyUpHandler_fn = function(e) {\n  const { key } = e;\n  if (!ButtonPressedKeys.includes(key)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  this.keyboardShortcutHandler(e);\n};\n_keyDownHandler = new WeakSet();\nkeyDownHandler_fn = function(e) {\n  const { metaKey, altKey, key } = e;\n  if (metaKey || altKey || !ButtonPressedKeys.includes(key)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  if ([\" \", \"ArrowLeft\", \"ArrowRight\"].includes(key) && !(__privateGet(this, _hotKeys).contains(`no${key.toLowerCase()}`) || key === \" \" && __privateGet(this, _hotKeys).contains(\"nospace\"))) {\n    e.preventDefault();\n  }\n  this.addEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn), { once: true });\n};\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst MEDIA_UI_PROP_NAMES = Object.values(MediaUIProps);\nconst getMediaUIAttributesFrom = (child) => {\n  var _a, _b, _c, _d;\n  let { observedAttributes } = child.constructor;\n  if (!observedAttributes && ((_a = child.nodeName) == null ? void 0 : _a.includes(\"-\"))) {\n    globalThis.customElements.upgrade(child);\n    ({ observedAttributes } = child.constructor);\n  }\n  const mediaChromeAttributesList = (_d = (_c = (_b = child == null ? void 0 : child.getAttribute) == null ? void 0 : _b.call(child, MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES)) == null ? void 0 : _c.split) == null ? void 0 : _d.call(_c, /\\s+/);\n  if (!Array.isArray(observedAttributes || mediaChromeAttributesList))\n    return [];\n  return (observedAttributes || mediaChromeAttributesList).filter(\n    (attrName) => MEDIA_UI_ATTRIBUTE_NAMES.includes(attrName)\n  );\n};\nconst hasMediaUIProps = (mediaStateReceiverCandidate) => {\n  var _a, _b;\n  if (((_a = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _a.includes(\"-\")) && !!globalThis.customElements.get(\n    (_b = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _b.toLowerCase()\n  ) && !(mediaStateReceiverCandidate instanceof globalThis.customElements.get(\n    mediaStateReceiverCandidate.nodeName.toLowerCase()\n  ))) {\n    globalThis.customElements.upgrade(mediaStateReceiverCandidate);\n  }\n  return MEDIA_UI_PROP_NAMES.some(\n    (propName) => propName in mediaStateReceiverCandidate\n  );\n};\nconst isMediaStateReceiver = (child) => {\n  return hasMediaUIProps(child) || !!getMediaUIAttributesFrom(child).length;\n};\nconst serializeTuple = (tuple) => {\n  var _a;\n  return (_a = tuple == null ? void 0 : tuple.join) == null ? void 0 : _a.call(tuple, \":\");\n};\nconst CustomAttrSerializer = {\n  [MediaUIAttributes.MEDIA_SUBTITLES_LIST]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SUBTITLES_SHOWING]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SEEKABLE]: serializeTuple,\n  [MediaUIAttributes.MEDIA_BUFFERED]: (tuples) => tuples == null ? void 0 : tuples.map(serializeTuple).join(\" \"),\n  [MediaUIAttributes.MEDIA_PREVIEW_COORDS]: (coords) => coords == null ? void 0 : coords.join(\" \"),\n  [MediaUIAttributes.MEDIA_RENDITION_LIST]: stringifyRenditionList,\n  [MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST]: stringifyAudioTrackList\n};\nconst setAttr = async (child, attrName, attrValue) => {\n  var _a, _b;\n  if (!child.isConnected) {\n    await delay(0);\n  }\n  if (typeof attrValue === \"boolean\" || attrValue == null) {\n    return setBooleanAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"number\") {\n    return setNumericAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"string\") {\n    return setStringAttr(child, attrName, attrValue);\n  }\n  if (Array.isArray(attrValue) && !attrValue.length) {\n    return child.removeAttribute(attrName);\n  }\n  const val = (_b = (_a = CustomAttrSerializer[attrName]) == null ? void 0 : _a.call(CustomAttrSerializer, attrValue)) != null ? _b : attrValue;\n  return child.setAttribute(attrName, val);\n};\nconst isMediaSlotElementDescendant = (el) => {\n  var _a;\n  return !!((_a = el.closest) == null ? void 0 : _a.call(el, '*[slot=\"media\"]'));\n};\nconst traverseForMediaStateReceivers = (rootNode, mediaStateReceiverCallback) => {\n  if (isMediaSlotElementDescendant(rootNode)) {\n    return;\n  }\n  const traverseForMediaStateReceiversSync = (rootNode2, mediaStateReceiverCallback2) => {\n    var _a, _b;\n    if (isMediaStateReceiver(rootNode2)) {\n      mediaStateReceiverCallback2(rootNode2);\n    }\n    const { children = [] } = rootNode2 != null ? rootNode2 : {};\n    const shadowChildren = (_b = (_a = rootNode2 == null ? void 0 : rootNode2.shadowRoot) == null ? void 0 : _a.children) != null ? _b : [];\n    const allChildren = [...children, ...shadowChildren];\n    allChildren.forEach(\n      (child) => traverseForMediaStateReceivers(\n        child,\n        mediaStateReceiverCallback2\n      )\n    );\n  };\n  const name = rootNode == null ? void 0 : rootNode.nodeName.toLowerCase();\n  if (name.includes(\"-\") && !isMediaStateReceiver(rootNode)) {\n    globalThis.customElements.whenDefined(name).then(() => {\n      traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n    });\n    return;\n  }\n  traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n};\nconst propagateMediaState = (els, stateName, val) => {\n  els.forEach((el) => {\n    if (stateName in el) {\n      el[stateName] = val;\n      return;\n    }\n    const relevantAttrs = getMediaUIAttributesFrom(el);\n    const attrName = stateName.toLowerCase();\n    if (!relevantAttrs.includes(attrName))\n      return;\n    setAttr(el, attrName, val);\n  });\n};\nconst monitorForMediaStateReceivers = (rootNode, registerMediaStateReceiver, unregisterMediaStateReceiver) => {\n  traverseForMediaStateReceivers(rootNode, registerMediaStateReceiver);\n  const registerMediaStateReceiverHandler = (evt) => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    registerMediaStateReceiver(el);\n  };\n  const unregisterMediaStateReceiverHandler = (evt) => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    unregisterMediaStateReceiver(el);\n  };\n  rootNode.addEventListener(\n    MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER,\n    registerMediaStateReceiverHandler\n  );\n  rootNode.addEventListener(\n    MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER,\n    unregisterMediaStateReceiverHandler\n  );\n  const mutationCallback = (mutationsList) => {\n    mutationsList.forEach((mutationRecord) => {\n      const {\n        addedNodes = [],\n        removedNodes = [],\n        type,\n        target,\n        attributeName\n      } = mutationRecord;\n      if (type === \"childList\") {\n        Array.prototype.forEach.call(\n          addedNodes,\n          (node) => traverseForMediaStateReceivers(\n            node,\n            registerMediaStateReceiver\n          )\n        );\n        Array.prototype.forEach.call(\n          removedNodes,\n          (node) => traverseForMediaStateReceivers(\n            node,\n            unregisterMediaStateReceiver\n          )\n        );\n      } else if (type === \"attributes\" && attributeName === MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES) {\n        if (isMediaStateReceiver(target)) {\n          registerMediaStateReceiver(target);\n        } else {\n          unregisterMediaStateReceiver(target);\n        }\n      }\n    });\n  };\n  let prevSlotted = [];\n  const slotChangeHandler = (event) => {\n    const slotEl = event.target;\n    if (slotEl.name === \"media\")\n      return;\n    prevSlotted.forEach(\n      (node) => traverseForMediaStateReceivers(node, unregisterMediaStateReceiver)\n    );\n    prevSlotted = [\n      ...slotEl.assignedElements({ flatten: true })\n    ];\n    prevSlotted.forEach(\n      (node) => traverseForMediaStateReceivers(node, registerMediaStateReceiver)\n    );\n  };\n  rootNode.addEventListener(\"slotchange\", slotChangeHandler);\n  const observer = new MutationObserver(mutationCallback);\n  observer.observe(rootNode, {\n    childList: true,\n    attributes: true,\n    subtree: true\n  });\n  const unsubscribe = () => {\n    traverseForMediaStateReceivers(rootNode, unregisterMediaStateReceiver);\n    rootNode.removeEventListener(\"slotchange\", slotChangeHandler);\n    observer.disconnect();\n    rootNode.removeEventListener(\n      MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER,\n      registerMediaStateReceiverHandler\n    );\n    rootNode.removeEventListener(\n      MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER,\n      unregisterMediaStateReceiverHandler\n    );\n  };\n  return unsubscribe;\n};\nif (!globalThis.customElements.get(\"media-controller\")) {\n  globalThis.customElements.define(\"media-controller\", MediaController);\n}\nvar media_controller_default = MediaController;\nexport {\n  Attributes,\n  MediaController,\n  media_controller_default as default\n};\n", "import {\n  closestComposedNode,\n  getMediaController,\n  getStringAttr,\n  isElementVisible,\n  namedNodeMapToObject,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nconst Attributes = {\n  PLACEMENT: \"placement\",\n  BOUNDS: \"bounds\"\n};\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));\n        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));\n        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);\n        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);\n        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));\n        position: relative;\n        pointer-events: none;\n        display: var(--media-tooltip-display, inline-flex);\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n        z-index: var(--media-tooltip-z-index, 1);\n        background: var(--_tooltip-background);\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        font: var(--media-font,\n          var(--media-font-weight, 400)\n          var(--media-font-size, 13px) /\n          var(--media-text-content-height, var(--media-control-height, 18px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        padding: var(--media-tooltip-padding, .35em .7em);\n        border: var(--media-tooltip-border, none);\n        border-radius: var(--media-tooltip-border-radius, 5px);\n        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));\n        white-space: var(--media-tooltip-white-space, nowrap);\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n\n      img, svg {\n        display: inline-block;\n      }\n\n      #arrow {\n        position: absolute;\n        width: 0px;\n        height: 0px;\n        border-style: solid;\n        display: var(--media-tooltip-arrow-display, block);\n      }\n\n      :host(:not([placement])),\n      :host([placement=\"top\"]) {\n        position: absolute;\n        bottom: calc(100% + var(--media-tooltip-distance, 12px));\n        left: 50%;\n        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);\n      }\n      :host(:not([placement])) #arrow,\n      :host([placement=\"top\"]) #arrow {\n        top: 100%;\n        left: 50%;\n        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);\n        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;\n        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);\n      }\n\n      :host([placement=\"right\"]) {\n        position: absolute;\n        left: calc(100% + var(--media-tooltip-distance, 12px));\n        top: 50%;\n        transform: translate(0, -50%);\n      }\n      :host([placement=\"right\"]) #arrow {\n        top: 50%;\n        right: 100%;\n        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;\n        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;\n        transform: translate(0, -50%);\n      }\n\n      :host([placement=\"bottom\"]) {\n        position: absolute;\n        top: calc(100% + var(--media-tooltip-distance, 12px));\n        left: 50%;\n        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);\n      }\n      :host([placement=\"bottom\"]) #arrow {\n        bottom: 100%;\n        left: 50%;\n        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);\n        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;\n        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);\n      }\n\n      :host([placement=\"left\"]) {\n        position: absolute;\n        right: calc(100% + var(--media-tooltip-distance, 12px));\n        top: 50%;\n        transform: translate(0, -50%);\n      }\n      :host([placement=\"left\"]) #arrow {\n        top: 50%;\n        left: 100%;\n        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);\n        border-color: transparent transparent transparent var(--_tooltip-arrow-background);\n        transform: translate(0, -50%);\n      }\n      \n      :host([placement=\"none\"]) #arrow {\n        display: none;\n      }\n    </style>\n    <slot></slot>\n    <div id=\"arrow\"></div>\n  `\n  );\n}\nclass MediaTooltip extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    // Adjusts tooltip position relative to the closest specified container\n    // such that it doesn't spill out of the left or right sides. Only applies\n    // to 'top' and 'bottom' placed tooltips.\n    this.updateXOffset = () => {\n      var _a;\n      if (!isElementVisible(this, { checkOpacity: false, checkVisibilityCSS: false }))\n        return;\n      const placement = this.placement;\n      if (placement === \"left\" || placement === \"right\") {\n        this.style.removeProperty(\"--media-tooltip-offset-x\");\n        return;\n      }\n      const tooltipStyle = getComputedStyle(this);\n      const containingEl = (_a = closestComposedNode(this, \"#\" + this.bounds)) != null ? _a : getMediaController(this);\n      if (!containingEl)\n        return;\n      const { x: containerX, width: containerWidth } = containingEl.getBoundingClientRect();\n      const { x: tooltipX, width: tooltipWidth } = this.getBoundingClientRect();\n      const tooltipRight = tooltipX + tooltipWidth;\n      const containerRight = containerX + containerWidth;\n      const offsetXVal = tooltipStyle.getPropertyValue(\n        \"--media-tooltip-offset-x\"\n      );\n      const currOffsetX = offsetXVal ? parseFloat(offsetXVal.replace(\"px\", \"\")) : 0;\n      const marginVal = tooltipStyle.getPropertyValue(\n        \"--media-tooltip-container-margin\"\n      );\n      const currMargin = marginVal ? parseFloat(marginVal.replace(\"px\", \"\")) : 0;\n      const leftDiff = tooltipX - containerX + currOffsetX - currMargin;\n      const rightDiff = tooltipRight - containerRight + currOffsetX + currMargin;\n      if (leftDiff < 0) {\n        this.style.setProperty(\"--media-tooltip-offset-x\", `${leftDiff}px`);\n        return;\n      }\n      if (rightDiff > 0) {\n        this.style.setProperty(\"--media-tooltip-offset-x\", `${rightDiff}px`);\n        return;\n      }\n      this.style.removeProperty(\"--media-tooltip-offset-x\");\n    };\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n    this.arrowEl = this.shadowRoot.querySelector(\"#arrow\");\n    if (Object.prototype.hasOwnProperty.call(this, \"placement\")) {\n      const placement = this.placement;\n      delete this.placement;\n      this.placement = placement;\n    }\n  }\n  static get observedAttributes() {\n    return [Attributes.PLACEMENT, Attributes.BOUNDS];\n  }\n  /**\n   * Get or set tooltip placement\n   */\n  get placement() {\n    return getStringAttr(this, Attributes.PLACEMENT);\n  }\n  set placement(value) {\n    setStringAttr(this, Attributes.PLACEMENT, value);\n  }\n  /**\n   * Get or set tooltip container ID selector that will constrain the tooltips\n   * horizontal position.\n   */\n  get bounds() {\n    return getStringAttr(this, Attributes.BOUNDS);\n  }\n  set bounds(value) {\n    setStringAttr(this, Attributes.BOUNDS, value);\n  }\n}\nMediaTooltip.shadowRootOptions = { mode: \"open\" };\nMediaTooltip.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-tooltip\")) {\n  globalThis.customElements.define(\"media-tooltip\", MediaTooltip);\n}\nvar media_tooltip_default = MediaTooltip;\nexport {\n  Attributes,\n  media_tooltip_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _mediaController, _clickListener, _positionTooltip, _keyupListener, _keydownListener, _setupTooltip, setupTooltip_fn;\nimport {\n  MediaStateReceiverAttributes,\n  MediaUIAttributes\n} from \"./constants.js\";\nimport MediaTooltip from \"./media-tooltip.js\";\nimport {\n  getBooleanAttr,\n  getOrInsertCSSRule,\n  getStringAttr,\n  namedNodeMapToObject,\n  setBooleanAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nconst Attributes = {\n  TOOLTIP_PLACEMENT: \"tooltipplacement\",\n  DISABLED: \"disabled\",\n  NO_TOOLTIP: \"notooltip\"\n};\nfunction getTemplateHTML(_attrs, _props = {}) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        position: relative;\n        font: var(--media-font,\n          var(--media-font-weight, bold)\n          var(--media-font-size, 14px) /\n          var(--media-text-content-height, var(--media-control-height, 24px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));\n        padding: var(--media-button-padding, var(--media-control-padding, 10px));\n        justify-content: var(--media-button-justify-content, center);\n        display: inline-flex;\n        align-items: center;\n        vertical-align: middle;\n        box-sizing: border-box;\n        transition: background .15s linear;\n        pointer-events: auto;\n        cursor: var(--media-cursor, pointer);\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      ${/*\n      Only show outline when keyboard focusing.\n      https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n    */\n    \"\"}\n      :host(:focus-visible) {\n        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);\n        outline: 0;\n      }\n      ${/*\n    * hide default focus ring, particularly when using mouse\n    */\n    \"\"}\n      :host(:where(:focus)) {\n        box-shadow: none;\n        outline: 0;\n      }\n\n      :host(:hover) {\n        background: var(--media-control-hover-background, rgba(50 50 70 / .7));\n      }\n\n      svg, img, ::slotted(svg), ::slotted(img) {\n        width: var(--media-button-icon-width);\n        height: var(--media-button-icon-height, var(--media-control-height, 24px));\n        transform: var(--media-button-icon-transform);\n        transition: var(--media-button-icon-transition);\n        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));\n        vertical-align: middle;\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n      }\n\n      media-tooltip {\n        ${/** Make sure unpositioned tooltip doesn't cause page overflow (scroll). */\n    \"\"}\n        max-width: 0;\n        overflow-x: clip;\n        opacity: 0;\n        transition: opacity .3s, max-width 0s 9s;\n      }\n\n      :host(:hover) media-tooltip,\n      :host(:focus-visible) media-tooltip {\n        max-width: 100vw;\n        opacity: 1;\n        transition: opacity .3s;\n      }\n\n      :host([notooltip]) slot[name=\"tooltip\"] {\n        display: none;\n      }\n    </style>\n\n    ${this.getSlotTemplateHTML(_attrs, _props)}\n\n    <slot name=\"tooltip\">\n      <media-tooltip part=\"tooltip\" aria-hidden=\"true\">\n        <template shadowrootmode=\"${MediaTooltip.shadowRootOptions.mode}\">\n          ${MediaTooltip.getTemplateHTML({})}\n        </template>\n        <slot name=\"tooltip-content\">\n          ${this.getTooltipContentHTML(_attrs)}\n        </slot>\n      </media-tooltip>\n    </slot>\n  `\n  );\n}\nfunction getSlotTemplateHTML(_attrs, _props) {\n  return (\n    /*html*/\n    `\n    <slot></slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return \"\";\n}\nclass MediaChromeButton extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    // Called when we know the tooltip is ready / defined\n    __privateAdd(this, _setupTooltip);\n    __privateAdd(this, _mediaController, void 0);\n    this.preventClick = false;\n    this.tooltipEl = null;\n    __privateAdd(this, _clickListener, (e) => {\n      if (!this.preventClick) {\n        this.handleClick(e);\n      }\n      setTimeout(__privateGet(this, _positionTooltip), 0);\n    });\n    __privateAdd(this, _positionTooltip, () => {\n      var _a, _b;\n      (_b = (_a = this.tooltipEl) == null ? void 0 : _a.updateXOffset) == null ? void 0 : _b.call(_a);\n    });\n    // NOTE: There are definitely some \"false positive\" cases with multi-key pressing,\n    // but this should be good enough for most use cases.\n    __privateAdd(this, _keyupListener, (e) => {\n      const { key } = e;\n      if (!this.keysUsed.includes(key)) {\n        this.removeEventListener(\"keyup\", __privateGet(this, _keyupListener));\n        return;\n      }\n      if (!this.preventClick) {\n        this.handleClick(e);\n      }\n    });\n    __privateAdd(this, _keydownListener, (e) => {\n      const { metaKey, altKey, key } = e;\n      if (metaKey || altKey || !this.keysUsed.includes(key)) {\n        this.removeEventListener(\"keyup\", __privateGet(this, _keyupListener));\n        return;\n      }\n      this.addEventListener(\"keyup\", __privateGet(this, _keyupListener), { once: true });\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      const html = this.constructor.getTemplateHTML(attrs);\n      this.shadowRoot.setHTMLUnsafe ? this.shadowRoot.setHTMLUnsafe(html) : this.shadowRoot.innerHTML = html;\n    }\n    this.tooltipEl = this.shadowRoot.querySelector(\"media-tooltip\");\n  }\n  static get observedAttributes() {\n    return [\n      \"disabled\",\n      Attributes.TOOLTIP_PLACEMENT,\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER,\n      MediaUIAttributes.MEDIA_LANG\n    ];\n  }\n  enable() {\n    this.addEventListener(\"click\", __privateGet(this, _clickListener));\n    this.addEventListener(\"keydown\", __privateGet(this, _keydownListener));\n    this.tabIndex = 0;\n  }\n  disable() {\n    this.removeEventListener(\"click\", __privateGet(this, _clickListener));\n    this.removeEventListener(\"keydown\", __privateGet(this, _keydownListener));\n    this.removeEventListener(\"keyup\", __privateGet(this, _keyupListener));\n    this.tabIndex = -1;\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    } else if (attrName === \"disabled\" && newValue !== oldValue) {\n      if (newValue == null) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    } else if (attrName === Attributes.TOOLTIP_PLACEMENT && this.tooltipEl && newValue !== oldValue) {\n      this.tooltipEl.placement = newValue;\n    } else if (attrName === MediaUIAttributes.MEDIA_LANG) {\n      this.shadowRoot.querySelector('slot[name=\"tooltip-content\"]').innerHTML = this.constructor.getTooltipContentHTML();\n    }\n    __privateGet(this, _positionTooltip).call(this);\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    style.setProperty(\n      \"display\",\n      `var(--media-control-display, var(--${this.localName}-display, inline-flex))`\n    );\n    if (!this.hasAttribute(\"disabled\")) {\n      this.enable();\n    } else {\n      this.disable();\n    }\n    this.setAttribute(\"role\", \"button\");\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(\n        this,\n        _mediaController,\n        // @ts-ignore\n        (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(mediaControllerId)\n      );\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n    globalThis.customElements.whenDefined(\"media-tooltip\").then(() => __privateMethod(this, _setupTooltip, setupTooltip_fn).call(this));\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    this.disable();\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n    this.removeEventListener(\"mouseenter\", __privateGet(this, _positionTooltip));\n    this.removeEventListener(\"focus\", __privateGet(this, _positionTooltip));\n    this.removeEventListener(\"click\", __privateGet(this, _clickListener));\n  }\n  get keysUsed() {\n    return [\"Enter\", \" \"];\n  }\n  /**\n   * Get or set tooltip placement\n   */\n  get tooltipPlacement() {\n    return getStringAttr(this, Attributes.TOOLTIP_PLACEMENT);\n  }\n  set tooltipPlacement(value) {\n    setStringAttr(this, Attributes.TOOLTIP_PLACEMENT, value);\n  }\n  get mediaController() {\n    return getStringAttr(this, MediaStateReceiverAttributes.MEDIA_CONTROLLER);\n  }\n  set mediaController(value) {\n    setStringAttr(this, MediaStateReceiverAttributes.MEDIA_CONTROLLER, value);\n  }\n  get disabled() {\n    return getBooleanAttr(this, Attributes.DISABLED);\n  }\n  set disabled(value) {\n    setBooleanAttr(this, Attributes.DISABLED, value);\n  }\n  get noTooltip() {\n    return getBooleanAttr(this, Attributes.NO_TOOLTIP);\n  }\n  set noTooltip(value) {\n    setBooleanAttr(this, Attributes.NO_TOOLTIP, value);\n  }\n  /**\n   * @abstract\n   * @argument {Event} e\n   */\n  handleClick(e) {\n  }\n  // eslint-disable-line\n}\n_mediaController = new WeakMap();\n_clickListener = new WeakMap();\n_positionTooltip = new WeakMap();\n_keyupListener = new WeakMap();\n_keydownListener = new WeakMap();\n_setupTooltip = new WeakSet();\nsetupTooltip_fn = function() {\n  this.addEventListener(\"mouseenter\", __privateGet(this, _positionTooltip));\n  this.addEventListener(\"focus\", __privateGet(this, _positionTooltip));\n  this.addEventListener(\"click\", __privateGet(this, _clickListener));\n  const initialPlacement = this.tooltipPlacement;\n  if (initialPlacement && this.tooltipEl) {\n    this.tooltipEl.placement = initialPlacement;\n  }\n};\nMediaChromeButton.shadowRootOptions = { mode: \"open\" };\nMediaChromeButton.getTemplateHTML = getTemplateHTML;\nMediaChromeButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaChromeButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-chrome-button\")) {\n  globalThis.customElements.define(\"media-chrome-button\", MediaChromeButton);\n}\nvar media_chrome_button_default = MediaChromeButton;\nexport {\n  MediaChromeButton,\n  media_chrome_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getStringAttr,\n  setStringAttr,\n  getBooleanAttr,\n  setBooleanAttr\n} from \"./utils/element-utils.js\";\nconst airplayIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 26 24\">\n  <path d=\"M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z\"/>\n</svg>\n`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {\n        display: none !important;\n      }\n\n      ${/* Double negative, but safer if display doesn't equal 'block' */\n    \"\"}\n      :host(:not([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],\n      :host(:not([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"enter\">${airplayIcon}</slot>\n      <slot name=\"exit\">${airplayIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-enter\">${t(\"start airplay\")}</slot>\n    <slot name=\"tooltip-exit\">${t(\"stop airplay\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const label = el.mediaIsAirplaying ? t(\"stop airplay\") : t(\"start airplay\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaAirplayButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_IS_AIRPLAYING,\n      MediaUIAttributes.MEDIA_AIRPLAY_UNAVAILABLE\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_IS_AIRPLAYING) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * Are we currently airplaying\n   */\n  get mediaIsAirplaying() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_IS_AIRPLAYING);\n  }\n  set mediaIsAirplaying(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_IS_AIRPLAYING, value);\n  }\n  /**\n   * Airplay unavailability state\n   */\n  get mediaAirplayUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_AIRPLAY_UNAVAILABLE);\n  }\n  set mediaAirplayUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_AIRPLAY_UNAVAILABLE, value);\n  }\n  handleClick() {\n    const evt = new globalThis.CustomEvent(\n      MediaUIEvents.MEDIA_AIRPLAY_REQUEST,\n      {\n        composed: true,\n        bubbles: true\n      }\n    );\n    this.dispatchEvent(evt);\n  }\n}\nMediaAirplayButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaAirplayButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-airplay-button\")) {\n  globalThis.customElements.define(\"media-airplay-button\", MediaAirplayButton);\n}\nvar media_airplay_button_default = MediaAirplayButton;\nexport {\n  media_airplay_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"./constants.js\";\nimport {\n  areSubsOn,\n  parseTextTracksStr,\n  stringifyTextTrackList\n} from \"./utils/captions.js\";\nimport { t } from \"./utils/i18n.js\";\nconst ccIconOn = `<svg aria-hidden=\"true\" viewBox=\"0 0 26 24\">\n  <path d=\"M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z\"/>\n</svg>`;\nconst ccIconOff = `<svg aria-hidden=\"true\" viewBox=\"0 0 26 24\">\n  <path d=\"M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z\"/>\n</svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([aria-checked=\"true\"]) slot[name=off] {\n        display: none !important;\n      }\n\n      ${/* Double negative, but safer if display doesn't equal 'block' */\n    \"\"}\n      :host(:not([aria-checked=\"true\"])) slot[name=on] {\n        display: none !important;\n      }\n\n      :host([aria-checked=\"true\"]) slot[name=tooltip-enable],\n      :host(:not([aria-checked=\"true\"])) slot[name=tooltip-disable] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"on\">${ccIconOn}</slot>\n      <slot name=\"off\">${ccIconOff}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-enable\">${t(\"Enable captions\")}</slot>\n    <slot name=\"tooltip-disable\">${t(\"Disable captions\")}</slot>\n  `\n  );\n}\nconst updateAriaChecked = (el) => {\n  el.setAttribute(\"aria-checked\", areSubsOn(el).toString());\n};\nclass MediaCaptionsButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_SUBTITLES_LIST,\n      MediaUIAttributes.MEDIA_SUBTITLES_SHOWING\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.setAttribute(\"role\", \"switch\");\n    this.setAttribute(\"aria-label\", t(\"closed captions\"));\n    updateAriaChecked(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_SUBTITLES_SHOWING) {\n      updateAriaChecked(this);\n    }\n  }\n  /**\n   * An array of TextTrack-like objects.\n   * Objects must have the properties: kind, language, and label.\n   */\n  get mediaSubtitlesList() {\n    return getSubtitlesListAttr(this, MediaUIAttributes.MEDIA_SUBTITLES_LIST);\n  }\n  set mediaSubtitlesList(list) {\n    setSubtitlesListAttr(this, MediaUIAttributes.MEDIA_SUBTITLES_LIST, list);\n  }\n  /**\n   * An array of TextTrack-like objects.\n   * Objects must have the properties: kind, language, and label.\n   */\n  get mediaSubtitlesShowing() {\n    return getSubtitlesListAttr(\n      this,\n      MediaUIAttributes.MEDIA_SUBTITLES_SHOWING\n    );\n  }\n  set mediaSubtitlesShowing(list) {\n    setSubtitlesListAttr(this, MediaUIAttributes.MEDIA_SUBTITLES_SHOWING, list);\n  }\n  handleClick() {\n    this.dispatchEvent(\n      new globalThis.CustomEvent(MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST, {\n        composed: true,\n        bubbles: true\n      })\n    );\n  }\n}\nMediaCaptionsButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaCaptionsButton.getTooltipContentHTML = getTooltipContentHTML;\nconst getSubtitlesListAttr = (el, attrName) => {\n  const attrVal = el.getAttribute(attrName);\n  return attrVal ? parseTextTracksStr(attrVal) : [];\n};\nconst setSubtitlesListAttr = (el, attrName, list) => {\n  if (!(list == null ? void 0 : list.length)) {\n    el.removeAttribute(attrName);\n    return;\n  }\n  const newValStr = stringifyTextTrackList(list);\n  const oldVal = el.getAttribute(attrName);\n  if (oldVal === newValStr)\n    return;\n  el.setAttribute(attrName, newValStr);\n};\nif (!globalThis.customElements.get(\"media-captions-button\")) {\n  globalThis.customElements.define(\n    \"media-captions-button\",\n    MediaCaptionsButton\n  );\n}\nvar media_captions_button_default = MediaCaptionsButton;\nexport {\n  MediaCaptionsButton,\n  media_captions_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  setBooleanAttr,\n  getStringAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nconst enterIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\"><g><path class=\"cast_caf_icon_arch0\" d=\"M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z\"/><path class=\"cast_caf_icon_arch1\" d=\"M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z\"/><path class=\"cast_caf_icon_arch2\" d=\"M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z\"/><path class=\"cast_caf_icon_box\" d=\"M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z\"/></g></svg>`;\nconst exitIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\"><g><path class=\"cast_caf_icon_arch0\" d=\"M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z\"/><path class=\"cast_caf_icon_arch1\" d=\"M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z\"/><path class=\"cast_caf_icon_arch2\" d=\"M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z\"/><path class=\"cast_caf_icon_box\" d=\"M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z\"/><path class=\"cast_caf_icon_boxfill\" d=\"M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z\"/></g></svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([${MediaUIAttributes.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {\n        display: none !important;\n      }\n\n      ${/* Double negative, but safer if display doesn't equal 'block' */\n    \"\"}\n      :host(:not([${MediaUIAttributes.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],\n      :host(:not([${MediaUIAttributes.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"enter\">${enterIcon}</slot>\n      <slot name=\"exit\">${exitIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-enter\">${t(\"Start casting\")}</slot>\n    <slot name=\"tooltip-exit\">${t(\"Stop casting\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const label = el.mediaIsCasting ? t(\"stop casting\") : t(\"start casting\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaCastButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_IS_CASTING,\n      MediaUIAttributes.MEDIA_CAST_UNAVAILABLE\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_IS_CASTING) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * @type {boolean} Are we currently casting\n   */\n  get mediaIsCasting() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_IS_CASTING);\n  }\n  set mediaIsCasting(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_IS_CASTING, value);\n  }\n  /**\n   * @type {string | undefined} Cast unavailability state\n   */\n  get mediaCastUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_CAST_UNAVAILABLE);\n  }\n  set mediaCastUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_CAST_UNAVAILABLE, value);\n  }\n  handleClick() {\n    const eventName = this.mediaIsCasting ? MediaUIEvents.MEDIA_EXIT_CAST_REQUEST : MediaUIEvents.MEDIA_ENTER_CAST_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\nMediaCastButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaCastButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-cast-button\")) {\n  globalThis.customElements.define(\"media-cast-button\", MediaCastButton);\n}\nvar media_cast_button_default = MediaCastButton;\nexport {\n  media_cast_button_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _isInit, _previouslyFocused, _invokerElement, _init, init_fn, _handleOpen, handleOpen_fn, _handleClosed, handleClosed_fn, _handleInvoke, handleInvoke_fn, _handleFocusOut, handleFocusOut_fn, _handleKeyDown, handleKeyDown_fn;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport {\n  containsComposedNode,\n  getActiveElement,\n  getBooleanAttr,\n  namedNodeMapToObject,\n  setBooleanAttr,\n  getOrInsertCSSRule\n} from \"./utils/element-utils.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        font: var(--media-font,\n          var(--media-font-weight, normal)\n          var(--media-font-size, 14px) /\n          var(--media-text-content-height, var(--media-control-height, 24px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        display: var(--media-dialog-display, inline-flex);\n        justify-content: center;\n        align-items: center;\n        ${/** The hide transition is defined below after a short delay. */\n    \"\"}\n        transition-behavior: allow-discrete;\n        visibility: hidden;\n        opacity: 0;\n        transform: translateY(2px) scale(.99);\n        pointer-events: none;\n      }\n\n      :host([open]) {\n        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;\n        visibility: visible;\n        opacity: 1;\n        transform: translateY(0) scale(1);\n        pointer-events: auto;\n      }\n\n      #content {\n        display: flex;\n        position: relative;\n        box-sizing: border-box;\n        width: min(320px, 100%);\n        word-wrap: break-word;\n        max-height: 100%;\n        overflow: auto;\n        text-align: center;\n        line-height: 1.4;\n      }\n    </style>\n    ${this.getSlotTemplateHTML(_attrs)}\n  `\n  );\n}\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <slot id=\"content\"></slot>\n  `\n  );\n}\nconst Attributes = {\n  OPEN: \"open\",\n  ANCHOR: \"anchor\"\n};\nclass MediaChromeDialog extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _init);\n    __privateAdd(this, _handleOpen);\n    __privateAdd(this, _handleClosed);\n    __privateAdd(this, _handleInvoke);\n    __privateAdd(this, _handleFocusOut);\n    __privateAdd(this, _handleKeyDown);\n    __privateAdd(this, _isInit, false);\n    __privateAdd(this, _previouslyFocused, null);\n    __privateAdd(this, _invokerElement, null);\n    this.addEventListener(\"invoke\", this);\n    this.addEventListener(\"focusout\", this);\n    this.addEventListener(\"keydown\", this);\n  }\n  static get observedAttributes() {\n    return [Attributes.OPEN, Attributes.ANCHOR];\n  }\n  get open() {\n    return getBooleanAttr(this, Attributes.OPEN);\n  }\n  set open(value) {\n    setBooleanAttr(this, Attributes.OPEN, value);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"invoke\":\n        __privateMethod(this, _handleInvoke, handleInvoke_fn).call(this, event);\n        break;\n      case \"focusout\":\n        __privateMethod(this, _handleFocusOut, handleFocusOut_fn).call(this, event);\n        break;\n      case \"keydown\":\n        __privateMethod(this, _handleKeyDown, handleKeyDown_fn).call(this, event);\n        break;\n    }\n  }\n  connectedCallback() {\n    __privateMethod(this, _init, init_fn).call(this);\n    if (!this.role) {\n      this.role = \"dialog\";\n    }\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    __privateMethod(this, _init, init_fn).call(this);\n    if (attrName === Attributes.OPEN && newValue !== oldValue) {\n      if (this.open) {\n        __privateMethod(this, _handleOpen, handleOpen_fn).call(this);\n      } else {\n        __privateMethod(this, _handleClosed, handleClosed_fn).call(this);\n      }\n    }\n  }\n  focus() {\n    __privateSet(this, _previouslyFocused, getActiveElement());\n    const focusCancelled = !this.dispatchEvent(new Event(\"focus\", { composed: true, cancelable: true }));\n    const focusInCancelled = !this.dispatchEvent(new Event(\"focusin\", { composed: true, bubbles: true, cancelable: true }));\n    if (focusCancelled || focusInCancelled)\n      return;\n    const focusable = this.querySelector(\n      '[autofocus], [tabindex]:not([tabindex=\"-1\"]), [role=\"menu\"]'\n    );\n    focusable == null ? void 0 : focusable.focus();\n  }\n  get keysUsed() {\n    return [\"Escape\", \"Tab\"];\n  }\n}\n_isInit = new WeakMap();\n_previouslyFocused = new WeakMap();\n_invokerElement = new WeakMap();\n_init = new WeakSet();\ninit_fn = function() {\n  if (__privateGet(this, _isInit))\n    return;\n  __privateSet(this, _isInit, true);\n  if (!this.shadowRoot) {\n    this.attachShadow(this.constructor.shadowRootOptions);\n    const attrs = namedNodeMapToObject(this.attributes);\n    this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    queueMicrotask(() => {\n      const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n      style.setProperty(\n        \"transition\",\n        `display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in`\n      );\n    });\n  }\n};\n_handleOpen = new WeakSet();\nhandleOpen_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"true\");\n  this.dispatchEvent(new Event(\"open\", { composed: true, bubbles: true }));\n  this.addEventListener(\"transitionend\", () => this.focus(), { once: true });\n};\n_handleClosed = new WeakSet();\nhandleClosed_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"false\");\n  this.dispatchEvent(new Event(\"close\", { composed: true, bubbles: true }));\n};\n_handleInvoke = new WeakSet();\nhandleInvoke_fn = function(event) {\n  __privateSet(this, _invokerElement, event.relatedTarget);\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    this.open = !this.open;\n  }\n};\n_handleFocusOut = new WeakSet();\nhandleFocusOut_fn = function(event) {\n  var _a;\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n    if (__privateGet(this, _invokerElement) && __privateGet(this, _invokerElement) !== event.relatedTarget && this.open) {\n      this.open = false;\n    }\n  }\n};\n_handleKeyDown = new WeakSet();\nhandleKeyDown_fn = function(event) {\n  var _a, _b, _c, _d, _e;\n  const { key, ctrlKey, altKey, metaKey } = event;\n  if (ctrlKey || altKey || metaKey) {\n    return;\n  }\n  if (!this.keysUsed.includes(key)) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (key === \"Tab\") {\n    if (event.shiftKey) {\n      (_b = (_a = this.previousElementSibling) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    } else {\n      (_d = (_c = this.nextElementSibling) == null ? void 0 : _c.focus) == null ? void 0 : _d.call(_c);\n    }\n    this.blur();\n  } else if (key === \"Escape\") {\n    (_e = __privateGet(this, _previouslyFocused)) == null ? void 0 : _e.focus();\n    this.open = false;\n  }\n};\nMediaChromeDialog.shadowRootOptions = { mode: \"open\" };\nMediaChromeDialog.getTemplateHTML = getTemplateHTML;\nMediaChromeDialog.getSlotTemplateHTML = getSlotTemplateHTML;\nif (!globalThis.customElements.get(\"media-chrome-dialog\")) {\n  globalThis.customElements.define(\"media-chrome-dialog\", MediaChromeDialog);\n}\nvar media_chrome_dialog_default = MediaChromeDialog;\nexport {\n  Attributes,\n  MediaChromeDialog,\n  media_chrome_dialog_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _mediaController, _isInputTarget, _startpoint, _endpoint, _cssRules, _segments, _onFocusIn, _onFocusOut, _updateComputedStyles, _updateActiveSegment, updateActiveSegment_fn, _enableUserEvents, enableUserEvents_fn, _disableUserEvents, disableUserEvents_fn, _handlePointerDown, handlePointerDown_fn, _handlePointerEnter, handlePointerEnter_fn, _handlePointerUp, handlePointerUp_fn, _handlePointerLeave, handlePointerLeave_fn, _handlePointerMove, handlePointerMove_fn;\nimport { MediaStateReceiverAttributes } from \"./constants.js\";\nimport { globalThis, document } from \"./utils/server-safe-globals.js\";\nimport {\n  getOrInsertCSSRule,\n  getPointProgressOnLine,\n  namedNodeMapToObject\n} from \"./utils/element-utils.js\";\nimport { observeResize, unobserveResize } from \"./utils/resize-observer.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));\n        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));\n\n        box-shadow: var(--_focus-visible-box-shadow, none);\n        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));\n        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));\n        display: inline-flex;\n        align-items: center;\n        ${/* Don't horizontal align w/ justify-content! #container can go negative on the x-axis w/ small width. */\n    \"\"}\n        vertical-align: middle;\n        box-sizing: border-box;\n        position: relative;\n        width: 100px;\n        transition: background .15s linear;\n        cursor: var(--media-cursor, pointer);\n        pointer-events: auto;\n        touch-action: none; ${/* Prevent scrolling when dragging on mobile. */\n    \"\"}\n      }\n\n      ${/* Reset before `outline` on track could be set by a CSS var */\n    \"\"}\n      input[type=range]:focus {\n        outline: 0;\n      }\n      input[type=range]:focus::-webkit-slider-runnable-track {\n        outline: 0;\n      }\n\n      :host(:hover) {\n        background: var(--media-control-hover-background, rgb(50 50 70 / .7));\n      }\n\n      #leftgap {\n        padding-left: var(--media-range-padding-left, var(--_media-range-padding));\n      }\n\n      #rightgap {\n        padding-right: var(--media-range-padding-right, var(--_media-range-padding));\n      }\n\n      #startpoint,\n      #endpoint {\n        position: absolute;\n      }\n\n      #endpoint {\n        right: 0;\n      }\n\n      #container {\n        ${/* Not using the CSS `padding` prop makes it easier for slide open volume ranges so the width can be zero. */\n    \"\"}\n        width: var(--media-range-track-width, 100%);\n        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));\n        position: relative;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        min-width: 40px;\n      }\n\n      #range {\n        ${/* The input range acts as a hover and hit zone for input events. */\n    \"\"}\n        display: var(--media-time-range-hover-display, block);\n        bottom: var(--media-time-range-hover-bottom, -7px);\n        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));\n        width: 100%;\n        position: absolute;\n        cursor: var(--media-cursor, pointer);\n\n        -webkit-appearance: none; ${/* Hides the slider so that custom slider can be made */\n    \"\"}\n        -webkit-tap-highlight-color: transparent;\n        background: transparent; ${/* Otherwise white in Chrome */\n    \"\"}\n        margin: 0;\n        z-index: 1;\n      }\n\n      @media (hover: hover) {\n        #range {\n          bottom: var(--media-time-range-hover-bottom, -5px);\n          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));\n        }\n      }\n\n      ${/* Special styling for WebKit/Blink */\n    \"\"}\n      ${/* Make thumb width/height small so it has no effect on range click position. */\n    \"\"}\n      #range::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        background: transparent;\n        width: .1px;\n        height: .1px;\n      }\n\n      ${/* The thumb is not positioned relative to the track in Firefox */\n    \"\"}\n      #range::-moz-range-thumb {\n        background: transparent;\n        border: transparent;\n        width: .1px;\n        height: .1px;\n      }\n\n      #appearance {\n        height: var(--media-range-track-height, 4px);\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100%;\n        position: absolute;\n        ${/* Required for Safari to stop glitching track height on hover */\n    \"\"}\n        will-change: transform;\n      }\n\n      #track {\n        background: var(--media-range-track-background, rgb(255 255 255 / .2));\n        border-radius: var(--media-range-track-border-radius, 1px);\n        border: var(--media-range-track-border, none);\n        outline: var(--media-range-track-outline);\n        outline-offset: var(--media-range-track-outline-offset);\n        backdrop-filter: var(--media-range-track-backdrop-filter);\n        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);\n        box-shadow: var(--media-range-track-box-shadow, none);\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n\n      #progress,\n      #pointer {\n        position: absolute;\n        height: 100%;\n        will-change: width;\n      }\n\n      #progress {\n        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));\n        transition: var(--media-range-track-transition);\n      }\n\n      #pointer {\n        background: var(--media-range-track-pointer-background);\n        border-right: var(--media-range-track-pointer-border-right);\n        transition: visibility .25s, opacity .25s;\n        visibility: hidden;\n        opacity: 0;\n      }\n\n      @media (hover: hover) {\n        :host(:hover) #pointer {\n          transition: visibility .5s, opacity .5s;\n          visibility: visible;\n          opacity: 1;\n        }\n      }\n\n      #thumb,\n      ::slotted([slot=thumb]) {\n        width: var(--media-range-thumb-width, 10px);\n        height: var(--media-range-thumb-height, 10px);\n        transition: var(--media-range-thumb-transition);\n        transform: var(--media-range-thumb-transform, none);\n        opacity: var(--media-range-thumb-opacity, 1);\n        translate: -50%;\n        position: absolute;\n        left: 0;\n        cursor: var(--media-cursor, pointer);\n      }\n\n      #thumb {\n        border-radius: var(--media-range-thumb-border-radius, 10px);\n        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));\n        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);\n        border: var(--media-range-thumb-border, none);\n      }\n\n      :host([disabled]) #thumb {\n        background-color: #777;\n      }\n\n      .segments #appearance {\n        height: var(--media-range-segment-hover-height, 7px);\n      }\n\n      #track {\n        clip-path: url(#segments-clipping);\n      }\n\n      #segments {\n        --segments-gap: var(--media-range-segments-gap, 2px);\n        position: absolute;\n        width: 100%;\n        height: 100%;\n      }\n\n      #segments-clipping {\n        transform: translateX(calc(var(--segments-gap) / 2));\n      }\n\n      #segments-clipping:empty {\n        display: none;\n      }\n\n      #segments-clipping rect {\n        height: var(--media-range-track-height, 4px);\n        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);\n        transition: var(--media-range-segment-transition, transform .1s ease-in-out);\n        transform: var(--media-range-segment-transform, scaleY(1));\n        transform-origin: center;\n      }\n    </style>\n    <div id=\"leftgap\"></div>\n    <div id=\"container\">\n      <div id=\"startpoint\"></div>\n      <div id=\"endpoint\"></div>\n      <div id=\"appearance\">\n        <div id=\"track\" part=\"track\">\n          <div id=\"pointer\"></div>\n          <div id=\"progress\" part=\"progress\"></div>\n        </div>\n        <slot name=\"thumb\">\n          <div id=\"thumb\" part=\"thumb\"></div>\n        </slot>\n        <svg id=\"segments\"><clipPath id=\"segments-clipping\"></clipPath></svg>\n      </div>\n      <input id=\"range\" type=\"range\" min=\"0\" max=\"1\" step=\"any\" value=\"0\">\n    </div>\n    <div id=\"rightgap\"></div>\n  `\n  );\n}\nclass MediaChromeRange extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _updateActiveSegment);\n    __privateAdd(this, _enableUserEvents);\n    __privateAdd(this, _disableUserEvents);\n    __privateAdd(this, _handlePointerDown);\n    __privateAdd(this, _handlePointerEnter);\n    __privateAdd(this, _handlePointerUp);\n    __privateAdd(this, _handlePointerLeave);\n    __privateAdd(this, _handlePointerMove);\n    __privateAdd(this, _mediaController, void 0);\n    __privateAdd(this, _isInputTarget, void 0);\n    __privateAdd(this, _startpoint, void 0);\n    __privateAdd(this, _endpoint, void 0);\n    __privateAdd(this, _cssRules, {});\n    __privateAdd(this, _segments, []);\n    __privateAdd(this, _onFocusIn, () => {\n      if (this.range.matches(\":focus-visible\")) {\n        const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n        style.setProperty(\n          \"--_focus-visible-box-shadow\",\n          \"var(--_focus-box-shadow)\"\n        );\n      }\n    });\n    __privateAdd(this, _onFocusOut, () => {\n      const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n      style.removeProperty(\"--_focus-visible-box-shadow\");\n    });\n    __privateAdd(this, _updateComputedStyles, () => {\n      const clipping = this.shadowRoot.querySelector(\"#segments-clipping\");\n      if (clipping)\n        clipping.parentNode.append(clipping);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      const html = this.constructor.getTemplateHTML(attrs);\n      this.shadowRoot.setHTMLUnsafe ? this.shadowRoot.setHTMLUnsafe(html) : this.shadowRoot.innerHTML = html;\n    }\n    this.container = this.shadowRoot.querySelector(\"#container\");\n    __privateSet(this, _startpoint, this.shadowRoot.querySelector(\"#startpoint\"));\n    __privateSet(this, _endpoint, this.shadowRoot.querySelector(\"#endpoint\"));\n    this.range = this.shadowRoot.querySelector(\"#range\");\n    this.appearance = this.shadowRoot.querySelector(\"#appearance\");\n  }\n  static get observedAttributes() {\n    return [\n      \"disabled\",\n      \"aria-disabled\",\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    } else if (attrName === \"disabled\" || attrName === \"aria-disabled\" && oldValue !== newValue) {\n      if (newValue == null) {\n        this.range.removeAttribute(attrName);\n        __privateMethod(this, _enableUserEvents, enableUserEvents_fn).call(this);\n      } else {\n        this.range.setAttribute(attrName, newValue);\n        __privateMethod(this, _disableUserEvents, disableUserEvents_fn).call(this);\n      }\n    }\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    style.setProperty(\n      \"display\",\n      `var(--media-control-display, var(--${this.localName}-display, inline-flex))`\n    );\n    __privateGet(this, _cssRules).pointer = getOrInsertCSSRule(this.shadowRoot, \"#pointer\");\n    __privateGet(this, _cssRules).progress = getOrInsertCSSRule(this.shadowRoot, \"#progress\");\n    __privateGet(this, _cssRules).thumb = getOrInsertCSSRule(\n      this.shadowRoot,\n      '#thumb, ::slotted([slot=\"thumb\"])'\n    );\n    __privateGet(this, _cssRules).activeSegment = getOrInsertCSSRule(\n      this.shadowRoot,\n      \"#segments-clipping rect:nth-child(0)\"\n    );\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(this, _mediaController, (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(\n        mediaControllerId\n      ));\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n    this.updateBar();\n    this.shadowRoot.addEventListener(\"focusin\", __privateGet(this, _onFocusIn));\n    this.shadowRoot.addEventListener(\"focusout\", __privateGet(this, _onFocusOut));\n    __privateMethod(this, _enableUserEvents, enableUserEvents_fn).call(this);\n    observeResize(this.container, __privateGet(this, _updateComputedStyles));\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    __privateMethod(this, _disableUserEvents, disableUserEvents_fn).call(this);\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n    this.shadowRoot.removeEventListener(\"focusin\", __privateGet(this, _onFocusIn));\n    this.shadowRoot.removeEventListener(\"focusout\", __privateGet(this, _onFocusOut));\n    unobserveResize(this.container, __privateGet(this, _updateComputedStyles));\n  }\n  updatePointerBar(evt) {\n    var _a;\n    (_a = __privateGet(this, _cssRules).pointer) == null ? void 0 : _a.style.setProperty(\n      \"width\",\n      `${this.getPointerRatio(evt) * 100}%`\n    );\n  }\n  updateBar() {\n    var _a, _b;\n    const rangePercent = this.range.valueAsNumber * 100;\n    (_a = __privateGet(this, _cssRules).progress) == null ? void 0 : _a.style.setProperty(\"width\", `${rangePercent}%`);\n    (_b = __privateGet(this, _cssRules).thumb) == null ? void 0 : _b.style.setProperty(\"left\", `${rangePercent}%`);\n  }\n  updateSegments(segments) {\n    const clipping = this.shadowRoot.querySelector(\"#segments-clipping\");\n    clipping.textContent = \"\";\n    this.container.classList.toggle(\"segments\", !!(segments == null ? void 0 : segments.length));\n    if (!(segments == null ? void 0 : segments.length))\n      return;\n    const normalized = [\n      .../* @__PURE__ */ new Set([\n        +this.range.min,\n        ...segments.flatMap((s) => [s.start, s.end]),\n        +this.range.max\n      ])\n    ];\n    __privateSet(this, _segments, [...normalized]);\n    const lastMarker = normalized.pop();\n    for (const [i, marker] of normalized.entries()) {\n      const [isFirst, isLast] = [i === 0, i === normalized.length - 1];\n      const x = isFirst ? \"calc(var(--segments-gap) / -1)\" : `${marker * 100}%`;\n      const x2 = isLast ? lastMarker : normalized[i + 1];\n      const width = `calc(${(x2 - marker) * 100}%${isFirst || isLast ? \"\" : ` - var(--segments-gap)`})`;\n      const segmentEl = document.createElementNS(\n        \"http://www.w3.org/2000/svg\",\n        \"rect\"\n      );\n      const cssRule = getOrInsertCSSRule(\n        this.shadowRoot,\n        `#segments-clipping rect:nth-child(${i + 1})`\n      );\n      cssRule.style.setProperty(\"x\", x);\n      cssRule.style.setProperty(\"width\", width);\n      clipping.append(segmentEl);\n    }\n  }\n  getPointerRatio(evt) {\n    return getPointProgressOnLine(\n      evt.clientX,\n      evt.clientY,\n      __privateGet(this, _startpoint).getBoundingClientRect(),\n      __privateGet(this, _endpoint).getBoundingClientRect()\n    );\n  }\n  get dragging() {\n    return this.hasAttribute(\"dragging\");\n  }\n  handleEvent(evt) {\n    switch (evt.type) {\n      case \"pointermove\":\n        __privateMethod(this, _handlePointerMove, handlePointerMove_fn).call(this, evt);\n        break;\n      case \"input\":\n        this.updateBar();\n        break;\n      case \"pointerenter\":\n        __privateMethod(this, _handlePointerEnter, handlePointerEnter_fn).call(this, evt);\n        break;\n      case \"pointerdown\":\n        __privateMethod(this, _handlePointerDown, handlePointerDown_fn).call(this, evt);\n        break;\n      case \"pointerup\":\n        __privateMethod(this, _handlePointerUp, handlePointerUp_fn).call(this);\n        break;\n      case \"pointerleave\":\n        __privateMethod(this, _handlePointerLeave, handlePointerLeave_fn).call(this);\n        break;\n    }\n  }\n  get keysUsed() {\n    return [\"ArrowUp\", \"ArrowRight\", \"ArrowDown\", \"ArrowLeft\"];\n  }\n}\n_mediaController = new WeakMap();\n_isInputTarget = new WeakMap();\n_startpoint = new WeakMap();\n_endpoint = new WeakMap();\n_cssRules = new WeakMap();\n_segments = new WeakMap();\n_onFocusIn = new WeakMap();\n_onFocusOut = new WeakMap();\n_updateComputedStyles = new WeakMap();\n_updateActiveSegment = new WeakSet();\nupdateActiveSegment_fn = function(evt) {\n  const rule = __privateGet(this, _cssRules).activeSegment;\n  if (!rule)\n    return;\n  const pointerRatio = this.getPointerRatio(evt);\n  const segmentIndex = __privateGet(this, _segments).findIndex((start, i, arr) => {\n    const end = arr[i + 1];\n    return end != null && pointerRatio >= start && pointerRatio <= end;\n  });\n  const selectorText = `#segments-clipping rect:nth-child(${segmentIndex + 1})`;\n  if (rule.selectorText != selectorText || !rule.style.transform) {\n    rule.selectorText = selectorText;\n    rule.style.setProperty(\n      \"transform\",\n      \"var(--media-range-segment-hover-transform, scaleY(2))\"\n    );\n  }\n};\n_enableUserEvents = new WeakSet();\nenableUserEvents_fn = function() {\n  if (this.hasAttribute(\"disabled\"))\n    return;\n  this.addEventListener(\"input\", this);\n  this.addEventListener(\"pointerdown\", this);\n  this.addEventListener(\"pointerenter\", this);\n};\n_disableUserEvents = new WeakSet();\ndisableUserEvents_fn = function() {\n  var _a, _b;\n  this.removeEventListener(\"input\", this);\n  this.removeEventListener(\"pointerdown\", this);\n  this.removeEventListener(\"pointerenter\", this);\n  (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"pointerup\", this);\n  (_b = globalThis.window) == null ? void 0 : _b.removeEventListener(\"pointermove\", this);\n};\n_handlePointerDown = new WeakSet();\nhandlePointerDown_fn = function(evt) {\n  var _a;\n  __privateSet(this, _isInputTarget, evt.composedPath().includes(this.range));\n  (_a = globalThis.window) == null ? void 0 : _a.addEventListener(\"pointerup\", this);\n};\n_handlePointerEnter = new WeakSet();\nhandlePointerEnter_fn = function(evt) {\n  var _a;\n  if (evt.pointerType !== \"mouse\")\n    __privateMethod(this, _handlePointerDown, handlePointerDown_fn).call(this, evt);\n  this.addEventListener(\"pointerleave\", this);\n  (_a = globalThis.window) == null ? void 0 : _a.addEventListener(\"pointermove\", this);\n};\n_handlePointerUp = new WeakSet();\nhandlePointerUp_fn = function() {\n  var _a;\n  (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"pointerup\", this);\n  this.toggleAttribute(\"dragging\", false);\n  this.range.disabled = this.hasAttribute(\"disabled\");\n};\n_handlePointerLeave = new WeakSet();\nhandlePointerLeave_fn = function() {\n  var _a, _b;\n  this.removeEventListener(\"pointerleave\", this);\n  (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"pointermove\", this);\n  this.toggleAttribute(\"dragging\", false);\n  this.range.disabled = this.hasAttribute(\"disabled\");\n  (_b = __privateGet(this, _cssRules).activeSegment) == null ? void 0 : _b.style.removeProperty(\"transform\");\n};\n_handlePointerMove = new WeakSet();\nhandlePointerMove_fn = function(evt) {\n  this.toggleAttribute(\n    \"dragging\",\n    evt.buttons === 1 || evt.pointerType !== \"mouse\"\n  );\n  this.updatePointerBar(evt);\n  __privateMethod(this, _updateActiveSegment, updateActiveSegment_fn).call(this, evt);\n  if (this.dragging && (evt.pointerType !== \"mouse\" || !__privateGet(this, _isInputTarget))) {\n    this.range.disabled = true;\n    this.range.valueAsNumber = this.getPointerRatio(evt);\n    this.range.dispatchEvent(\n      new Event(\"input\", { bubbles: true, composed: true })\n    );\n  }\n};\nMediaChromeRange.shadowRootOptions = { mode: \"open\" };\nMediaChromeRange.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-chrome-range\")) {\n  globalThis.customElements.define(\"media-chrome-range\", MediaChromeRange);\n}\nvar media_chrome_range_default = MediaChromeRange;\nexport {\n  MediaChromeRange,\n  media_chrome_range_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport { MediaStateReceiverAttributes } from \"./constants.js\";\nimport { namedNodeMapToObject } from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        ${/* Need position to display above video for some reason */\n    \"\"}\n        box-sizing: border-box;\n        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        --media-loading-indicator-icon-height: 44px;\n      }\n\n      ::slotted(media-time-range),\n      ::slotted(media-volume-range) {\n        min-height: 100%;\n      }\n\n      ::slotted(media-time-range),\n      ::slotted(media-clip-selector) {\n        flex-grow: 1;\n      }\n\n      ::slotted([role=\"menu\"]) {\n        position: absolute;\n      }\n    </style>\n\n    <slot></slot>\n  `\n  );\n}\nclass MediaControlBar extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [MediaStateReceiverAttributes.MEDIA_CONTROLLER];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(this, _mediaController, (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(\n        mediaControllerId\n      ));\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n}\n_mediaController = new WeakMap();\nMediaControlBar.shadowRootOptions = { mode: \"open\" };\nMediaControlBar.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-control-bar\")) {\n  globalThis.customElements.define(\"media-control-bar\", MediaControlBar);\n}\nvar media_control_bar_default = MediaControlBar;\nexport {\n  media_control_bar_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport { MediaStateReceiverAttributes } from \"./constants.js\";\nimport { getOrInsertCSSRule, namedNodeMapToObject } from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nfunction getTemplateHTML(_attrs, _props = {}) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        font: var(--media-font,\n          var(--media-font-weight, normal)\n          var(--media-font-size, 14px) /\n          var(--media-text-content-height, var(--media-control-height, 24px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));\n        padding: var(--media-control-padding, 10px);\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        vertical-align: middle;\n        box-sizing: border-box;\n        text-align: center;\n        pointer-events: auto;\n      }\n\n      ${/*\n      Only show outline when keyboard focusing.\n      https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n    */\n    \"\"}\n      :host(:focus-visible) {\n        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);\n        outline: 0;\n      }\n\n      ${/*\n    * hide default focus ring, particularly when using mouse\n    */\n    \"\"}\n      :host(:where(:focus)) {\n        box-shadow: none;\n        outline: 0;\n      }\n    </style>\n\n    ${this.getSlotTemplateHTML(_attrs, _props)}\n  `\n  );\n}\nfunction getSlotTemplateHTML(_attrs, _props) {\n  return (\n    /*html*/\n    `\n    <slot></slot>\n  `\n  );\n}\nclass MediaTextDisplay extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [MediaStateReceiverAttributes.MEDIA_CONTROLLER];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    style.setProperty(\n      \"display\",\n      `var(--media-control-display, var(--${this.localName}-display, inline-flex))`\n    );\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(this, _mediaController, (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(\n        mediaControllerId\n      ));\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n}\n_mediaController = new WeakMap();\nMediaTextDisplay.shadowRootOptions = { mode: \"open\" };\nMediaTextDisplay.getTemplateHTML = getTemplateHTML;\nMediaTextDisplay.getSlotTemplateHTML = getSlotTemplateHTML;\nif (!globalThis.customElements.get(\"media-text-display\")) {\n  globalThis.customElements.define(\"media-text-display\", MediaTextDisplay);\n}\nvar media_text_display_default = MediaTextDisplay;\nexport {\n  MediaTextDisplay,\n  media_text_display_default as default\n};\n", "import { isValidNumber } from \"./utils.js\";\nconst UnitLabels = [\n  {\n    singular: \"hour\",\n    plural: \"hours\"\n  },\n  {\n    singular: \"minute\",\n    plural: \"minutes\"\n  },\n  {\n    singular: \"second\",\n    plural: \"seconds\"\n  }\n];\nconst toTimeUnitPhrase = (timeUnitValue, unitIndex) => {\n  const unitLabel = timeUnitValue === 1 ? UnitLabels[unitIndex].singular : UnitLabels[unitIndex].plural;\n  return `${timeUnitValue} ${unitLabel}`;\n};\nconst formatAsTimePhrase = (seconds) => {\n  if (!isValidNumber(seconds))\n    return \"\";\n  const positiveSeconds = Math.abs(seconds);\n  const negative = positiveSeconds !== seconds;\n  const secondsDateTime = new Date(0, 0, 0, 0, 0, positiveSeconds, 0);\n  const timeParts = [\n    secondsDateTime.getHours(),\n    secondsDateTime.getMinutes(),\n    secondsDateTime.getSeconds()\n  ];\n  const timeString = timeParts.map(\n    (timeUnitValue, index) => timeUnitValue && toTimeUnitPhrase(timeUnitValue, index)\n  ).filter((x) => x).join(\", \");\n  const negativeSuffix = negative ? \" remaining\" : \"\";\n  return `${timeString}${negativeSuffix}`;\n};\nfunction formatTime(seconds, guide) {\n  let negative = false;\n  if (seconds < 0) {\n    negative = true;\n    seconds = 0 - seconds;\n  }\n  seconds = seconds < 0 ? 0 : seconds;\n  let s = Math.floor(seconds % 60);\n  let m = Math.floor(seconds / 60 % 60);\n  let h = Math.floor(seconds / 3600);\n  const gm = Math.floor(guide / 60 % 60);\n  const gh = Math.floor(guide / 3600);\n  if (isNaN(seconds) || seconds === Infinity) {\n    h = m = s = \"0\";\n  }\n  h = h > 0 || gh > 0 ? h + \":\" : \"\";\n  m = ((h || gm >= 10) && m < 10 ? \"0\" + m : m) + \":\";\n  s = s < 10 ? \"0\" + s : s;\n  return (negative ? \"-\" : \"\") + h + m + s;\n}\nconst emptyTimeRanges = Object.freeze({\n  length: 0,\n  start(index) {\n    const unsignedIdx = index >>> 0;\n    if (unsignedIdx >= this.length) {\n      throw new DOMException(\n        `Failed to execute 'start' on 'TimeRanges': The index provided (${unsignedIdx}) is greater than or equal to the maximum bound (${this.length}).`\n      );\n    }\n    return 0;\n  },\n  end(index) {\n    const unsignedIdx = index >>> 0;\n    if (unsignedIdx >= this.length) {\n      throw new DOMException(\n        `Failed to execute 'end' on 'TimeRanges': The index provided (${unsignedIdx}) is greater than or equal to the maximum bound (${this.length}).`\n      );\n    }\n    return 0;\n  }\n});\nfunction serializeTimeRanges(timeRanges = emptyTimeRanges) {\n  return Array.from(timeRanges).map(\n    (_, i) => [\n      Number(timeRanges.start(i).toFixed(3)),\n      Number(timeRanges.end(i).toFixed(3))\n    ].join(\":\")\n  ).join(\" \");\n}\nexport {\n  emptyTimeRanges,\n  formatAsTimePhrase,\n  formatTime,\n  serializeTimeRanges\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _slot;\nimport { MediaTextDisplay } from \"./media-text-display.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { formatTime } from \"./utils/time.js\";\nimport { MediaUIAttributes } from \"./constants.js\";\nimport { getNumericAttr, setNumericAttr } from \"./utils/element-utils.js\";\nfunction getSlotTemplateHTML(_attrs, props) {\n  return (\n    /*html*/\n    `\n    <slot>${formatTime(props.mediaDuration)}</slot>\n  `\n  );\n}\nclass MediaDurationDisplay extends MediaTextDisplay {\n  constructor() {\n    var _a;\n    super();\n    __privateAdd(this, _slot, void 0);\n    __privateSet(this, _slot, this.shadowRoot.querySelector(\"slot\"));\n    __privateGet(this, _slot).textContent = formatTime((_a = this.mediaDuration) != null ? _a : 0);\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_DURATION];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    if (attrName === MediaUIAttributes.MEDIA_DURATION) {\n      __privateGet(this, _slot).textContent = formatTime(+newValue);\n    }\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n  }\n  /**\n   * @type {number | undefined} In seconds\n   */\n  get mediaDuration() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_DURATION);\n  }\n  set mediaDuration(time) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_DURATION, time);\n  }\n}\n_slot = new WeakMap();\nMediaDurationDisplay.getSlotTemplateHTML = getSlotTemplateHTML;\nif (!globalThis.customElements.get(\"media-duration-display\")) {\n  globalThis.customElements.define(\n    \"media-duration-display\",\n    MediaDurationDisplay\n  );\n}\nvar media_duration_display_default = MediaDurationDisplay;\nexport {\n  media_duration_display_default as default\n};\n", "import { t } from \"../utils/i18n.js\";\nconst defaultErrorTitles = {\n  2: t(\"Network Error\"),\n  3: t(\"Decode Error\"),\n  4: t(\"Source Not Supported\"),\n  5: t(\"Encryption Error\")\n};\nconst defaultErrorMessages = {\n  2: t(\"A network error caused the media download to fail.\"),\n  3: t(\n    \"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.\"\n  ),\n  4: t(\n    \"An unsupported error occurred. The server or network failed, or your browser does not support this format.\"\n  ),\n  5: t(\"The media is encrypted and there are no keys to decrypt it.\")\n};\nconst formatError = (error) => {\n  var _a, _b;\n  if (error.code === 1)\n    return null;\n  return {\n    title: (_a = defaultErrorTitles[error.code]) != null ? _a : `Error ${error.code}`,\n    message: (_b = defaultErrorMessages[error.code]) != null ? _b : error.message\n  };\n};\nexport {\n  formatError\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaError;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes } from \"./constants.js\";\nimport { formatError } from \"./labels/labels.js\";\nimport { MediaChromeDialog } from \"./media-chrome-dialog.js\";\nimport {\n  getNumericAttr,\n  getStringAttr,\n  setNumericAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nfunction getSlotTemplateHTML(attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        background: rgb(20 20 30 / .8);\n      }\n\n      #content {\n        display: block;\n        padding: 1.2em 1.5em;\n      }\n\n      h3,\n      p {\n        margin-block: 0 .3em;\n      }\n    </style>\n    <slot name=\"error-${attrs.mediaerrorcode}\" id=\"content\">\n      ${formatErrorMessage({ code: +attrs.mediaerrorcode, message: attrs.mediaerrormessage })}\n    </slot>\n  `\n  );\n}\nfunction shouldOpenErrorDialog(error) {\n  return error.code && formatError(error) !== null;\n}\nfunction formatErrorMessage(error) {\n  var _a;\n  const { title, message } = (_a = formatError(error)) != null ? _a : {};\n  let html = \"\";\n  if (title)\n    html += `<slot name=\"error-${error.code}-title\"><h3>${title}</h3></slot>`;\n  if (message)\n    html += `<slot name=\"error-${error.code}-message\"><p>${message}</p></slot>`;\n  return html;\n}\nconst observedAttributes = [\n  MediaUIAttributes.MEDIA_ERROR_CODE,\n  MediaUIAttributes.MEDIA_ERROR_MESSAGE\n];\nclass MediaErrorDialog extends MediaChromeDialog {\n  constructor() {\n    super(...arguments);\n    __privateAdd(this, _mediaError, null);\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, ...observedAttributes];\n  }\n  formatErrorMessage(error) {\n    return this.constructor.formatErrorMessage(error);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a;\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (!observedAttributes.includes(attrName))\n      return;\n    const mediaError = (_a = this.mediaError) != null ? _a : {\n      code: this.mediaErrorCode,\n      message: this.mediaErrorMessage\n    };\n    this.open = shouldOpenErrorDialog(mediaError);\n    if (this.open) {\n      this.shadowRoot.querySelector(\"slot\").name = `error-${this.mediaErrorCode}`;\n      this.shadowRoot.querySelector(\"#content\").innerHTML = this.formatErrorMessage(mediaError);\n    }\n  }\n  get mediaError() {\n    return __privateGet(this, _mediaError);\n  }\n  set mediaError(value) {\n    __privateSet(this, _mediaError, value);\n  }\n  get mediaErrorCode() {\n    return getNumericAttr(this, \"mediaerrorcode\");\n  }\n  set mediaErrorCode(value) {\n    setNumericAttr(this, \"mediaerrorcode\", value);\n  }\n  get mediaErrorMessage() {\n    return getStringAttr(this, \"mediaerrormessage\");\n  }\n  set mediaErrorMessage(value) {\n    setStringAttr(this, \"mediaerrormessage\", value);\n  }\n}\n_mediaError = new WeakMap();\nMediaErrorDialog.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaErrorDialog.formatErrorMessage = formatErrorMessage;\nif (!globalThis.customElements.get(\"media-error-dialog\")) {\n  globalThis.customElements.define(\"media-error-dialog\", MediaErrorDialog);\n}\nvar media_error_dialog_default = MediaErrorDialog;\nexport {\n  MediaErrorDialog,\n  media_error_dialog_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nconst enterFullscreenIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 26 24\">\n  <path d=\"M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z\"/>\n</svg>`;\nconst exitFullscreenIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 26 24\">\n  <path d=\"M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z\"/>\n</svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {\n        display: none !important;\n      }\n\n      ${/* Double negative, but safer if display doesn't equal 'block' */\n    \"\"}\n      :host(:not([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],\n      :host(:not([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"enter\">${enterFullscreenIcon}</slot>\n      <slot name=\"exit\">${exitFullscreenIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-enter\">${t(\"Enter fullscreen mode\")}</slot>\n    <slot name=\"tooltip-exit\">${t(\"Exit fullscreen mode\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const label = el.mediaIsFullscreen ? t(\"exit fullscreen mode\") : t(\"enter fullscreen mode\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaFullscreenButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_IS_FULLSCREEN,\n      MediaUIAttributes.MEDIA_FULLSCREEN_UNAVAILABLE\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_IS_FULLSCREEN) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * @type {string | undefined} Fullscreen unavailability state\n   */\n  get mediaFullscreenUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_FULLSCREEN_UNAVAILABLE);\n  }\n  set mediaFullscreenUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_FULLSCREEN_UNAVAILABLE, value);\n  }\n  /**\n   * @type {boolean} Whether fullscreen is available\n   */\n  get mediaIsFullscreen() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_IS_FULLSCREEN);\n  }\n  set mediaIsFullscreen(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_IS_FULLSCREEN, value);\n  }\n  handleClick() {\n    const eventName = this.mediaIsFullscreen ? MediaUIEvents.MEDIA_EXIT_FULLSCREEN_REQUEST : MediaUIEvents.MEDIA_ENTER_FULLSCREEN_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\nMediaFullscreenButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaFullscreenButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-fullscreen-button\")) {\n  globalThis.customElements.define(\n    \"media-fullscreen-button\",\n    MediaFullscreenButton\n  );\n}\nvar media_fullscreen_button_default = MediaFullscreenButton;\nexport {\n  media_fullscreen_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { getBooleanAttr, setBooleanAttr } from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nconst { MEDIA_TIME_IS_LIVE, MEDIA_PAUSED } = MediaUIAttributes;\nconst { MEDIA_SEEK_TO_LIVE_REQUEST, MEDIA_PLAY_REQUEST } = MediaUIEvents;\nconst indicatorSVG = '<svg viewBox=\"0 0 6 12\"><circle cx=\"3\" cy=\"6\" r=\"2\"></circle></svg>';\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host { --media-tooltip-display: none; }\n      \n      slot[name=indicator] > *,\n      :host ::slotted([slot=indicator]) {\n        ${/* Override styles for icon-only buttons */\n    \"\"}\n        min-width: auto;\n        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));\n        color: var(--media-live-button-icon-color, rgb(140, 140, 140));\n      }\n\n      :host([${MEDIA_TIME_IS_LIVE}]:not([${MEDIA_PAUSED}])) slot[name=indicator] > *,\n      :host([${MEDIA_TIME_IS_LIVE}]:not([${MEDIA_PAUSED}])) ::slotted([slot=indicator]) {\n        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));\n        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));\n      }\n\n      :host([${MEDIA_TIME_IS_LIVE}]:not([${MEDIA_PAUSED}])) {\n        cursor: var(--media-cursor, not-allowed);\n      }\n\n      slot[name=text]{\n        text-transform: uppercase;\n      }\n\n    </style>\n\n    <slot name=\"indicator\">${indicatorSVG}</slot>\n    ${/*\n      A new line between spacer and text creates inconsistent spacing\n      between slotted items and default slots.\n    */\n    \"\"}\n    <slot name=\"spacer\">&nbsp;</slot><slot name=\"text\">${t(\"live\")}</slot>\n  `\n  );\n}\nconst updateAriaAttributes = (el) => {\n  var _a;\n  const isPausedOrNotLive = el.mediaPaused || !el.mediaTimeIsLive;\n  const label = isPausedOrNotLive ? t(\"seek to live\") : t(\"playing live\");\n  el.setAttribute(\"aria-label\", label);\n  const textSlot = (_a = el.shadowRoot) == null ? void 0 : _a.querySelector('slot[name=\"text\"]');\n  if (textSlot)\n    textSlot.textContent = t(\"live\");\n  isPausedOrNotLive ? el.removeAttribute(\"aria-disabled\") : el.setAttribute(\"aria-disabled\", \"true\");\n};\nclass MediaLiveButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MEDIA_TIME_IS_LIVE,\n      MEDIA_PAUSED\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaAttributes(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    updateAriaAttributes(this);\n  }\n  /**\n   * @type {boolean} Is the media paused\n   */\n  get mediaPaused() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED);\n  }\n  set mediaPaused(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED, value);\n  }\n  /**\n   * @type {boolean} Is the media playback currently live\n   */\n  get mediaTimeIsLive() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_TIME_IS_LIVE);\n  }\n  set mediaTimeIsLive(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_TIME_IS_LIVE, value);\n  }\n  handleClick() {\n    if (!this.mediaPaused && this.mediaTimeIsLive)\n      return;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(MEDIA_SEEK_TO_LIVE_REQUEST, {\n        composed: true,\n        bubbles: true\n      })\n    );\n    if (this.hasAttribute(MEDIA_PAUSED)) {\n      this.dispatchEvent(\n        new globalThis.CustomEvent(MEDIA_PLAY_REQUEST, {\n          composed: true,\n          bubbles: true\n        })\n      );\n    }\n  }\n}\nMediaLiveButton.getSlotTemplateHTML = getSlotTemplateHTML;\nif (!globalThis.customElements.get(\"media-live-button\")) {\n  globalThis.customElements.define(\"media-live-button\", MediaLiveButton);\n}\nvar media_live_button_default = MediaLiveButton;\nexport {\n  media_live_button_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController, _delay;\nimport {\n  MediaUIAttributes,\n  MediaStateReceiverAttributes\n} from \"./constants.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport {\n  getBooleanAttr,\n  setBooleanAttr,\n  getOrInsertCSSRule,\n  setStringAttr,\n  getStringAttr,\n  namedNodeMapToObject\n} from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nconst Attributes = {\n  LOADING_DELAY: \"loadingdelay\",\n  NO_AUTOHIDE: \"noautohide\"\n};\nconst DEFAULT_LOADING_DELAY = 500;\nconst loadingIndicatorIcon = `\n<svg aria-hidden=\"true\" viewBox=\"0 0 100 100\">\n  <path d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">\n    <animateTransform\n       attributeName=\"transform\"\n       attributeType=\"XML\"\n       type=\"rotate\"\n       dur=\"1s\"\n       from=\"0 50 50\"\n       to=\"360 50 50\"\n       repeatCount=\"indefinite\" />\n  </path>\n</svg>\n`;\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));\n        vertical-align: middle;\n        box-sizing: border-box;\n        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${DEFAULT_LOADING_DELAY}ms);\n      }\n\n      #status {\n        color: rgba(0,0,0,0);\n        width: 0px;\n        height: 0px;\n      }\n\n      :host slot[name=icon] > *,\n      :host ::slotted([slot=icon]) {\n        opacity: var(--media-loading-indicator-opacity, 0);\n        transition: opacity 0.15s;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_LOADING}]:not([${MediaUIAttributes.MEDIA_PAUSED}])) slot[name=icon] > *,\n      :host([${MediaUIAttributes.MEDIA_LOADING}]:not([${MediaUIAttributes.MEDIA_PAUSED}])) ::slotted([slot=icon]) {\n        opacity: var(--media-loading-indicator-opacity, 1);\n        transition: opacity 0.15s var(--_loading-indicator-delay);\n      }\n\n      :host #status {\n        visibility: var(--media-loading-indicator-opacity, hidden);\n        transition: visibility 0.15s;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_LOADING}]:not([${MediaUIAttributes.MEDIA_PAUSED}])) #status {\n        visibility: var(--media-loading-indicator-opacity, visible);\n        transition: visibility 0.15s var(--_loading-indicator-delay);\n      }\n\n      svg, img, ::slotted(svg), ::slotted(img) {\n        width: var(--media-loading-indicator-icon-width);\n        height: var(--media-loading-indicator-icon-height, 100px);\n        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));\n        vertical-align: middle;\n      }\n    </style>\n\n    <slot name=\"icon\">${loadingIndicatorIcon}</slot>\n    <div id=\"status\" role=\"status\" aria-live=\"polite\">${t(\"media loading\")}</div>\n  `\n  );\n}\nclass MediaLoadingIndicator extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    __privateAdd(this, _delay, DEFAULT_LOADING_DELAY);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER,\n      MediaUIAttributes.MEDIA_PAUSED,\n      MediaUIAttributes.MEDIA_LOADING,\n      Attributes.LOADING_DELAY\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if (attrName === Attributes.LOADING_DELAY && oldValue !== newValue) {\n      this.loadingDelay = Number(newValue);\n    } else if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(this, _mediaController, (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(\n        mediaControllerId\n      ));\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  /**\n   * Delay in ms\n   */\n  get loadingDelay() {\n    return __privateGet(this, _delay);\n  }\n  set loadingDelay(delay) {\n    __privateSet(this, _delay, delay);\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    style.setProperty(\n      \"--_loading-indicator-delay\",\n      `var(--media-loading-indicator-transition-delay, ${delay}ms)`\n    );\n  }\n  /**\n   * Is the media paused\n   */\n  get mediaPaused() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED);\n  }\n  set mediaPaused(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED, value);\n  }\n  /**\n   * Is the media loading\n   */\n  get mediaLoading() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_LOADING);\n  }\n  set mediaLoading(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_LOADING, value);\n  }\n  get mediaController() {\n    return getStringAttr(this, MediaStateReceiverAttributes.MEDIA_CONTROLLER);\n  }\n  set mediaController(value) {\n    setStringAttr(this, MediaStateReceiverAttributes.MEDIA_CONTROLLER, value);\n  }\n  get noAutohide() {\n    return getBooleanAttr(this, Attributes.NO_AUTOHIDE);\n  }\n  set noAutohide(value) {\n    setBooleanAttr(this, Attributes.NO_AUTOHIDE, value);\n  }\n}\n_mediaController = new WeakMap();\n_delay = new WeakMap();\nMediaLoadingIndicator.shadowRootOptions = { mode: \"open\" };\nMediaLoadingIndicator.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-loading-indicator\")) {\n  globalThis.customElements.define(\n    \"media-loading-indicator\",\n    MediaLoadingIndicator\n  );\n}\nvar media_loading_indicator_default = MediaLoadingIndicator;\nexport {\n  Attributes,\n  media_loading_indicator_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport { getStringAttr, setStringAttr } from \"./utils/element-utils.js\";\nconst offIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\">\n  <path d=\"M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z\"/>\n</svg>`;\nconst lowIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\">\n  <path d=\"M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z\"/>\n</svg>`;\nconst highIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\">\n  <path d=\"M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z\"/>\n</svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host(:not([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),\n      :host([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {\n        display: none !important;\n      }\n\n      :host(:not([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],\n      :host([${MediaUIAttributes.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"off\">${offIcon}</slot>\n      <slot name=\"low\">${lowIcon}</slot>\n      <slot name=\"medium\">${lowIcon}</slot>\n      <slot name=\"high\">${highIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-mute\">${t(\"Mute\")}</slot>\n    <slot name=\"tooltip-unmute\">${t(\"Unmute\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const muted = el.mediaVolumeLevel === \"off\";\n  const label = muted ? t(\"unmute\") : t(\"mute\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaMuteButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_VOLUME_LEVEL];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_VOLUME_LEVEL) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * @type {string | undefined}\n   */\n  get mediaVolumeLevel() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_LEVEL);\n  }\n  set mediaVolumeLevel(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_LEVEL, value);\n  }\n  handleClick() {\n    const eventName = this.mediaVolumeLevel === \"off\" ? MediaUIEvents.MEDIA_UNMUTE_REQUEST : MediaUIEvents.MEDIA_MUTE_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\nMediaMuteButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaMuteButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-mute-button\")) {\n  globalThis.customElements.define(\"media-mute-button\", MediaMuteButton);\n}\nvar media_mute_button_default = MediaMuteButton;\nexport {\n  media_mute_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nconst pipIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 28 24\">\n  <path d=\"M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z\"/>\n</svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([${MediaUIAttributes.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {\n        display: none !important;\n      }\n\n      :host(:not([${MediaUIAttributes.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_IS_PIP}]) slot[name=tooltip-enter],\n      :host(:not([${MediaUIAttributes.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"enter\">${pipIcon}</slot>\n      <slot name=\"exit\">${pipIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-enter\">${t(\"Enter picture in picture mode\")}</slot>\n    <slot name=\"tooltip-exit\">${t(\"Exit picture in picture mode\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const label = el.mediaIsPip ? t(\"exit picture in picture mode\") : t(\"enter picture in picture mode\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaPipButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_IS_PIP,\n      MediaUIAttributes.MEDIA_PIP_UNAVAILABLE\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_IS_PIP) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * @type {string | undefined} Pip unavailability state\n   */\n  get mediaPipUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PIP_UNAVAILABLE);\n  }\n  set mediaPipUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PIP_UNAVAILABLE, value);\n  }\n  /**\n   * @type {boolean} Is the media currently playing picture-in-picture\n   */\n  get mediaIsPip() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_IS_PIP);\n  }\n  set mediaIsPip(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_IS_PIP, value);\n  }\n  handleClick() {\n    const eventName = this.mediaIsPip ? MediaUIEvents.MEDIA_EXIT_PIP_REQUEST : MediaUIEvents.MEDIA_ENTER_PIP_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\nMediaPipButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaPipButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-pip-button\")) {\n  globalThis.customElements.define(\"media-pip-button\", MediaPipButton);\n}\nvar media_pip_button_default = MediaPipButton;\nexport {\n  media_pip_button_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar _rates;\nimport { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { AttributeTokenList } from \"./utils/attribute-token-list.js\";\nimport { getNumericAttr, setNumericAttr } from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nconst Attributes = {\n  RATES: \"rates\"\n};\nconst DEFAULT_RATES = [1, 1.2, 1.5, 1.7, 2];\nconst DEFAULT_RATE = 1;\nfunction getSlotTemplateHTML(attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        min-width: 5ch;\n        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));\n      }\n    </style>\n    <slot name=\"icon\">${attrs[\"mediaplaybackrate\"] || DEFAULT_RATE}x</slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return t(\"Playback rate\");\n}\nclass MediaPlaybackRateButton extends MediaChromeButton {\n  constructor() {\n    var _a;\n    super();\n    __privateAdd(this, _rates, new AttributeTokenList(this, Attributes.RATES, {\n      defaultValue: DEFAULT_RATES\n    }));\n    this.container = this.shadowRoot.querySelector('slot[name=\"icon\"]');\n    this.container.innerHTML = `${(_a = this.mediaPlaybackRate) != null ? _a : DEFAULT_RATE}x`;\n  }\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      Attributes.RATES\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === Attributes.RATES) {\n      __privateGet(this, _rates).value = newValue;\n    }\n    if (attrName === MediaUIAttributes.MEDIA_PLAYBACK_RATE) {\n      const newPlaybackRate = newValue ? +newValue : Number.NaN;\n      const playbackRate = !Number.isNaN(newPlaybackRate) ? newPlaybackRate : DEFAULT_RATE;\n      this.container.innerHTML = `${playbackRate}x`;\n      this.setAttribute(\n        \"aria-label\",\n        t(\"Playback rate {playbackRate}\", { playbackRate })\n      );\n    }\n  }\n  /**\n   * Get the playback rates for the button.\n   */\n  get rates() {\n    return __privateGet(this, _rates);\n  }\n  /**\n   * Set the playback rates for the button.\n   * For React 19+ compatibility, accept a string of space-separated rates.\n   */\n  set rates(value) {\n    if (!value) {\n      __privateGet(this, _rates).value = \"\";\n    } else if (Array.isArray(value)) {\n      __privateGet(this, _rates).value = value.join(\" \");\n    } else if (typeof value === \"string\") {\n      __privateGet(this, _rates).value = value;\n    }\n  }\n  /**\n   * @type {number} The current playback rate\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(\n      this,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      DEFAULT_RATE\n    );\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n  handleClick() {\n    var _a, _b;\n    const availableRates = Array.from(__privateGet(this, _rates).values(), (str) => +str).sort(\n      (a, b) => a - b\n    );\n    const detail = (_b = (_a = availableRates.find((r) => r > this.mediaPlaybackRate)) != null ? _a : availableRates[0]) != null ? _b : DEFAULT_RATE;\n    const evt = new globalThis.CustomEvent(\n      MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST,\n      { composed: true, bubbles: true, detail }\n    );\n    this.dispatchEvent(evt);\n  }\n}\n_rates = new WeakMap();\nMediaPlaybackRateButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaPlaybackRateButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-playback-rate-button\")) {\n  globalThis.customElements.define(\n    \"media-playback-rate-button\",\n    MediaPlaybackRateButton\n  );\n}\nvar media_playback_rate_button_default = MediaPlaybackRateButton;\nexport {\n  Attributes,\n  DEFAULT_RATE,\n  DEFAULT_RATES,\n  media_playback_rate_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport { getBooleanAttr, setBooleanAttr } from \"./utils/element-utils.js\";\nconst playIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\">\n  <path d=\"m6 21 15-9L6 3v18Z\"/>\n</svg>`;\nconst pauseIcon = `<svg aria-hidden=\"true\" viewBox=\"0 0 24 24\">\n  <path d=\"M6 20h4V4H6v16Zm8-16v16h4V4h-4Z\"/>\n</svg>`;\nfunction getSlotTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host([${MediaUIAttributes.MEDIA_PAUSED}]) slot[name=pause],\n      :host(:not([${MediaUIAttributes.MEDIA_PAUSED}])) slot[name=play] {\n        display: none !important;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_PAUSED}]) slot[name=tooltip-pause],\n      :host(:not([${MediaUIAttributes.MEDIA_PAUSED}])) slot[name=tooltip-play] {\n        display: none;\n      }\n    </style>\n\n    <slot name=\"icon\">\n      <slot name=\"play\">${playIcon}</slot>\n      <slot name=\"pause\">${pauseIcon}</slot>\n    </slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return (\n    /*html*/\n    `\n    <slot name=\"tooltip-play\">${t(\"Play\")}</slot>\n    <slot name=\"tooltip-pause\">${t(\"Pause\")}</slot>\n  `\n  );\n}\nconst updateAriaLabel = (el) => {\n  const label = el.mediaPaused ? t(\"play\") : t(\"pause\");\n  el.setAttribute(\"aria-label\", label);\n};\nclass MediaPlayButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PAUSED,\n      MediaUIAttributes.MEDIA_ENDED\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    updateAriaLabel(this);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PAUSED || attrName === MediaUIAttributes.MEDIA_LANG) {\n      updateAriaLabel(this);\n    }\n  }\n  /**\n   * Is the media paused\n   */\n  get mediaPaused() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED);\n  }\n  set mediaPaused(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED, value);\n  }\n  handleClick() {\n    const eventName = this.mediaPaused ? MediaUIEvents.MEDIA_PLAY_REQUEST : MediaUIEvents.MEDIA_PAUSE_REQUEST;\n    this.dispatchEvent(\n      new globalThis.CustomEvent(eventName, { composed: true, bubbles: true })\n    );\n  }\n}\nMediaPlayButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaPlayButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-play-button\")) {\n  globalThis.customElements.define(\"media-play-button\", MediaPlayButton);\n}\nvar media_play_button_default = MediaPlayButton;\nexport {\n  MediaPlayButton,\n  media_play_button_default as default\n};\n", "import { globalThis } from \"./utils/server-safe-globals.js\";\nimport { getStringAttr, namedNodeMapToObject, setStringAttr } from \"./utils/element-utils.js\";\nconst Attributes = {\n  PLACEHOLDER_SRC: \"placeholdersrc\",\n  SRC: \"src\"\n};\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        pointer-events: none;\n        display: var(--media-poster-image-display, inline-block);\n        box-sizing: border-box;\n      }\n\n      img {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n        background-repeat: no-repeat;\n        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));\n        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));\n        object-fit: var(--media-object-fit, contain);\n        object-position: var(--media-object-position, center);\n      }\n    </style>\n\n    <img part=\"poster img\" aria-hidden=\"true\" id=\"image\"/>\n  `\n  );\n}\nconst unsetBackgroundImage = (el) => {\n  el.style.removeProperty(\"background-image\");\n};\nconst setBackgroundImage = (el, image) => {\n  el.style[\"background-image\"] = `url('${image}')`;\n};\nclass MediaPosterImage extends globalThis.HTMLElement {\n  static get observedAttributes() {\n    return [Attributes.PLACEHOLDER_SRC, Attributes.SRC];\n  }\n  constructor() {\n    super();\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n    this.image = this.shadowRoot.querySelector(\"#image\");\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    if (attrName === Attributes.SRC) {\n      if (newValue == null) {\n        this.image.removeAttribute(Attributes.SRC);\n      } else {\n        this.image.setAttribute(Attributes.SRC, newValue);\n      }\n    }\n    if (attrName === Attributes.PLACEHOLDER_SRC) {\n      if (newValue == null) {\n        unsetBackgroundImage(this.image);\n      } else {\n        setBackgroundImage(this.image, newValue);\n      }\n    }\n  }\n  /**\n   *\n   */\n  get placeholderSrc() {\n    return getStringAttr(this, Attributes.PLACEHOLDER_SRC);\n  }\n  set placeholderSrc(value) {\n    setStringAttr(this, Attributes.SRC, value);\n  }\n  /**\n   *\n   */\n  get src() {\n    return getStringAttr(this, Attributes.SRC);\n  }\n  set src(value) {\n    setStringAttr(this, Attributes.SRC, value);\n  }\n}\nMediaPosterImage.shadowRootOptions = { mode: \"open\" };\nMediaPosterImage.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-poster-image\")) {\n  globalThis.customElements.define(\"media-poster-image\", MediaPosterImage);\n}\nvar media_poster_image_default = MediaPosterImage;\nexport {\n  Attributes,\n  media_poster_image_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _slot;\nimport { MediaTextDisplay } from \"./media-text-display.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes } from \"./constants.js\";\nimport { getStringAttr, setStringAttr } from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nclass MediaPreviewChapterDisplay extends MediaTextDisplay {\n  constructor() {\n    super();\n    __privateAdd(this, _slot, void 0);\n    __privateSet(this, _slot, this.shadowRoot.querySelector(\"slot\"));\n  }\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PREVIEW_CHAPTER,\n      MediaUIAttributes.MEDIA_LANG\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PREVIEW_CHAPTER || attrName === MediaUIAttributes.MEDIA_LANG) {\n      if (newValue !== oldValue && newValue != null) {\n        __privateGet(this, _slot).textContent = newValue;\n        if (newValue !== \"\") {\n          const ariaValueText = t(\"chapter: {chapterName}\", {\n            chapterName: newValue\n          });\n          this.setAttribute(\"aria-valuetext\", ariaValueText);\n        } else {\n          this.removeAttribute(\"aria-valuetext\");\n        }\n      }\n    }\n  }\n  /**\n   * @type {string | undefined} Timeline preview chapter\n   */\n  get mediaPreviewChapter() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_CHAPTER);\n  }\n  set mediaPreviewChapter(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_CHAPTER, value);\n  }\n}\n_slot = new WeakMap();\nif (!globalThis.customElements.get(\"media-preview-chapter-display\")) {\n  globalThis.customElements.define(\n    \"media-preview-chapter-display\",\n    MediaPreviewChapterDisplay\n  );\n}\nvar media_preview_chapter_display_default = MediaPreviewChapterDisplay;\nexport {\n  media_preview_chapter_display_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport {\n  MediaUIAttributes,\n  MediaStateReceiverAttributes\n} from \"./constants.js\";\nimport {\n  getOrInsertCSSRule,\n  getStringAttr,\n  namedNodeMapToObject,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        box-sizing: border-box;\n        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));\n        overflow: hidden;\n      }\n\n      img {\n        display: none;\n        position: relative;\n      }\n    </style>\n    <img crossorigin loading=\"eager\" decoding=\"async\">\n  `\n  );\n}\nclass MediaPreviewThumbnail extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER,\n      MediaUIAttributes.MEDIA_PREVIEW_IMAGE,\n      MediaUIAttributes.MEDIA_PREVIEW_COORDS\n    ];\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(\n        this,\n        _mediaController,\n        // @ts-ignore\n        (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(mediaControllerId)\n      );\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if ([\n      MediaUIAttributes.MEDIA_PREVIEW_IMAGE,\n      MediaUIAttributes.MEDIA_PREVIEW_COORDS\n    ].includes(attrName)) {\n      this.update();\n    }\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  /**\n   * @type {string | undefined} The url of the preview image\n   */\n  get mediaPreviewImage() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE);\n  }\n  set mediaPreviewImage(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE, value);\n  }\n  /**\n   * @type {Array<number> | undefined} Fixed length array [x, y, width, height] or undefined\n   */\n  get mediaPreviewCoords() {\n    const attrVal = this.getAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n    if (!attrVal)\n      return void 0;\n    return attrVal.split(/\\s+/).map((coord) => +coord);\n  }\n  set mediaPreviewCoords(value) {\n    if (!value) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n      return;\n    }\n    this.setAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS, value.join(\" \"));\n  }\n  update() {\n    const coords = this.mediaPreviewCoords;\n    const previewImage = this.mediaPreviewImage;\n    if (!(coords && previewImage))\n      return;\n    const [x, y, w, h] = coords;\n    const src = previewImage.split(\"#\")[0];\n    const computedStyle = getComputedStyle(this);\n    const { maxWidth, maxHeight, minWidth, minHeight } = computedStyle;\n    const maxRatio = Math.min(parseInt(maxWidth) / w, parseInt(maxHeight) / h);\n    const minRatio = Math.max(parseInt(minWidth) / w, parseInt(minHeight) / h);\n    const isScalingDown = maxRatio < 1;\n    const scale = isScalingDown ? maxRatio : minRatio > 1 ? minRatio : 1;\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    const imgStyle = getOrInsertCSSRule(this.shadowRoot, \"img\").style;\n    const img = this.shadowRoot.querySelector(\"img\");\n    const extremum = isScalingDown ? \"min\" : \"max\";\n    style.setProperty(`${extremum}-width`, \"initial\", \"important\");\n    style.setProperty(`${extremum}-height`, \"initial\", \"important\");\n    style.width = `${w * scale}px`;\n    style.height = `${h * scale}px`;\n    const resize = () => {\n      imgStyle.width = `${this.imgWidth * scale}px`;\n      imgStyle.height = `${this.imgHeight * scale}px`;\n      imgStyle.display = \"block\";\n    };\n    if (img.src !== src) {\n      img.onload = () => {\n        this.imgWidth = img.naturalWidth;\n        this.imgHeight = img.naturalHeight;\n        resize();\n      };\n      img.src = src;\n      resize();\n    }\n    resize();\n    imgStyle.transform = `translate(-${x * scale}px, -${y * scale}px)`;\n  }\n}\n_mediaController = new WeakMap();\nMediaPreviewThumbnail.shadowRootOptions = { mode: \"open\" };\nMediaPreviewThumbnail.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-preview-thumbnail\")) {\n  globalThis.customElements.define(\n    \"media-preview-thumbnail\",\n    MediaPreviewThumbnail\n  );\n}\nvar media_preview_thumbnail_default = MediaPreviewThumbnail;\nexport {\n  media_preview_thumbnail_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _slot;\nimport { MediaTextDisplay } from \"./media-text-display.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { formatTime } from \"./utils/time.js\";\nimport { MediaUIAttributes } from \"./constants.js\";\nimport { getNumericAttr, setNumericAttr } from \"./utils/element-utils.js\";\nclass MediaPreviewTimeDisplay extends MediaTextDisplay {\n  constructor() {\n    super();\n    __privateAdd(this, _slot, void 0);\n    __privateSet(this, _slot, this.shadowRoot.querySelector(\"slot\"));\n    __privateGet(this, _slot).textContent = formatTime(0);\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_PREVIEW_TIME];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PREVIEW_TIME && newValue != null) {\n      __privateGet(this, _slot).textContent = formatTime(parseFloat(newValue));\n    }\n  }\n  /**\n   * Timeline preview time\n   */\n  get mediaPreviewTime() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_PREVIEW_TIME);\n  }\n  set mediaPreviewTime(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PREVIEW_TIME, value);\n  }\n}\n_slot = new WeakMap();\nif (!globalThis.customElements.get(\"media-preview-time-display\")) {\n  globalThis.customElements.define(\n    \"media-preview-time-display\",\n    MediaPreviewTimeDisplay\n  );\n}\nvar media_preview_time_display_default = MediaPreviewTimeDisplay;\nexport {\n  media_preview_time_display_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { getNumericAttr, setNumericAttr, getSlotted, updateIconText } from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nconst Attributes = {\n  SEEK_OFFSET: \"seekoffset\"\n};\nconst DEFAULT_SEEK_OFFSET = 30;\nconst backwardIcon = (seekOffset) => `\n  <svg aria-hidden=\"true\" viewBox=\"0 0 20 24\">\n    <defs>\n      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>\n    </defs>\n    <text class=\"text value\" transform=\"translate(2.18 19.87)\">${seekOffset}</text>\n    <path d=\"M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z\"/>\n  </svg>`;\nfunction getSlotTemplateHTML(_attrs, props) {\n  return (\n    /*html*/\n    `\n    <slot name=\"icon\">${backwardIcon(props.seekOffset)}</slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return t(\"Seek backward\");\n}\nconst DEFAULT_TIME = 0;\nclass MediaSeekBackwardButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      Attributes.SEEK_OFFSET\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.seekOffset = getNumericAttr(\n      this,\n      Attributes.SEEK_OFFSET,\n      DEFAULT_SEEK_OFFSET\n    );\n  }\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    super.attributeChangedCallback(attrName, _oldValue, newValue);\n    if (attrName === Attributes.SEEK_OFFSET) {\n      this.seekOffset = getNumericAttr(\n        this,\n        Attributes.SEEK_OFFSET,\n        DEFAULT_SEEK_OFFSET\n      );\n    }\n  }\n  // Own props\n  /**\n   * Seek amount in seconds\n   */\n  get seekOffset() {\n    return getNumericAttr(this, Attributes.SEEK_OFFSET, DEFAULT_SEEK_OFFSET);\n  }\n  set seekOffset(value) {\n    setNumericAttr(this, Attributes.SEEK_OFFSET, value);\n    this.setAttribute(\n      \"aria-label\",\n      t(\"seek back {seekOffset} seconds\", { seekOffset: this.seekOffset })\n    );\n    updateIconText(getSlotted(this, \"icon\"), this.seekOffset);\n  }\n  // Props derived from Media UI Attributes\n  /**\n   * The current time in seconds\n   */\n  get mediaCurrentTime() {\n    return getNumericAttr(\n      this,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      DEFAULT_TIME\n    );\n  }\n  set mediaCurrentTime(time) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME, time);\n  }\n  handleClick() {\n    const detail = Math.max(this.mediaCurrentTime - this.seekOffset, 0);\n    const evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n      composed: true,\n      bubbles: true,\n      detail\n    });\n    this.dispatchEvent(evt);\n  }\n}\nMediaSeekBackwardButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaSeekBackwardButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-seek-backward-button\")) {\n  globalThis.customElements.define(\n    \"media-seek-backward-button\",\n    MediaSeekBackwardButton\n  );\n}\nvar media_seek_backward_button_default = MediaSeekBackwardButton;\nexport {\n  Attributes,\n  media_seek_backward_button_default as default\n};\n", "import { MediaChromeButton } from \"./media-chrome-button.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { getNumericAttr, setNumericAttr, getSlotted, updateIconText } from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nconst Attributes = {\n  SEEK_OFFSET: \"seekoffset\"\n};\nconst DEFAULT_SEEK_OFFSET = 30;\nconst forwardIcon = (seekOffset) => `\n  <svg aria-hidden=\"true\" viewBox=\"0 0 20 24\">\n    <defs>\n      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>\n    </defs>\n    <text class=\"text value\" transform=\"translate(8.9 19.87)\">${seekOffset}</text>\n    <path d=\"M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z\"/>\n  </svg>`;\nfunction getSlotTemplateHTML(_attrs, props) {\n  return (\n    /*html*/\n    `\n    <slot name=\"icon\">${forwardIcon(props.seekOffset)}</slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return t(\"Seek forward\");\n}\nconst DEFAULT_TIME = 0;\nclass MediaSeekForwardButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      Attributes.SEEK_OFFSET\n    ];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.seekOffset = getNumericAttr(\n      this,\n      Attributes.SEEK_OFFSET,\n      DEFAULT_SEEK_OFFSET\n    );\n  }\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    super.attributeChangedCallback(attrName, _oldValue, newValue);\n    if (attrName === Attributes.SEEK_OFFSET) {\n      this.seekOffset = getNumericAttr(\n        this,\n        Attributes.SEEK_OFFSET,\n        DEFAULT_SEEK_OFFSET\n      );\n    }\n  }\n  // Own props\n  /**\n   * Seek amount in seconds\n   */\n  get seekOffset() {\n    return getNumericAttr(this, Attributes.SEEK_OFFSET, DEFAULT_SEEK_OFFSET);\n  }\n  set seekOffset(value) {\n    setNumericAttr(this, Attributes.SEEK_OFFSET, value);\n    this.setAttribute(\n      \"aria-label\",\n      t(\"seek forward {seekOffset} seconds\", { seekOffset: this.seekOffset })\n    );\n    updateIconText(getSlotted(this, \"icon\"), this.seekOffset);\n  }\n  // Props derived from Media UI Attributes\n  /**\n   * The current time in seconds\n   */\n  get mediaCurrentTime() {\n    return getNumericAttr(\n      this,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      DEFAULT_TIME\n    );\n  }\n  set mediaCurrentTime(time) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME, time);\n  }\n  handleClick() {\n    const detail = this.mediaCurrentTime + this.seekOffset;\n    const evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n      composed: true,\n      bubbles: true,\n      detail\n    });\n    this.dispatchEvent(evt);\n  }\n}\nMediaSeekForwardButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaSeekForwardButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-seek-forward-button\")) {\n  globalThis.customElements.define(\n    \"media-seek-forward-button\",\n    MediaSeekForwardButton\n  );\n}\nvar media_seek_forward_button_default = MediaSeekForwardButton;\nexport {\n  Attributes,\n  media_seek_forward_button_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _slot;\nimport { MediaTextDisplay } from \"./media-text-display.js\";\nimport {\n  getBooleanAttr,\n  getNumericAttr,\n  getOrInsertCSSRule,\n  setBooleanAttr,\n  setNumericAttr\n} from \"./utils/element-utils.js\";\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { formatAsTimePhrase, formatTime } from \"./utils/time.js\";\nimport { MediaUIAttributes } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nconst Attributes = {\n  REMAINING: \"remaining\",\n  SHOW_DURATION: \"showduration\",\n  NO_TOGGLE: \"notoggle\"\n};\nconst CombinedAttributes = [\n  ...Object.values(Attributes),\n  MediaUIAttributes.MEDIA_CURRENT_TIME,\n  MediaUIAttributes.MEDIA_DURATION,\n  MediaUIAttributes.MEDIA_SEEKABLE\n];\nconst ButtonPressedKeys = [\"Enter\", \" \"];\nconst DEFAULT_TIMES_SEP = \"&nbsp;/&nbsp;\";\nconst formatTimesLabel = (el, { timesSep = DEFAULT_TIMES_SEP } = {}) => {\n  var _a, _b;\n  const currentTime = (_a = el.mediaCurrentTime) != null ? _a : 0;\n  const [, seekableEnd] = (_b = el.mediaSeekable) != null ? _b : [];\n  let endTime = 0;\n  if (Number.isFinite(el.mediaDuration)) {\n    endTime = el.mediaDuration;\n  } else if (Number.isFinite(seekableEnd)) {\n    endTime = seekableEnd;\n  }\n  const timeLabel = el.remaining ? formatTime(0 - (endTime - currentTime)) : formatTime(currentTime);\n  if (!el.showDuration)\n    return timeLabel;\n  return `${timeLabel}${timesSep}${formatTime(endTime)}`;\n};\nconst DEFAULT_MISSING_TIME_PHRASE = \"video not loaded, unknown time.\";\nconst updateAriaValueText = (el) => {\n  var _a;\n  const currentTime = el.mediaCurrentTime;\n  const [, seekableEnd] = (_a = el.mediaSeekable) != null ? _a : [];\n  let endTime = null;\n  if (Number.isFinite(el.mediaDuration)) {\n    endTime = el.mediaDuration;\n  } else if (Number.isFinite(seekableEnd)) {\n    endTime = seekableEnd;\n  }\n  if (currentTime == null || endTime === null) {\n    el.setAttribute(\"aria-valuetext\", DEFAULT_MISSING_TIME_PHRASE);\n    return;\n  }\n  const currentTimePhrase = el.remaining ? formatAsTimePhrase(0 - (endTime - currentTime)) : formatAsTimePhrase(currentTime);\n  if (!el.showDuration) {\n    el.setAttribute(\"aria-valuetext\", currentTimePhrase);\n    return;\n  }\n  const totalTimePhrase = formatAsTimePhrase(endTime);\n  const fullPhrase = `${currentTimePhrase} of ${totalTimePhrase}`;\n  el.setAttribute(\"aria-valuetext\", fullPhrase);\n};\nfunction getSlotTemplateHTML(_attrs, props) {\n  return (\n    /*html*/\n    `\n    <slot>${formatTimesLabel(props)}</slot>\n  `\n  );\n}\nclass MediaTimeDisplay extends MediaTextDisplay {\n  constructor() {\n    super();\n    __privateAdd(this, _slot, void 0);\n    __privateSet(this, _slot, this.shadowRoot.querySelector(\"slot\"));\n    __privateGet(this, _slot).innerHTML = `${formatTimesLabel(this)}`;\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, ...CombinedAttributes, \"disabled\"];\n  }\n  connectedCallback() {\n    const { style } = getOrInsertCSSRule(\n      this.shadowRoot,\n      \":host(:hover:not([notoggle]))\"\n    );\n    style.setProperty(\"cursor\", \"var(--media-cursor, pointer)\");\n    style.setProperty(\n      \"background\",\n      \"var(--media-control-hover-background, rgba(50 50 70 / .7))\"\n    );\n    if (!this.hasAttribute(\"disabled\")) {\n      this.enable();\n    }\n    this.setAttribute(\"role\", \"progressbar\");\n    this.setAttribute(\"aria-label\", t(\"playback time\"));\n    const keyUpHandler = (evt) => {\n      const { key } = evt;\n      if (!ButtonPressedKeys.includes(key)) {\n        this.removeEventListener(\"keyup\", keyUpHandler);\n        return;\n      }\n      this.toggleTimeDisplay();\n    };\n    this.addEventListener(\"keydown\", (evt) => {\n      const { metaKey, altKey, key } = evt;\n      if (metaKey || altKey || !ButtonPressedKeys.includes(key)) {\n        this.removeEventListener(\"keyup\", keyUpHandler);\n        return;\n      }\n      this.addEventListener(\"keyup\", keyUpHandler);\n    });\n    this.addEventListener(\"click\", this.toggleTimeDisplay);\n    super.connectedCallback();\n  }\n  toggleTimeDisplay() {\n    if (this.noToggle) {\n      return;\n    }\n    if (this.hasAttribute(\"remaining\")) {\n      this.removeAttribute(\"remaining\");\n    } else {\n      this.setAttribute(\"remaining\", \"\");\n    }\n  }\n  disconnectedCallback() {\n    this.disable();\n    super.disconnectedCallback();\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    if (CombinedAttributes.includes(attrName)) {\n      this.update();\n    } else if (attrName === \"disabled\" && newValue !== oldValue) {\n      if (newValue == null) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n  }\n  enable() {\n    this.tabIndex = 0;\n  }\n  disable() {\n    this.tabIndex = -1;\n  }\n  // Own props\n  /**\n   * Whether to show the remaining time\n   */\n  get remaining() {\n    return getBooleanAttr(this, Attributes.REMAINING);\n  }\n  set remaining(show) {\n    setBooleanAttr(this, Attributes.REMAINING, show);\n  }\n  /**\n   * Whether to show the duration\n   */\n  get showDuration() {\n    return getBooleanAttr(this, Attributes.SHOW_DURATION);\n  }\n  set showDuration(show) {\n    setBooleanAttr(this, Attributes.SHOW_DURATION, show);\n  }\n  /**\n   * Disable the default behavior that toggles between current and remaining time\n   */\n  get noToggle() {\n    return getBooleanAttr(this, Attributes.NO_TOGGLE);\n  }\n  set noToggle(noToggle) {\n    setBooleanAttr(this, Attributes.NO_TOGGLE, noToggle);\n  }\n  // Props derived from media UI attributes\n  /**\n   * Get the duration\n   */\n  get mediaDuration() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_DURATION);\n  }\n  set mediaDuration(time) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_DURATION, time);\n  }\n  /**\n   * The current time in seconds\n   */\n  get mediaCurrentTime() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME);\n  }\n  set mediaCurrentTime(time) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME, time);\n  }\n  /**\n   * Range of values that can be seeked to.\n   * An array of two numbers [start, end]\n   */\n  get mediaSeekable() {\n    const seekable = this.getAttribute(MediaUIAttributes.MEDIA_SEEKABLE);\n    if (!seekable)\n      return void 0;\n    return seekable.split(\":\").map((time) => +time);\n  }\n  set mediaSeekable(range) {\n    if (range == null) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_SEEKABLE);\n      return;\n    }\n    this.setAttribute(MediaUIAttributes.MEDIA_SEEKABLE, range.join(\":\"));\n  }\n  update() {\n    const timesLabel = formatTimesLabel(this);\n    updateAriaValueText(this);\n    if (timesLabel !== __privateGet(this, _slot).innerHTML) {\n      __privateGet(this, _slot).innerHTML = timesLabel;\n    }\n  }\n}\n_slot = new WeakMap();\nMediaTimeDisplay.getSlotTemplateHTML = getSlotTemplateHTML;\nif (!globalThis.customElements.get(\"media-time-display\")) {\n  globalThis.customElements.define(\"media-time-display\", MediaTimeDisplay);\n}\nvar media_time_display_default = MediaTimeDisplay;\nexport {\n  Attributes,\n  media_time_display_default as default\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar _range, _startTime, _previousTime, _deltaTime, _frameCount, _updateTimestamp, _updateStartValue, _lastRangeIncrease, _id, _animate;\nclass RangeAnimation {\n  constructor(range, callback, fps) {\n    __privateAdd(this, _range, void 0);\n    __privateAdd(this, _startTime, void 0);\n    __privateAdd(this, _previousTime, void 0);\n    __privateAdd(this, _deltaTime, void 0);\n    __privateAdd(this, _frameCount, void 0);\n    __privateAdd(this, _updateTimestamp, void 0);\n    __privateAdd(this, _updateStartValue, void 0);\n    __privateAdd(this, _lastRangeIncrease, void 0);\n    __privateAdd(this, _id, 0);\n    __privateAdd(this, _animate, (now = performance.now()) => {\n      __privateSet(this, _id, requestAnimationFrame(__privateGet(this, _animate)));\n      __privateSet(this, _deltaTime, performance.now() - __privateGet(this, _previousTime));\n      const fpsInterval = 1e3 / this.fps;\n      if (__privateGet(this, _deltaTime) > fpsInterval) {\n        __privateSet(this, _previousTime, now - __privateGet(this, _deltaTime) % fpsInterval);\n        const fps = 1e3 / ((now - __privateGet(this, _startTime)) / ++__privateWrapper(this, _frameCount)._);\n        const delta = (now - __privateGet(this, _updateTimestamp)) / 1e3 / this.duration;\n        let value = __privateGet(this, _updateStartValue) + delta * this.playbackRate;\n        const increase = value - __privateGet(this, _range).valueAsNumber;\n        if (increase > 0) {\n          __privateSet(this, _lastRangeIncrease, this.playbackRate / this.duration / fps);\n        } else {\n          __privateSet(this, _lastRangeIncrease, 0.995 * __privateGet(this, _lastRangeIncrease));\n          value = __privateGet(this, _range).valueAsNumber + __privateGet(this, _lastRangeIncrease);\n        }\n        this.callback(value);\n      }\n    });\n    __privateSet(this, _range, range);\n    this.callback = callback;\n    this.fps = fps;\n  }\n  start() {\n    if (__privateGet(this, _id) !== 0)\n      return;\n    __privateSet(this, _previousTime, performance.now());\n    __privateSet(this, _startTime, __privateGet(this, _previousTime));\n    __privateSet(this, _frameCount, 0);\n    __privateGet(this, _animate).call(this);\n  }\n  stop() {\n    if (__privateGet(this, _id) === 0)\n      return;\n    cancelAnimationFrame(__privateGet(this, _id));\n    __privateSet(this, _id, 0);\n  }\n  update({ start, duration, playbackRate }) {\n    const increase = start - __privateGet(this, _range).valueAsNumber;\n    const durationDelta = Math.abs(duration - this.duration);\n    if (increase > 0 || increase < -0.03 || durationDelta >= 0.5) {\n      this.callback(start);\n    }\n    __privateSet(this, _updateStartValue, start);\n    __privateSet(this, _updateTimestamp, performance.now());\n    this.duration = duration;\n    this.playbackRate = playbackRate;\n  }\n}\n_range = new WeakMap();\n_startTime = new WeakMap();\n_previousTime = new WeakMap();\n_deltaTime = new WeakMap();\n_frameCount = new WeakMap();\n_updateTimestamp = new WeakMap();\n_updateStartValue = new WeakMap();\n_lastRangeIncrease = new WeakMap();\n_id = new WeakMap();\n_animate = new WeakMap();\nexport {\n  RangeAnimation\n};\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _rootNode, _animation, _boxes, _previewTime, _previewBox, _currentBox, _boxPaddingLeft, _boxPaddingRight, _mediaChaptersCues, _toggleRangeAnimation, toggleRangeAnimation_fn, _shouldRangeAnimate, shouldRangeAnimate_fn, _updateRange, _getElementRects, getElementRects_fn, _getBoxPosition, getBoxPosition_fn, _getBoxShiftPosition, getBoxShiftPosition_fn, _handlePointerMove, handlePointerMove_fn, _previewRequest, previewRequest_fn, _seekRequest, seekRequest_fn;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaChromeRange } from \"./media-chrome-range.js\";\nimport \"./media-preview-thumbnail.js\";\nimport \"./media-preview-time-display.js\";\nimport \"./media-preview-chapter-display.js\";\nimport { MediaUIEvents, MediaUIAttributes } from \"./constants.js\";\nimport { isValidNumber } from \"./utils/utils.js\";\nimport { formatAsTimePhrase } from \"./utils/time.js\";\nimport { isElementVisible } from \"./utils/element-utils.js\";\nimport { RangeAnimation } from \"./utils/range-animation.js\";\nimport {\n  getOrInsertCSSRule,\n  containsComposedNode,\n  closestComposedNode,\n  getBooleanAttr,\n  setBooleanAttr,\n  getNumericAttr,\n  setNumericAttr,\n  getStringAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport { t } from \"./utils/i18n.js\";\nimport MediaPreviewThumbnail from \"./media-preview-thumbnail.js\";\nconst DEFAULT_MISSING_TIME_PHRASE = \"video not loaded, unknown time.\";\nconst updateAriaValueText = (el) => {\n  const range = el.range;\n  const currentTimePhrase = formatAsTimePhrase(+calcTimeFromRangeValue(el));\n  const totalTimePhrase = formatAsTimePhrase(+el.mediaSeekableEnd);\n  const fullPhrase = !(currentTimePhrase && totalTimePhrase) ? DEFAULT_MISSING_TIME_PHRASE : `${currentTimePhrase} of ${totalTimePhrase}`;\n  range.setAttribute(\"aria-valuetext\", fullPhrase);\n};\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    ${MediaChromeRange.getTemplateHTML(_attrs)}\n    <style>\n      :host {\n        --media-box-border-radius: 4px;\n        --media-box-padding-left: 10px;\n        --media-box-padding-right: 10px;\n        --media-preview-border-radius: var(--media-box-border-radius);\n        --media-box-arrow-offset: var(--media-box-border-radius);\n        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));\n        --_preview-background: var(--media-preview-background, var(--_control-background));\n\n        ${/* 1% rail width trick was off in Safari, contain: layout seems to\n    prevent the horizontal overflow as well. */\n    \"\"}\n        contain: layout;\n      }\n\n      #buffered {\n        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));\n        position: absolute;\n        height: 100%;\n        will-change: width;\n      }\n\n      #preview-rail,\n      #current-rail {\n        width: 100%;\n        position: absolute;\n        left: 0;\n        bottom: 100%;\n        pointer-events: none;\n        will-change: transform;\n      }\n\n      [part~=\"box\"] {\n        width: min-content;\n        ${/* absolute position is needed here so the box doesn't overflow the bounds */\n    \"\"}\n        position: absolute;\n        bottom: 100%;\n        flex-direction: column;\n        align-items: center;\n        transform: translateX(-50%);\n      }\n\n      [part~=\"current-box\"] {\n        display: var(--media-current-box-display, var(--media-box-display, flex));\n        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));\n        visibility: hidden;\n      }\n\n      [part~=\"preview-box\"] {\n        display: var(--media-preview-box-display, var(--media-box-display, flex));\n        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));\n        transition-property: var(--media-preview-transition-property, visibility, opacity);\n        transition-duration: var(--media-preview-transition-duration-out, .25s);\n        transition-delay: var(--media-preview-transition-delay-out, 0s);\n        visibility: hidden;\n        opacity: 0;\n      }\n\n      :host(:is([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}], [${MediaUIAttributes.MEDIA_PREVIEW_TIME}])[dragging]) [part~=\"preview-box\"] {\n        transition-duration: var(--media-preview-transition-duration-in, .5s);\n        transition-delay: var(--media-preview-transition-delay-in, .25s);\n        visibility: visible;\n        opacity: 1;\n      }\n\n      @media (hover: hover) {\n        :host(:is([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}], [${MediaUIAttributes.MEDIA_PREVIEW_TIME}]):hover) [part~=\"preview-box\"] {\n          transition-duration: var(--media-preview-transition-duration-in, .5s);\n          transition-delay: var(--media-preview-transition-delay-in, .25s);\n          visibility: visible;\n          opacity: 1;\n        }\n      }\n\n      media-preview-thumbnail,\n      ::slotted(media-preview-thumbnail) {\n        visibility: hidden;\n        ${/* delay changing these CSS props until the preview box transition is ended */\n    \"\"}\n        transition: visibility 0s .25s;\n        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));\n        background: var(--media-preview-thumbnail-background, var(--_preview-background));\n        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));\n        max-width: var(--media-preview-thumbnail-max-width, 180px);\n        max-height: var(--media-preview-thumbnail-max-height, 160px);\n        min-width: var(--media-preview-thumbnail-min-width, 120px);\n        min-height: var(--media-preview-thumbnail-min-height, 80px);\n        border: var(--media-preview-thumbnail-border);\n        border-radius: var(--media-preview-thumbnail-border-radius,\n          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);\n      }\n\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {\n        transition-delay: var(--media-preview-transition-delay-in, .25s);\n        visibility: visible;\n      }\n\n      @media (hover: hover) {\n        :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,\n        :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {\n          transition-delay: var(--media-preview-transition-delay-in, .25s);\n          visibility: visible;\n        }\n\n        :host([${MediaUIAttributes.MEDIA_PREVIEW_TIME}]:hover) {\n          --media-time-range-hover-display: block;\n        }\n      }\n\n      media-preview-chapter-display,\n      ::slotted(media-preview-chapter-display) {\n        font-size: var(--media-font-size, 13px);\n        line-height: 17px;\n        min-width: 0;\n        visibility: hidden;\n        ${/* delay changing these CSS props until the preview box transition is ended */\n    \"\"}\n        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;\n        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));\n        background: var(--media-preview-chapter-background, var(--_preview-background));\n        border-radius: var(--media-preview-chapter-border-radius,\n          var(--media-preview-border-radius) var(--media-preview-border-radius)\n          var(--media-preview-border-radius) var(--media-preview-border-radius));\n        padding: var(--media-preview-chapter-padding, 3.5px 9px);\n        margin: var(--media-preview-chapter-margin, 0 0 5px);\n        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));\n      }\n\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {\n        transition-delay: var(--media-preview-transition-delay-in, .25s);\n        border-radius: var(--media-preview-chapter-border-radius, 0);\n        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);\n        margin: var(--media-preview-chapter-margin, 0);\n        min-width: 100%;\n      }\n\n      media-preview-chapter-display[${MediaUIAttributes.MEDIA_PREVIEW_CHAPTER}],\n      ::slotted(media-preview-chapter-display[${MediaUIAttributes.MEDIA_PREVIEW_CHAPTER}]) {\n        visibility: visible;\n      }\n\n      media-preview-chapter-display:not([aria-valuetext]),\n      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {\n        display: none;\n      }\n\n      media-preview-time-display,\n      ::slotted(media-preview-time-display),\n      media-time-display,\n      ::slotted(media-time-display) {\n        font-size: var(--media-font-size, 13px);\n        line-height: 17px;\n        min-width: 0;\n        ${/* delay changing these CSS props until the preview box transition is ended */\n    \"\"}\n        transition: min-width 0s, border-radius 0s;\n        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));\n        background: var(--media-preview-time-background, var(--_preview-background));\n        border-radius: var(--media-preview-time-border-radius,\n          var(--media-preview-border-radius) var(--media-preview-border-radius)\n          var(--media-preview-border-radius) var(--media-preview-border-radius));\n        padding: var(--media-preview-time-padding, 3.5px 9px);\n        margin: var(--media-preview-time-margin, 0);\n        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));\n        transform: translateX(min(\n          max(calc(50% - var(--_box-width) / 2),\n          calc(var(--_box-shift, 0))),\n          calc(var(--_box-width) / 2 - 50%)\n        ));\n      }\n\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {\n        transition-delay: var(--media-preview-transition-delay-in, .25s);\n        border-radius: var(--media-preview-time-border-radius,\n          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));\n        min-width: 100%;\n      }\n\n      :host([${MediaUIAttributes.MEDIA_PREVIEW_TIME}]:hover) {\n        --media-time-range-hover-display: block;\n      }\n\n      [part~=\"arrow\"],\n      ::slotted([part~=\"arrow\"]) {\n        display: var(--media-box-arrow-display, inline-block);\n        transform: translateX(min(\n          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),\n          calc(var(--_box-shift, 0))),\n          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))\n        ));\n        ${/* border-color has to come before border-top-color! */\n    \"\"}\n        border-color: transparent;\n        border-top-color: var(--media-box-arrow-background, var(--_control-background));\n        border-width: var(--media-box-arrow-border-width,\n          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);\n        border-style: solid;\n        justify-content: center;\n        height: 0;\n      }\n    </style>\n    <div id=\"preview-rail\">\n      <slot name=\"preview\" part=\"box preview-box\">\n        <media-preview-thumbnail>\n          <template shadowrootmode=\"${MediaPreviewThumbnail.shadowRootOptions.mode}\">\n            ${MediaPreviewThumbnail.getTemplateHTML({})}\n          </template>\n        </media-preview-thumbnail>\n        <media-preview-chapter-display></media-preview-chapter-display>\n        <media-preview-time-display></media-preview-time-display>\n        <slot name=\"preview-arrow\"><div part=\"arrow\"></div></slot>\n      </slot>\n    </div>\n    <div id=\"current-rail\">\n      <slot name=\"current\" part=\"box current-box\">\n        ${/* Example: add the current time w/ arrow to the playhead\n    <media-time-display slot=\"current\"></media-time-display>\n    <div part=\"arrow\" slot=\"current\"></div> */\n    \"\"}\n      </slot>\n    </div>\n  `\n  );\n}\nconst calcRangeValueFromTime = (el, time = el.mediaCurrentTime) => {\n  const startTime = Number.isFinite(el.mediaSeekableStart) ? el.mediaSeekableStart : 0;\n  const endTime = Number.isFinite(el.mediaDuration) ? el.mediaDuration : el.mediaSeekableEnd;\n  if (Number.isNaN(endTime))\n    return 0;\n  const value = (time - startTime) / (endTime - startTime);\n  return Math.max(0, Math.min(value, 1));\n};\nconst calcTimeFromRangeValue = (el, value = el.range.valueAsNumber) => {\n  const startTime = Number.isFinite(el.mediaSeekableStart) ? el.mediaSeekableStart : 0;\n  const endTime = Number.isFinite(el.mediaDuration) ? el.mediaDuration : el.mediaSeekableEnd;\n  if (Number.isNaN(endTime))\n    return 0;\n  return value * (endTime - startTime) + startTime;\n};\nclass MediaTimeRange extends MediaChromeRange {\n  constructor() {\n    super();\n    __privateAdd(this, _toggleRangeAnimation);\n    __privateAdd(this, _shouldRangeAnimate);\n    __privateAdd(this, _getElementRects);\n    /**\n     * Get the position, max and min for the box in percentage.\n     * It's important this is in percentage so when the player is resized\n     * the box will move accordingly.\n     */\n    __privateAdd(this, _getBoxPosition);\n    __privateAdd(this, _getBoxShiftPosition);\n    __privateAdd(this, _handlePointerMove);\n    __privateAdd(this, _previewRequest);\n    __privateAdd(this, _seekRequest);\n    __privateAdd(this, _rootNode, void 0);\n    __privateAdd(this, _animation, void 0);\n    __privateAdd(this, _boxes, void 0);\n    __privateAdd(this, _previewTime, void 0);\n    __privateAdd(this, _previewBox, void 0);\n    __privateAdd(this, _currentBox, void 0);\n    __privateAdd(this, _boxPaddingLeft, void 0);\n    __privateAdd(this, _boxPaddingRight, void 0);\n    __privateAdd(this, _mediaChaptersCues, void 0);\n    __privateAdd(this, _updateRange, (value) => {\n      if (this.dragging)\n        return;\n      if (isValidNumber(value)) {\n        this.range.valueAsNumber = value;\n      }\n      this.updateBar();\n    });\n    const track = this.shadowRoot.querySelector(\"#track\");\n    track.insertAdjacentHTML(\n      \"afterbegin\",\n      '<div id=\"buffered\" part=\"buffered\"></div>'\n    );\n    __privateSet(this, _boxes, this.shadowRoot.querySelectorAll('[part~=\"box\"]'));\n    __privateSet(this, _previewBox, this.shadowRoot.querySelector('[part~=\"preview-box\"]'));\n    __privateSet(this, _currentBox, this.shadowRoot.querySelector('[part~=\"current-box\"]'));\n    const computedStyle = getComputedStyle(this);\n    __privateSet(this, _boxPaddingLeft, parseInt(\n      computedStyle.getPropertyValue(\"--media-box-padding-left\")\n    ));\n    __privateSet(this, _boxPaddingRight, parseInt(\n      computedStyle.getPropertyValue(\"--media-box-padding-right\")\n    ));\n    __privateSet(this, _animation, new RangeAnimation(this.range, __privateGet(this, _updateRange), 60));\n  }\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PAUSED,\n      MediaUIAttributes.MEDIA_DURATION,\n      MediaUIAttributes.MEDIA_SEEKABLE,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      MediaUIAttributes.MEDIA_PREVIEW_IMAGE,\n      MediaUIAttributes.MEDIA_PREVIEW_TIME,\n      MediaUIAttributes.MEDIA_PREVIEW_CHAPTER,\n      MediaUIAttributes.MEDIA_BUFFERED,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      MediaUIAttributes.MEDIA_LOADING,\n      MediaUIAttributes.MEDIA_ENDED\n    ];\n  }\n  connectedCallback() {\n    var _a;\n    super.connectedCallback();\n    this.range.setAttribute(\"aria-label\", t(\"seek\"));\n    __privateMethod(this, _toggleRangeAnimation, toggleRangeAnimation_fn).call(this);\n    __privateSet(this, _rootNode, this.getRootNode());\n    (_a = __privateGet(this, _rootNode)) == null ? void 0 : _a.addEventListener(\"transitionstart\", this);\n  }\n  disconnectedCallback() {\n    var _a;\n    super.disconnectedCallback();\n    __privateMethod(this, _toggleRangeAnimation, toggleRangeAnimation_fn).call(this);\n    (_a = __privateGet(this, _rootNode)) == null ? void 0 : _a.removeEventListener(\"transitionstart\", this);\n    __privateSet(this, _rootNode, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (oldValue == newValue)\n      return;\n    if (attrName === MediaUIAttributes.MEDIA_CURRENT_TIME || attrName === MediaUIAttributes.MEDIA_PAUSED || attrName === MediaUIAttributes.MEDIA_ENDED || attrName === MediaUIAttributes.MEDIA_LOADING || attrName === MediaUIAttributes.MEDIA_DURATION || attrName === MediaUIAttributes.MEDIA_SEEKABLE) {\n      __privateGet(this, _animation).update({\n        start: calcRangeValueFromTime(this),\n        duration: this.mediaSeekableEnd - this.mediaSeekableStart,\n        playbackRate: this.mediaPlaybackRate\n      });\n      __privateMethod(this, _toggleRangeAnimation, toggleRangeAnimation_fn).call(this);\n      updateAriaValueText(this);\n    } else if (attrName === MediaUIAttributes.MEDIA_BUFFERED) {\n      this.updateBufferedBar();\n    }\n    if (attrName === MediaUIAttributes.MEDIA_DURATION || attrName === MediaUIAttributes.MEDIA_SEEKABLE) {\n      this.mediaChaptersCues = __privateGet(this, _mediaChaptersCues);\n      this.updateBar();\n    }\n  }\n  get mediaChaptersCues() {\n    return __privateGet(this, _mediaChaptersCues);\n  }\n  set mediaChaptersCues(value) {\n    var _a;\n    __privateSet(this, _mediaChaptersCues, value);\n    this.updateSegments(\n      (_a = __privateGet(this, _mediaChaptersCues)) == null ? void 0 : _a.map((c) => ({\n        start: calcRangeValueFromTime(this, c.startTime),\n        end: calcRangeValueFromTime(this, c.endTime)\n      }))\n    );\n  }\n  /**\n   * Is the media paused\n   */\n  get mediaPaused() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED);\n  }\n  set mediaPaused(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_PAUSED, value);\n  }\n  /**\n   * Is the media loading\n   */\n  get mediaLoading() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_LOADING);\n  }\n  set mediaLoading(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_LOADING, value);\n  }\n  /**\n   *\n   */\n  get mediaDuration() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_DURATION);\n  }\n  set mediaDuration(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_DURATION, value);\n  }\n  /**\n   *\n   */\n  get mediaCurrentTime() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME);\n  }\n  set mediaCurrentTime(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_CURRENT_TIME, value);\n  }\n  /**\n   *\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, 1);\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n  /**\n   * An array of ranges, each range being an array of two numbers.\n   * e.g. [[1, 2], [3, 4]]\n   */\n  get mediaBuffered() {\n    const buffered = this.getAttribute(MediaUIAttributes.MEDIA_BUFFERED);\n    if (!buffered)\n      return [];\n    return buffered.split(\" \").map((timePair) => timePair.split(\":\").map((timeStr) => +timeStr));\n  }\n  set mediaBuffered(list) {\n    if (!list) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_BUFFERED);\n      return;\n    }\n    const strVal = list.map((tuple) => tuple.join(\":\")).join(\" \");\n    this.setAttribute(MediaUIAttributes.MEDIA_BUFFERED, strVal);\n  }\n  /**\n   * Range of values that can be seeked to\n   * An array of two numbers [start, end]\n   */\n  get mediaSeekable() {\n    const seekable = this.getAttribute(MediaUIAttributes.MEDIA_SEEKABLE);\n    if (!seekable)\n      return void 0;\n    return seekable.split(\":\").map((time) => +time);\n  }\n  set mediaSeekable(range) {\n    if (range == null) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_SEEKABLE);\n      return;\n    }\n    this.setAttribute(MediaUIAttributes.MEDIA_SEEKABLE, range.join(\":\"));\n  }\n  /**\n   *\n   */\n  get mediaSeekableEnd() {\n    var _a;\n    const [, end = this.mediaDuration] = (_a = this.mediaSeekable) != null ? _a : [];\n    return end;\n  }\n  get mediaSeekableStart() {\n    var _a;\n    const [start = 0] = (_a = this.mediaSeekable) != null ? _a : [];\n    return start;\n  }\n  /**\n   * The url of the preview image\n   */\n  get mediaPreviewImage() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE);\n  }\n  set mediaPreviewImage(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE, value);\n  }\n  /**\n   *\n   */\n  get mediaPreviewTime() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_PREVIEW_TIME);\n  }\n  set mediaPreviewTime(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PREVIEW_TIME, value);\n  }\n  /**\n   *\n   */\n  get mediaEnded() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_ENDED);\n  }\n  set mediaEnded(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_ENDED, value);\n  }\n  /* Add a buffered progress bar */\n  updateBar() {\n    super.updateBar();\n    this.updateBufferedBar();\n    this.updateCurrentBox();\n  }\n  updateBufferedBar() {\n    var _a;\n    const buffered = this.mediaBuffered;\n    if (!buffered.length) {\n      return;\n    }\n    let relativeBufferedEnd;\n    if (!this.mediaEnded) {\n      const currentTime = this.mediaCurrentTime;\n      const [, bufferedEnd = this.mediaSeekableStart] = (_a = buffered.find(\n        ([start, end]) => start <= currentTime && currentTime <= end\n      )) != null ? _a : [];\n      relativeBufferedEnd = calcRangeValueFromTime(this, bufferedEnd);\n    } else {\n      relativeBufferedEnd = 1;\n    }\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \"#buffered\");\n    style.setProperty(\"width\", `${relativeBufferedEnd * 100}%`);\n  }\n  updateCurrentBox() {\n    const currentSlot = this.shadowRoot.querySelector(\n      'slot[name=\"current\"]'\n    );\n    if (!currentSlot.assignedElements().length)\n      return;\n    const currentRailRule = getOrInsertCSSRule(\n      this.shadowRoot,\n      \"#current-rail\"\n    );\n    const currentBoxRule = getOrInsertCSSRule(\n      this.shadowRoot,\n      '[part~=\"current-box\"]'\n    );\n    const rects = __privateMethod(this, _getElementRects, getElementRects_fn).call(this, __privateGet(this, _currentBox));\n    const boxPos = __privateMethod(this, _getBoxPosition, getBoxPosition_fn).call(this, rects, this.range.valueAsNumber);\n    const boxShift = __privateMethod(this, _getBoxShiftPosition, getBoxShiftPosition_fn).call(this, rects, this.range.valueAsNumber);\n    currentRailRule.style.transform = `translateX(${boxPos})`;\n    currentRailRule.style.setProperty(\"--_range-width\", `${rects.range.width}`);\n    currentBoxRule.style.setProperty(\"--_box-shift\", `${boxShift}`);\n    currentBoxRule.style.setProperty(\"--_box-width\", `${rects.box.width}px`);\n    currentBoxRule.style.setProperty(\"visibility\", \"initial\");\n  }\n  handleEvent(evt) {\n    super.handleEvent(evt);\n    switch (evt.type) {\n      case \"input\":\n        __privateMethod(this, _seekRequest, seekRequest_fn).call(this);\n        break;\n      case \"pointermove\":\n        __privateMethod(this, _handlePointerMove, handlePointerMove_fn).call(this, evt);\n        break;\n      case \"pointerup\":\n      case \"pointerleave\":\n        __privateMethod(this, _previewRequest, previewRequest_fn).call(this, null);\n        break;\n      case \"transitionstart\":\n        if (containsComposedNode(evt.target, this)) {\n          setTimeout(() => __privateMethod(this, _toggleRangeAnimation, toggleRangeAnimation_fn).call(this), 0);\n        }\n        break;\n    }\n  }\n}\n_rootNode = new WeakMap();\n_animation = new WeakMap();\n_boxes = new WeakMap();\n_previewTime = new WeakMap();\n_previewBox = new WeakMap();\n_currentBox = new WeakMap();\n_boxPaddingLeft = new WeakMap();\n_boxPaddingRight = new WeakMap();\n_mediaChaptersCues = new WeakMap();\n_toggleRangeAnimation = new WeakSet();\ntoggleRangeAnimation_fn = function() {\n  if (__privateMethod(this, _shouldRangeAnimate, shouldRangeAnimate_fn).call(this)) {\n    __privateGet(this, _animation).start();\n  } else {\n    __privateGet(this, _animation).stop();\n  }\n};\n_shouldRangeAnimate = new WeakSet();\nshouldRangeAnimate_fn = function() {\n  return this.isConnected && !this.mediaPaused && !this.mediaLoading && !this.mediaEnded && this.mediaSeekableEnd > 0 && isElementVisible(this);\n};\n_updateRange = new WeakMap();\n_getElementRects = new WeakSet();\ngetElementRects_fn = function(box) {\n  var _a;\n  const bounds = (_a = this.getAttribute(\"bounds\") ? closestComposedNode(this, `#${this.getAttribute(\"bounds\")}`) : this.parentElement) != null ? _a : this;\n  const boundsRect = bounds.getBoundingClientRect();\n  const rangeRect = this.range.getBoundingClientRect();\n  const width = box.offsetWidth;\n  const min = -(rangeRect.left - boundsRect.left - width / 2);\n  const max = boundsRect.right - rangeRect.left - width / 2;\n  return {\n    box: { width, min, max },\n    bounds: boundsRect,\n    range: rangeRect\n  };\n};\n_getBoxPosition = new WeakSet();\ngetBoxPosition_fn = function(rects, ratio) {\n  let position = `${ratio * 100}%`;\n  const { width, min, max } = rects.box;\n  if (!width)\n    return position;\n  if (!Number.isNaN(min)) {\n    const pad = `var(--media-box-padding-left)`;\n    const minPos = `calc(1 / var(--_range-width) * 100 * ${min}% + ${pad})`;\n    position = `max(${minPos}, ${position})`;\n  }\n  if (!Number.isNaN(max)) {\n    const pad = `var(--media-box-padding-right)`;\n    const maxPos = `calc(1 / var(--_range-width) * 100 * ${max}% - ${pad})`;\n    position = `min(${position}, ${maxPos})`;\n  }\n  return position;\n};\n_getBoxShiftPosition = new WeakSet();\ngetBoxShiftPosition_fn = function(rects, ratio) {\n  const { width, min, max } = rects.box;\n  const pointerX = ratio * rects.range.width;\n  if (pointerX < min + __privateGet(this, _boxPaddingLeft)) {\n    const offset = rects.range.left - rects.bounds.left - __privateGet(this, _boxPaddingLeft);\n    return `${pointerX - width / 2 + offset}px`;\n  }\n  if (pointerX > max - __privateGet(this, _boxPaddingRight)) {\n    const offset = rects.bounds.right - rects.range.right - __privateGet(this, _boxPaddingRight);\n    return `${pointerX + width / 2 - offset - rects.range.width}px`;\n  }\n  return 0;\n};\n_handlePointerMove = new WeakSet();\nhandlePointerMove_fn = function(evt) {\n  const isOverBoxes = [...__privateGet(this, _boxes)].some(\n    (b) => evt.composedPath().includes(b)\n  );\n  if (!this.dragging && (isOverBoxes || !evt.composedPath().includes(this))) {\n    __privateMethod(this, _previewRequest, previewRequest_fn).call(this, null);\n    return;\n  }\n  const duration = this.mediaSeekableEnd;\n  if (!duration)\n    return;\n  const previewRailRule = getOrInsertCSSRule(\n    this.shadowRoot,\n    \"#preview-rail\"\n  );\n  const previewBoxRule = getOrInsertCSSRule(\n    this.shadowRoot,\n    '[part~=\"preview-box\"]'\n  );\n  const rects = __privateMethod(this, _getElementRects, getElementRects_fn).call(this, __privateGet(this, _previewBox));\n  let pointerRatio = (evt.clientX - rects.range.left) / rects.range.width;\n  pointerRatio = Math.max(0, Math.min(1, pointerRatio));\n  const boxPos = __privateMethod(this, _getBoxPosition, getBoxPosition_fn).call(this, rects, pointerRatio);\n  const boxShift = __privateMethod(this, _getBoxShiftPosition, getBoxShiftPosition_fn).call(this, rects, pointerRatio);\n  previewRailRule.style.transform = `translateX(${boxPos})`;\n  previewRailRule.style.setProperty(\"--_range-width\", `${rects.range.width}`);\n  previewBoxRule.style.setProperty(\"--_box-shift\", `${boxShift}`);\n  previewBoxRule.style.setProperty(\"--_box-width\", `${rects.box.width}px`);\n  const diff = Math.round(__privateGet(this, _previewTime)) - Math.round(pointerRatio * duration);\n  if (Math.abs(diff) < 1 && pointerRatio > 0.01 && pointerRatio < 0.99)\n    return;\n  __privateSet(this, _previewTime, pointerRatio * duration);\n  __privateMethod(this, _previewRequest, previewRequest_fn).call(this, __privateGet(this, _previewTime));\n};\n_previewRequest = new WeakSet();\npreviewRequest_fn = function(detail) {\n  this.dispatchEvent(\n    new globalThis.CustomEvent(MediaUIEvents.MEDIA_PREVIEW_REQUEST, {\n      composed: true,\n      bubbles: true,\n      detail\n    })\n  );\n};\n_seekRequest = new WeakSet();\nseekRequest_fn = function() {\n  __privateGet(this, _animation).stop();\n  const detail = calcTimeFromRangeValue(this);\n  this.dispatchEvent(\n    new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n      composed: true,\n      bubbles: true,\n      detail\n    })\n  );\n};\nMediaTimeRange.shadowRootOptions = { mode: \"open\" };\nMediaTimeRange.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-time-range\")) {\n  globalThis.customElements.define(\"media-time-range\", MediaTimeRange);\n}\nvar media_time_range_default = MediaTimeRange;\nexport {\n  media_time_range_default as default\n};\n", "import { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaChromeRange } from \"./media-chrome-range.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getNumericAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setNumericAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nconst DEFAULT_VOLUME = 1;\nconst toVolume = (el) => {\n  if (el.mediaMuted)\n    return 0;\n  return el.mediaVolume;\n};\nconst formatAsPercentString = (value) => `${Math.round(value * 100)}%`;\nclass MediaVolumeRange extends MediaChromeRange {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_VOLUME,\n      MediaUIAttributes.MEDIA_MUTED,\n      MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE\n    ];\n  }\n  constructor() {\n    super();\n    this.range.addEventListener(\"input\", () => {\n      const detail = this.range.value;\n      const evt = new globalThis.CustomEvent(\n        MediaUIEvents.MEDIA_VOLUME_REQUEST,\n        {\n          composed: true,\n          bubbles: true,\n          detail\n        }\n      );\n      this.dispatchEvent(evt);\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.range.setAttribute(\"aria-label\", t(\"volume\"));\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_VOLUME || attrName === MediaUIAttributes.MEDIA_MUTED) {\n      this.range.valueAsNumber = toVolume(this);\n      this.range.setAttribute(\n        \"aria-valuetext\",\n        formatAsPercentString(this.range.valueAsNumber)\n      );\n      this.updateBar();\n    }\n  }\n  /**\n   *\n   */\n  get mediaVolume() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, DEFAULT_VOLUME);\n  }\n  set mediaVolume(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, value);\n  }\n  /**\n   * Is the media currently muted\n   */\n  get mediaMuted() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED);\n  }\n  set mediaMuted(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED, value);\n  }\n  /**\n   * The volume unavailability state\n   */\n  get mediaVolumeUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE);\n  }\n  set mediaVolumeUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE, value);\n  }\n}\nif (!globalThis.customElements.get(\"media-volume-range\")) {\n  globalThis.customElements.define(\"media-volume-range\", MediaVolumeRange);\n}\nvar media_volume_range_default = MediaVolumeRange;\nexport {\n  media_volume_range_default as default\n};\n"],
  "mappings": "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",
  "names": ["_a", "_a", "CustomEvent", "Document", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "getTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_a", "t", "_a", "_a", "Document", "_a", "Document", "volumeSupported", "_a", "_a2", "Document", "stateMediator", "_a", "stateMediator", "requestMap", "_a", "_a2", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "__privateMethod", "Attributes", "_a", "Document", "MEDIA_UI_ATTRIBUTE_NAMES", "observedAttributes", "observer", "Attributes", "getTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "__privateMethod", "_mediaController", "Attributes", "getTemplateHTML", "_a", "getSlotTemplateHTML", "getTooltipContentHTML", "getSlotTemplateHTML", "getTooltipContentHTML", "getSlotTemplateHTML", "getTooltipContentHTML", "updateAriaLabel", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "__privateMethod", "getTemplateHTML", "getSlotTemplateHTML", "Attributes", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "__privateMethod", "_mediaController", "_handlePointerUp", "handlePointerUp_fn", "_handlePointerMove", "handlePointerMove_fn", "getTemplateHTML", "_a", "Document", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_mediaController", "getTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_mediaController", "getTemplateHTML", "getSlotTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "getSlotTemplateHTML", "_a", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "getSlotTemplateHTML", "_a", "getSlotTemplateHTML", "getTooltipContentHTML", "updateAriaLabel", "getSlotTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_mediaController", "Attributes", "getTemplateHTML", "_a", "delay", "getSlotTemplateHTML", "getTooltipContentHTML", "updateAriaLabel", "getSlotTemplateHTML", "getTooltipContentHTML", "updateAriaLabel", "__accessCheck", "__privateGet", "__privateAdd", "Attributes", "getSlotTemplateHTML", "getTooltipContentHTML", "_a", "getSlotTemplateHTML", "getTooltipContentHTML", "updateAriaLabel", "Attributes", "getTemplateHTML", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_slot", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_mediaController", "getTemplateHTML", "_a", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_slot", "Attributes", "DEFAULT_SEEK_OFFSET", "getSlotTemplateHTML", "getTooltipContentHTML", "Attributes", "DEFAULT_SEEK_OFFSET", "getSlotTemplateHTML", "getTooltipContentHTML", "DEFAULT_TIME", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "_slot", "Attributes", "ButtonPressedKeys", "_a", "getSlotTemplateHTML", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "fps", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "__privateMethod", "_handlePointerMove", "handlePointerMove_fn", "DEFAULT_MISSING_TIME_PHRASE", "updateAriaValueText", "getTemplateHTML", "_a"]
}
